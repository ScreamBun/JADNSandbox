"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[998],{5559:(e,a,t)=>{t.d(a,{Z:()=>Z});var l,n=t(2928),o=t(5861),s=t(4687),i=t.n(s),c=t(7294),d=t(4858),r=t(9569),u=t(743),m=t(897),v=t(7921),f=t(9417),p=t(982),g=t(9460);const Z=(0,c.forwardRef)((function(e,a){var t=(0,u.I0)(),s=e.customClass,Z=e.opts,b=e.selectedOpt,h=e.loadedFileData,y=e.setSelectedFile,N=e.placeholder,S=e.loc,x=e.acceptableExt,F=e.onCancelFileUpload,C=e.onFileChange,D=e.isSaveable,w=e.fileName,E=e.fileExt,k=void 0===E?g.yA:E;return c.createElement(c.Fragment,null,(0,n.Z)("div",{className:"d-flex + ".concat(s)},void 0,(0,n.Z)(r.ZP,{id:"file-select",data:Z,onChange:function(e){var l;null!=e?"file"==e.value?(a.current.value="",null===(l=a.current)||void 0===l||l.click()):t((0,m.xl)(S,e.value)).then(function(){var a=(0,o.Z)(i().mark((function a(t){var l;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.error){a.next=3;break}return(0,v.gz)(t.payload.response),a.abrupt("return");case 3:l=t.payload.data,C(l,e);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){(0,v.gz)(e.payload.data),C()})):F(null)},placeholder:N,loc:S,value:b,isGrouped:!0,isFileUploader:!0,isSmStyle:!0,isClearable:!0}),D&&(0,n.Z)(d.Z,{buttonId:"saveFile",toolTip:"Save as..",data:h,loc:S,customClass:"float-end ms-1",filename:null==w?void 0:w.name,ext:k,setDropdown:y})),(0,n.Z)("div",{className:"d-none"},void 0,c.createElement("input",{type:"file",id:"file-input",name:"file-input",accept:x,onChange:function(e){if(e.preventDefault(),e.target.files&&0!=e.target.files.length){var a=e.target.files[0],t=new FileReader;t.onload=function(e){if(e.target){var t=e.target.result;C(t,{value:a.name,label:a.name})}},t.readAsText(a)}},ref:a}),(0,n.Z)("button",{id:"cancelFileUpload",type:"button",className:"btn btn-sm btn-secondary ms-0",onClick:function(){return F},style:{display:"inline"}},void 0,l||(l=(0,n.Z)(p.G,{icon:f.g82})))))}))},5188:(e,a,t)=>{t.d(a,{Z:()=>r});var l,n,o=t(2928),s=t(7294),i=t(1144),c=t(982),d=t(9417);const r=function(e){var a=e.buttonId,t=e.buttonTxt,r=e.customClass,u=e.isLoading,m=e.isDisabled,v=e.buttonTitle,f=e.formId;return s.createElement(s.Fragment,null,u?l||(l=(0,o.Z)(i.Z,{color:"success"})):(0,o.Z)("button",{id:a||"submitBtn",type:"submit",form:f,title:v||"Submit",className:"btn btn-sm btn-success border-0 hoverSubmit "+r,disabled:m},void 0,(0,o.Z)("span",{},void 0,t||"Submit"),n||(n=(0,o.Z)(c.G,{icon:d.XCy}))))}},2016:(e,a,t)=>{t.d(a,{Z:()=>p});var l,n,o,s=t(2928),i=t(9417),c=t(982),d=t(897),r=t(7294),u=t(743),m=t(7921),v=t(6477),f=t(9460);const p=function(e){var a=e.isValid,t=e.setIsValid,p=e.setIsValidating,g=e.schemaData,Z=e.schemaFormat,b=e.customClass,h=(0,u.I0)(),y=function(e){try{h((0,v.Fv)(e,f.yA)).then((function(a){1==a.payload.valid_bool?(t(!0),h((0,d.LN)(e)),(0,m.T9)(a.payload.valid_msg)):(h((0,d.LN)(null)),(0,m.gz)(a.payload.valid_msg))})).catch((function(e){h((0,d.LN)(null)),(0,m.gz)(e.payload.valid_msg)})).finally((function(){p(!1)}))}catch(e){e instanceof Error&&(h((0,d.LN)(null)),p(!1),(0,m.gz)(e.message))}},N=function(e){try{h((0,v.Fv)(e,f.uR)).then((function(a){1==a.payload.valid_bool?(t(!0),h((0,d.LN)(e)),(0,m.T9)(a.payload.valid_msg)):(h((0,d.LN)(null)),(0,m.gz)(a.payload.valid_msg))})).catch((function(e){h((0,d.LN)(null)),(0,m.gz)(e.payload.valid_msg)})).finally((function(){p(!1)}))}catch(e){e instanceof Error&&((0,m.gz)(e.message),p(!1),(0,m.gz)(e.message))}};return r.createElement(r.Fragment,null,(0,s.Z)("button",{id:"validateJADNButton",type:"button",className:"btn btn-sm btn-primary ms-1 me-1 + ".concat(b),title:a?"Schema is valid":"Click to validate Schema",onClick:function(e){if(e.preventDefault(),(0,m.wu)(),t(!1),!g)return(0,m.gz)("Validation Error: No Schema to validate"),void p(!1);p(!0);var a=g;if("string"==typeof a)try{a=JSON.parse(a)}catch(e){return(0,m.gz)("Invalid JSON: ".concat(e.message)),void p(!1)}Z==f.uR?N(a):y(a),p(!1)}},void 0,l||(l=(0,s.Z)("span",{className:"m-1"},void 0,"Valid")),a?n||(n=(0,s.Z)("span",{className:"badge rounded-pill text-bg-success"},void 0,(0,s.Z)(c.G,{icon:i.LEp}))):o||(o=(0,s.Z)("span",{className:"badge rounded-pill text-bg-danger"},void 0,(0,s.Z)(c.G,{icon:i.g82})))))}},5388:(e,a,t)=>{t.d(a,{Z:()=>_});var l,n=t(2928),o=t(5861),s=t(885),i=t(4687),c=t.n(i),d=t(7294),r=t(743),u=t(3519),m=t(897),v=t(3194),f=t(6477),p=t(9460),g=t(3432),Z=t(7921),b=t(500),h=t(9569),y=t(1144),N=t(982),S=t(9417),x=t(6683);const F=function(e){var a=e.ext,t=e.data,o=e.customClass,s=e.handleFormatClick;return d.createElement(d.Fragment,null,(0,n.Z)("button",{id:"formatButton",type:"button",className:"btn btn-sm btn-primary "+o,onClick:function(e){if(e.preventDefault(),t)try{var l=t;"string"==typeof t&&(l=JSON.parse(l)),a==p.yA&&(l=(0,x.ny)(l)),s(l)}catch(e){return void(0,Z.gz)("Failed to format: Invalid JSON")}else(0,Z.gz)("Format Error: No Schema to format")},title:"Format"},void 0,l||(l=(0,n.Z)(N.G,{icon:S.s$_}))))};var C,D,w=t(2325),E=t(2016),k=t(5559);const _=function(e){var a=(0,r.I0)(),t=e.selectedFile,l=e.setSelectedFile,i=e.loadedSchema,N=e.setLoadedSchema,S=e.decodeMsg,x=e.setDecodeMsg,_=e.setDecodeSchemaTypes,z=e.acceptFormat,L=e.schemaFormat,I=e.setSchemaFormat,O=(0,d.useState)(!1),T=(0,s.Z)(O,2),M=T[0],R=T[1],V=(0,d.useState)(!1),A=(0,s.Z)(V,2),J=A[0],j=A[1],G=(0,d.useState)(!1),P=(0,s.Z)(G,2),U=P[0],B=P[1],W=(0,d.useState)({name:"",ext:p.yA}),X=(0,s.Z)(W,2),q=X[0],H=X[1],$=(0,r.v9)(u._r),K=(0,r.v9)(v.um),Q=(0,d.useRef)(null);(0,d.useEffect)((function(){q.ext&&I({value:q.ext,label:q.ext})}),[q]),(0,d.useEffect)((function(){i||(R(!1),l(null),I(null))}),[i]),(0,d.useEffect)((function(){a((0,m.um)())}),[a]);var Y=function(e){var a={all:[],exports:[]},t="";if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}void 0!==e.info&&void 0!==e.info.exports&&(a.exports=e.info.exports),void 0!==e.types&&(a.all=e.types.map((function(e){return e[0]})),a.all=a.all.filter((function(e){return!a.exports.includes(e)})),a.all.sort()),null!==S&&a.all.includes(S)||(a.exports.length>=1?t=a.exports[0]:a.all.length>=1&&(t=a.all[0])),_(a),x({value:t,label:t})},ee=function(){var e=(0,o.Z)(c().mark((function e(t,n){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!1),B(!0),t&&n){l(n),o={name:(0,g.uP)(n.label),ext:(0,g.B_)(n.label)},H(o),N(t);try{a((0,f.Fv)(t,o.ext)).then((function(e){1==e.payload.valid_bool?(R(!0),"string"==typeof t&&(t=JSON.parse(t)),a((0,m.LN)(t)),(0,Z.T9)(e.payload.valid_msg)):((0,Z.gz)(e.payload.valid_msg),a((0,m.LN)(null)))})).catch((function(e){(0,Z.gz)(e.payload.valid_msg),a((0,m.LN)(null))})).finally((function(){j(!1)}))}catch(e){e instanceof Error&&(j(!1),(0,Z.gz)(e.message))}_&&x&&Y(t)}B(!1);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return(0,n.Z)("div",{className:"card"},void 0,(0,n.Z)("div",{className:"card-header p-2"},void 0,(0,n.Z)("div",{className:"row no-gutters"},void 0,(0,n.Z)("div",{className:"col-lg-6 align-self-center"},void 0,d.createElement(k.Z,{opts:$,selectedOpt:t,loadedFileData:i,fileName:q,fileExt:null==L?void 0:L.value,setSelectedFile:l,onCancelFileUpload:function(e){e&&e.preventDefault(),(0,Z.wu)(),B(!1),j(!1),R(!1),N(null),a((0,m.LN)(null)),l(null),H({name:"",ext:p.yA}),Q.current&&(Q.current.value=""),_&&x&&(x(null),_([]))},onFileChange:ee,acceptableExt:z,ref:Q,placeholder:"Select a schema...",loc:"schemas",isSaveable:!0})),z&&(0,n.Z)("div",{className:"col-lg-3 align-self-center"},void 0,(0,n.Z)(h.ZP,{id:"schema-format-list",data:K,onChange:function(e){return I(e)},value:L,placeholder:"Schema format...",isSmStyle:!0,isClearable:!0})),(0,n.Z)("div",{className:"col text-end align-self-center nowrap"},void 0,J?C||(C=(0,n.Z)(y.Z,{action:"Validating",color:"primary"})):(0,n.Z)(E.Z,{isValid:M,setIsValid:R,setIsValidating:j,schemaData:i,schemaFormat:null==L?void 0:L.value}),(0,n.Z)(b.Z,{buttonId:"copySchema",data:i,customClass:"me-1"}),(0,n.Z)(F,{customClass:"me-1",handleFormatClick:function(e){e&&N(e)},ext:null==L?void 0:L.value,data:i})))),(0,n.Z)("div",{className:"card-body-page"},void 0,U?D||(D=(0,n.Z)(y.Z,{action:"Loading",isDiv:!0})):(0,n.Z)(w.Z,{data:i||"",onChange:function(e){(0,Z.wu)(),R(!1),N(e),a((0,m.LN)(null));try{_&&x&&Y(JSON.parse(e))}catch(e){return}}})))}},6998:(e,a,t)=>{t.r(a),t.d(a,{default:()=>k});var l=t(2928),n=t(1002),o=t(885),s=t(7294),i=t(743),c=t(405),d=t(5861),r=t(4687),u=t.n(r),m=t(6683),v=t(3519),f=t(7921),p=t(500),g=t(2325),Z=t(9250),b=t(4858),h=t(9569),y=t(3432),N=t(9460),S=t(5559),x=t(5188);const F=function(e){var a=(0,Z.TH)(),t=e.selectedFile,n=e.setSelectedFile,c=e.loadedMsg,r=e.setLoadedMsg,F=e.msgFormat,C=e.setMsgFormat,D=e.decodeSchemaTypes,w=e.decodeMsg,E=e.setDecodeMsg,k=e.isLoading,_=e.formId,z=(0,i.v9)(v.jl),L=(0,s.useState)({name:"",ext:N.yA}),I=(0,o.Z)(L,2),O=I[0],T=I[1],M=(0,i.v9)(v.X2),R=(0,i.v9)(v.k8),V=(0,s.useRef)(null);(0,s.useEffect)((function(){if(a.state){var e=Object.values(R).indexOf(a.state);C({value:Object.values(R)[e],label:Object.values(R)[e]})}}),[]);var A=function(){var e=(0,d.Z)(u().mark((function e(a,t){var l,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}if(n(t),l={name:(0,y.uP)(t.label),ext:(0,y.B_)(t.label)||N.uR},T(l),!a){e.next=10;break}l.ext==N.yA?C({value:N.uR,label:N.uR}):C({value:l.ext,label:l.ext}),(o=(0,m.WU)(a,l.ext,2)).startsWith("Error")?r(a):r(o),e.next=16;break;case 10:e.t0=l.ext,e.next="cbor"===e.t0?13:15;break;case 13:return a=(0,m.Rn)((0,m.eG)(a)),e.abrupt("break",16);case 15:(0,f.gz)("File cannot be loaded: Invalid JSON");case 16:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return(0,l.Z)("div",{className:"card"},void 0,(0,l.Z)("div",{className:"card-header p-2"},void 0,(0,l.Z)("div",{className:"row no-gutters"},void 0,(0,l.Z)("div",{className:"col-sm-8"},void 0,(0,l.Z)("div",{className:"d-flex"},void 0,s.createElement(S.Z,{customClass:"me-1",opts:M,selectedOpt:t,fileName:O,setSelectedFile:n,onCancelFileUpload:function(e){e&&e.preventDefault(),n(""),T({name:"",ext:N.yA}),r(""),V.current&&(V.current.value="")},onFileChange:A,acceptableExt:".json, .cbor, .xml",ref:V,placeholder:"Select a data file...",loc:"messages"}),(0,l.Z)(h.ZP,{id:"data-format-list",customClass:"me-1",data:R,onChange:function(e){return C(e)},value:F,placeholder:"Data format...",isSmStyle:!0,isClearable:!0}),(0,l.Z)(h.ZP,{id:"data-decode-list",customClass:"me-1",data:D.exports,onChange:function(e){return E(e)},value:w,placeholder:"Data type...",isSmStyle:!0,isClearable:!0,customNoOptionMsg:"Select a schema to begin"}))),(0,l.Z)("div",{className:"col-sm-4 align-self-center"},void 0,(0,l.Z)("div",{className:"d-flex float-end"},void 0,(0,l.Z)(x.Z,{buttonId:"validateSchema",buttonTitle:"Validate the data against the given schema",buttonTxt:"Validate",customClass:"me-1 float-end",isLoading:k,formId:_,isDisabled:!(0!=Object.keys(z).length&&c&&w&&F)}),(0,l.Z)(p.Z,{buttonId:"copyData",data:c,customClass:"float-end me-1"}),(0,l.Z)(b.Z,{data:c,loc:"messages",customClass:"float-end",filename:O.name,ext:F?F.value:N.uR,setDropdown:n}))))),(0,l.Z)("div",{className:"card-body-page"},void 0,(0,l.Z)(g.Z,{data:c,convertTo:F?F.value:"",onChange:function(e){r(e)}})))};var C,D=t(6477),w=t(897),E=t(5388);const k=function(){var e=(0,i.I0)(),a=(0,s.useState)(!1),t=(0,o.Z)(a,2),d=t[0],r=t[1],u=(0,s.useState)(null),m=(0,o.Z)(u,2),p=m[0],g=m[1],Z=(0,s.useState)(null),b=(0,o.Z)(Z,2),h=b[0],y=b[1],N=(0,s.useState)(null),S=(0,o.Z)(N,2),x=S[0],k=S[1],_=(0,s.useState)(""),z=(0,o.Z)(_,2),L=z[0],I=z[1],O=(0,s.useState)(""),T=(0,o.Z)(O,2),M=T[0],R=T[1],V=(0,s.useState)(null),A=(0,o.Z)(V,2),J=A[0],j=A[1],G=(0,s.useState)(null),P=(0,o.Z)(G,2),U=P[0],B=P[1],W=(0,s.useState)({all:[],exports:[]}),X=(0,o.Z)(W,2),q=X[0],H=X[1],$=(0,i.v9)(v.pz)+" | Data Validation",K="".concat(window.location.origin).concat(window.location.pathname),Q="validation_form";(0,s.useEffect)((function(){e((0,w.um)()),(0,f.wu)()}),[e]);return(0,l.Z)("div",{},void 0,(0,l.Z)(c.ql,{},void 0,(0,l.Z)("title",{},void 0,$),(0,l.Z)("link",{rel:"canonical",href:K})),(0,l.Z)("div",{className:"row"},void 0,(0,l.Z)("div",{className:"col-md-12"},void 0,(0,l.Z)("div",{className:"card"},void 0,(0,l.Z)("div",{className:"card-header bg-secondary p-2"},void 0,(0,l.Z)("h5",{className:"m-0",style:{display:"inline"}},void 0,C||(C=(0,l.Z)("span",{className:"align-middle"},void 0,"Data Validation"))),(0,l.Z)("button",{type:"reset",className:"btn btn-sm btn-danger float-end",onClick:function(a){a.preventDefault(),(0,f.wu)(),r(!1),g(null),k(null),I(""),R(""),j(null),B(null),H({all:[],exports:[]}),e((0,w.LN)(null))}},void 0,"Reset")),(0,l.Z)("div",{className:"card-body p-2"},void 0,(0,l.Z)("form",{id:Q,onSubmit:function(a){if(a.preventDefault(),r(!0),x&&M&&J&&U)try{e((0,D.Nj)(x,M,J.value,U.value)).then((function(e){if(e&&e.payload.valid_bool)r(!1),(0,f.T9)(e.payload.valid_msg);else if(1!=e.payload.valid_msg.length&&"object"==(0,n.Z)(e.payload.valid_msg))for(var a in r(!1),e.payload.valid_msg)(0,f.gz)(e.payload.valid_msg[a]);else r(!1),(0,f.gz)(e.payload.valid_msg)})).catch((function(e){return r(!1),(0,f.gz)(e.message),!1}))}catch(t){t instanceof Error&&(r(!1),(0,f.gz)(t.message))}else{var t="";x||(t+=" schema"),M||(t+=", data"),J||(t+=", data format"),U||(t+=", data type"),(0,f.gz)("ERROR: Validation failed - Please select "+t),r(!1)}}},void 0,(0,l.Z)("div",{className:"row"},void 0,(0,l.Z)("div",{className:"col-md-6 pr-1"},void 0,(0,l.Z)(E.Z,{selectedFile:p,setSelectedFile:g,schemaFormat:h,setSchemaFormat:y,loadedSchema:x,setLoadedSchema:k,decodeMsg:U,setDecodeMsg:B,setDecodeSchemaTypes:H})),(0,l.Z)("div",{className:"col-md-6 pl-1"},void 0,(0,l.Z)(F,{selectedFile:L,setSelectedFile:I,loadedMsg:M,setLoadedMsg:R,msgFormat:J,setMsgFormat:j,decodeMsg:U,setDecodeMsg:B,decodeSchemaTypes:q,isLoading:d,formId:Q})))))))))}}}]);
//# sourceMappingURL=998.bundle.min.js.map