"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[710],{5589:(e,t,n)=>{n.d(t,{Z:()=>P});var a,o,l,i,c,s,d,r=n(2928),u=n(2167),m=n(885),v=n(7294),f=n(500),h=n(2325),p=n(9417),b=n(982),Z=n(9460),g=n(5563),y=n(4808),w=n(5397),N=n(8224),S=n(3820),C=n(7921),O=n(4145);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,l=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw l}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const P=function(e){var t,n=e.data,x=e.pumlURL,k=e.setPumlURL,P=e.loadedSchema,z=(0,v.useState)({}),E=(0,m.Z)(z,2),T=E[0],I=E[1];(0,v.useEffect)((function(){var e,t=D(n);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.fmt_ext==Z.p$&&k((0,N.Y)(a.schema)),a.fmt_ext==Z.Mn&&(0,g.Ph)(a.schema)}}catch(e){t.e(e)}finally{t.f()}}),[n]);var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{var n=window.open(t);e&&(null==n||n.document.write("<html><body><pre>"+e+"</pre></body></html>"))}catch(e){(0,C.gz)("Error: Unable to open data in pop out.")}},j=n.map((function(e,n){return 0==e.err&&(0,r.Z)("div",{className:"card"},n,(0,r.Z)("div",{className:"card-header"},void 0,(0,r.Z)("h5",{className:"mb-0 align-self-center"},void 0,(0,r.Z)("button",{id:"toggleMsg#".concat(n),type:"button",className:"btn btn-link",onClick:function(){return e=n,void I((function(t){return F(F({},t),{},(0,u.Z)({},e,!t[e]))}));var e}},void 0,e.fmt),(0,r.Z)(f.Z,{buttonId:"copy".concat(n),data:e.schema,customClass:"float-end"}),(0,r.Z)(S.ZP,{buttonId:"download".concat(n),customClass:"me-1 float-end",data:e.schema,ext:e.fmt_ext}),e.fmt_ext==Z.zh&&v.createElement(v.Fragment,null,a||(a=(0,r.Z)(O.Z,{buttonId:"jadnBaseTypesDownload",buttonTitle:"Download JADN Base Types Schema",fileName:"jadn_base_types.xsd",customClass:"me-1 float-end"}))),e.fmt_ext==Z.$0&&v.createElement(v.Fragment,null,(0,r.Z)(S.ZP,{buttonId:"download".concat(n,"AsHTML"),customClass:"me-1 float-end",data:P,ext:Z.X1}),(0,r.Z)("button",{id:"htmlPopOut",type:"button",title:"View Schema in new window",className:"btn btn-sm btn-primary me-1 float-end",onClick:function(){return(0,y.k)(e.schema)}},void 0,o||(o=(0,r.Z)(b.G,{icon:p.iAX})))),e.fmt_ext==Z.n&&v.createElement(v.Fragment,null,(0,r.Z)(S.ZP,{buttonId:"download".concat(n,"AsMD"),customClass:"me-1 float-end",data:P,ext:Z.X1}),(0,r.Z)("button",{id:"mdPopOut",type:"button",title:"View Schema in new window",className:"btn btn-sm btn-primary me-1 float-end",onClick:function(){return(0,w.s)(e.schema)}},void 0,l||(l=(0,r.Z)(b.G,{icon:p.iAX})))),e.fmt_ext==Z._o&&v.createElement(v.Fragment,null,(0,r.Z)("button",{id:"jidlPopOut",type:"button",title:"View Schema in new window",className:"btn btn-sm btn-primary me-1 float-end",onClick:function(){return L(e.schema)}},void 0,i||(i=(0,r.Z)(b.G,{icon:p.iAX})))),e.fmt_ext==Z.p$&&v.createElement(v.Fragment,null,t||(t=(0,r.Z)(S.ZP,{buttonId:"pumlPngDownload",customClass:"me-1 float-end",data:x,ext:Z.dK})),(0,r.Z)("button",{id:"pumlPopOut",type:"button",title:"View Schema in new window",className:"btn btn-sm btn-primary me-1 float-end",onClick:function(){return L("",x)}},void 0,c||(c=(0,r.Z)(b.G,{icon:p.iAX})))),e.fmt_ext==Z.Mn&&v.createElement(v.Fragment,null,s||(s=(0,r.Z)(S.ZP,{buttonId:"gvSvgDownload",customClass:"me-1 float-end",ext:Z.Tx})),d||(d=(0,r.Z)("button",{id:"gvPopOut",type:"button",title:"View Schema in new window",className:"btn btn-sm btn-primary me-1 float-end",onClick:g.lK},void 0,(0,r.Z)(b.G,{icon:p.iAX})))))),1==T[n]?(0,r.Z)("div",{className:"card-body"},n,(0,r.Z)(h.Z,{data:e.schema,isReadOnly:!0,height:"35vh"})):"")}));return(0,r.Z)("div",{className:"card-body-page"},void 0,j,(0,r.Z)("div",{id:"fullGV",style:{visibility:"hidden",overflow:"hidden"}}))}},3820:(e,t,n)=>{n.d(t,{ZP:()=>N});var a,o,l,i,c,s,d,r=n(2928),u=n(1002),m=n(885),v=n(7294),f=n(9417),h=n(982),p=n(7921),b=n(1144),Z=n(6683),g=n(3162),y=n.n(g),w=n(9460);const N=function(e){var t,n=e.buttonId,g=e.data,N=e.customClass,S=e.filename,C=e.ext,O=void 0===C?w.yA:C,x=(0,v.useState)(S),F=(0,m.Z)(x,2),D=F[0],k=F[1],P=(0,v.useState)(!1),z=(0,m.Z)(P,2),E=z[0],T=z[1],I=(0,v.useState)(!1),L=(0,m.Z)(I,2),j=L[0],_=L[1];t=O==w.X1?a||(a=(0,r.Z)(h.G,{icon:f.gSj})):O==w.Tx||O==w.dK?o||(o=(0,r.Z)(h.G,{icon:f.Oi0})):l||(l=(0,r.Z)(h.G,{icon:f.kwI}));var R=function(e,t){if(e.preventDefault(),""!=D&&null!=D)if(w.VN.test(D)){switch(t){case w.X1:!function(e){e.preventDefault();var t="".concat(D,".pdf");_(!0);try{fetch("/api/convert/pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:g})}).then((function(e){return e.blob()})).then((function(e){var n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t,document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(n.href)})).catch((function(e){console.log(e),(0,p.gz)("PDF cannot be downloaded")}))}catch(e){console.log(e),(0,p.gz)("PDF cannot be downloaded")}(0,p.T9)("PDF downloaded successfully")}(e);break;case w.Tx:!function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"graphviz";e.preventDefault();var a=null===(t=document.getElementById("fullGV"))||void 0===t?void 0:t.innerHTML;if(a){var o=new Blob([a],{type:"image/svg+xml"});y()(o,"".concat(n,".svg"))}else(0,p.gz)("Error: Unable to download GraphViz file.")}(e,D);break;case w.dK:!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plantuml";y()(e,"".concat(t,".png"))}(g,D);break;default:!function(e,t){if(e.preventDefault(),g){_(!0);try{var n="".concat(D,".").concat(t),a="object"==(0,u.Z)(g)?(0,Z.ny)(g):g,o=new Blob([a],{type:"application/json"}),l=document.createElement("a");l.href=URL.createObjectURL(o),l.download=n,document.body.appendChild(l),l.click(),setTimeout((function(){l.remove(),URL.revokeObjectURL(l.href)}),0),(0,p.T9)("File downloaded")}catch(e){console.log(e),(0,p.gz)("File cannot be downloaded")}}else(0,p.gz)("No data to download")}(e,O)}_(!1),T(!1)}else(0,p.e)("Please do not use special characters in file name.");else(0,p.e)("Please enter a file name.")};return v.createElement(v.Fragment,null,j?i||(i=(0,r.Z)(b.Z,{color:"primary"})):(0,r.Z)("button",{id:n||"downloadBtn",type:"button",title:"Download ".concat(O," File"),className:"btn btn-sm btn-primary "+N,onClick:function(e){e.preventDefault(),T(!0)}},void 0,t),(0,r.Z)("div",{id:"downloadFileModal",className:"modal fade ".concat(E?"show d-block":"d-none"),tabIndex:-1,role:"dialog"},void 0,(0,r.Z)("div",{className:"modal-dialog modal-dialog-centered",role:"document"},void 0,(0,r.Z)("div",{className:"modal-content"},void 0,(0,r.Z)("div",{className:"modal-header"},void 0,c||(c=(0,r.Z)("div",{className:"form col"},void 0,(0,r.Z)("div",{className:"form row"},void 0,(0,r.Z)("h5",{className:"modal-title"},void 0,"Download As...")),(0,r.Z)("div",{className:"form row"},void 0,(0,r.Z)("small",{className:"text-muted"},void 0," ","Download file to local computer")))),(0,r.Z)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:function(){return T(!1)}})),(0,r.Z)("div",{className:"modal-body"},void 0,(0,r.Z)("div",{className:"row"},void 0,s||(s=(0,r.Z)("label",{htmlFor:"filenameDownload",className:"col-sm-4 col-label"},void 0,"File name:")),(0,r.Z)("div",{className:"col-sm-8"},void 0,(0,r.Z)("input",{id:"filenameDownload",className:"form-control",type:"text",autoFocus:!0,value:D,onChange:function(e){k(e.target.value)}}))),(0,r.Z)("div",{className:"row"},void 0,d||(d=(0,r.Z)("label",{htmlFor:"downloadFileAsType",className:"col-sm-4 col-label"},void 0,"Save as type:")),(0,r.Z)("div",{className:"col-sm-8"},void 0,(0,r.Z)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",id:"downloadFileAsType",value:O})))),(0,r.Z)("div",{className:"modal-footer"},void 0,(0,r.Z)("button",{type:"button",className:"btn btn-sm btn-success",onClick:function(e){return R(e,O)}},void 0,"Download"),(0,r.Z)("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:function(){_(!1),T(!1)}},void 0,"Cancel")))),(0,r.Z)("div",{className:"modal-backdrop fade ".concat(E?"show":""),style:{zIndex:-1}})))}},4145:(e,t,n)=>{n.d(t,{Z:()=>m});var a,o,l=n(2928),i=n(885),c=n(7294),s=n(1144),d=n(982),r=n(9417),u=n(7921);const m=function(e){var t=e.buttonId,n=e.customClass,m=e.isDisabled,v=e.buttonTitle,f=e.fileName,h=(0,c.useState)(!1),p=(0,i.Z)(h,2),b=p[0],Z=p[1];return c.createElement(c.Fragment,null,b?a||(a=(0,l.Z)(s.Z,{color:"primary"})):(0,l.Z)("button",{id:t||"downloadFileBtn",type:"button",title:v||"Download File",className:"btn btn-sm btn-primary border-0 "+n,disabled:m,onClick:function(e){e.preventDefault(),Z(!0);try{fetch("/api/convert/download_xml",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:f})}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=f,document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(n),(0,u.T9)("".concat(f," downloaded"))})).catch((function(e){console.log(e),(0,u.gz)("".concat(f," cannot be downloaded"))})).finally((function(){Z(!1)}))}catch(e){console.log(e),(0,u.gz)("".concat(f," cannot be downloaded"))}}},void 0,o||(o=(0,l.Z)(d.G,{icon:r.w49}))))}},5559:(e,t,n)=>{n.d(t,{Z:()=>b});var a,o=n(2928),l=n(5861),i=n(4687),c=n.n(i),s=n(7294),d=n(4858),r=n(9569),u=n(743),m=n(897),v=n(7921),f=n(9417),h=n(982),p=n(9460);const b=(0,s.forwardRef)((function(e,t){var n=(0,u.I0)(),i=e.customClass,b=e.opts,Z=e.selectedOpt,g=e.loadedFileData,y=e.setSelectedFile,w=e.placeholder,N=e.loc,S=e.acceptableExt,C=e.onCancelFileUpload,O=e.onFileChange,x=e.isSaveable,F=e.fileName,D=e.fileExt,k=void 0===D?p.yA:D;return s.createElement(s.Fragment,null,(0,o.Z)("div",{className:"d-flex + ".concat(i)},void 0,(0,o.Z)(r.ZP,{id:"file-select",data:b,onChange:function(e){var a;null!=e?"file"==e.value?(t.current.value="",null===(a=t.current)||void 0===a||a.click()):n((0,m.xl)(N,e.value)).then(function(){var t=(0,l.Z)(c().mark((function t(n){var a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.error){t.next=3;break}return(0,v.gz)(n.payload.response),t.abrupt("return");case 3:a=n.payload.data,O(a,e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){(0,v.gz)(e.payload.data),O()})):C(null)},placeholder:w,loc:N,value:Z,isGrouped:!0,isFileUploader:!0,isSmStyle:!0,isClearable:!0}),x&&(0,o.Z)(d.Z,{buttonId:"saveFile",toolTip:"Save as..",data:g,loc:N,customClass:"float-end ms-1",filename:null==F?void 0:F.name,ext:k,setDropdown:y})),(0,o.Z)("div",{className:"d-none"},void 0,s.createElement("input",{type:"file",id:"file-input",name:"file-input",accept:S,onChange:function(e){if(e.preventDefault(),e.target.files&&0!=e.target.files.length){var t=e.target.files[0],n=new FileReader;n.onload=function(e){if(e.target){var n=e.target.result;O(n,{value:t.name,label:t.name})}},n.readAsText(t)}},ref:t}),(0,o.Z)("button",{id:"cancelFileUpload",type:"button",className:"btn btn-sm btn-secondary ms-0",onClick:function(){return C},style:{display:"inline"}},void 0,a||(a=(0,o.Z)(h.G,{icon:f.g82})))))}))},5188:(e,t,n)=>{n.d(t,{Z:()=>r});var a,o,l=n(2928),i=n(7294),c=n(1144),s=n(982),d=n(9417);const r=function(e){var t=e.buttonId,n=e.buttonTxt,r=e.customClass,u=e.isLoading,m=e.isDisabled,v=e.buttonTitle,f=e.formId;return i.createElement(i.Fragment,null,u?a||(a=(0,l.Z)(c.Z,{color:"success"})):(0,l.Z)("button",{id:t||"submitBtn",type:"submit",form:f,title:v||"Submit",className:"btn btn-sm btn-success border-0 hoverSubmit "+r,disabled:m},void 0,(0,l.Z)("span",{},void 0,n||"Submit"),o||(o=(0,l.Z)(s.G,{icon:d.XCy}))))}},2016:(e,t,n)=>{n.d(t,{Z:()=>h});var a,o,l,i=n(2928),c=n(9417),s=n(982),d=n(897),r=n(7294),u=n(743),m=n(7921),v=n(6477),f=n(9460);const h=function(e){var t=e.isValid,n=e.setIsValid,h=e.setIsValidating,p=e.schemaData,b=e.schemaFormat,Z=e.customClass,g=(0,u.I0)(),y=function(e){try{g((0,v.Fv)(e,f.yA)).then((function(t){1==t.payload.valid_bool?(n(!0),g((0,d.LN)(e)),(0,m.T9)(t.payload.valid_msg)):(g((0,d.LN)(null)),(0,m.gz)(t.payload.valid_msg))})).catch((function(e){g((0,d.LN)(null)),(0,m.gz)(e.payload.valid_msg)})).finally((function(){h(!1)}))}catch(e){e instanceof Error&&(g((0,d.LN)(null)),h(!1),(0,m.gz)(e.message))}},w=function(e){try{g((0,v.Fv)(e,f.uR)).then((function(t){1==t.payload.valid_bool?(n(!0),g((0,d.LN)(e)),(0,m.T9)(t.payload.valid_msg)):(g((0,d.LN)(null)),(0,m.gz)(t.payload.valid_msg))})).catch((function(e){g((0,d.LN)(null)),(0,m.gz)(e.payload.valid_msg)})).finally((function(){h(!1)}))}catch(e){e instanceof Error&&((0,m.gz)(e.message),h(!1),(0,m.gz)(e.message))}};return r.createElement(r.Fragment,null,(0,i.Z)("button",{id:"validateJADNButton",type:"button",className:"btn btn-sm btn-primary ms-1 me-1 + ".concat(Z),title:t?"Schema is valid":"Click to validate Schema",onClick:function(e){if(e.preventDefault(),(0,m.wu)(),n(!1),!p)return(0,m.gz)("Validation Error: No Schema to validate"),void h(!1);h(!0);var t=p;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){return(0,m.gz)("Invalid JSON: ".concat(e.message)),void h(!1)}b==f.uR?w(t):y(t),h(!1)}},void 0,a||(a=(0,i.Z)("span",{className:"m-1"},void 0,"Valid")),t?o||(o=(0,i.Z)("span",{className:"badge rounded-pill text-bg-success"},void 0,(0,i.Z)(s.G,{icon:c.LEp}))):l||(l=(0,i.Z)("span",{className:"badge rounded-pill text-bg-danger"},void 0,(0,i.Z)(s.G,{icon:c.g82})))))}},5388:(e,t,n)=>{n.d(t,{Z:()=>P});var a,o=n(2928),l=n(5861),i=n(885),c=n(4687),s=n.n(c),d=n(7294),r=n(743),u=n(3519),m=n(897),v=n(3194),f=n(6477),h=n(9460),p=n(3432),b=n(7921),Z=n(500),g=n(9569),y=n(1144),w=n(982),N=n(9417),S=n(6683);const C=function(e){var t=e.ext,n=e.data,l=e.customClass,i=e.handleFormatClick;return d.createElement(d.Fragment,null,(0,o.Z)("button",{id:"formatButton",type:"button",className:"btn btn-sm btn-primary "+l,onClick:function(e){if(e.preventDefault(),n)try{var a=n;"string"==typeof n&&(a=JSON.parse(a)),t==h.yA&&(a=(0,S.ny)(a)),i(a)}catch(e){return void(0,b.gz)("Failed to format: Invalid JSON")}else(0,b.gz)("Format Error: No Schema to format")},title:"Format"},void 0,a||(a=(0,o.Z)(w.G,{icon:N.s$_}))))};var O,x,F=n(2325),D=n(2016),k=n(5559);const P=function(e){var t=(0,r.I0)(),n=e.selectedFile,a=e.setSelectedFile,c=e.loadedSchema,w=e.setLoadedSchema,N=e.decodeMsg,S=e.setDecodeMsg,P=e.setDecodeSchemaTypes,z=e.acceptFormat,E=e.schemaFormat,T=e.setSchemaFormat,I=(0,d.useState)(!1),L=(0,i.Z)(I,2),j=L[0],_=L[1],R=(0,d.useState)(!1),V=(0,i.Z)(R,2),A=V[0],G=V[1],U=(0,d.useState)(!1),X=(0,i.Z)(U,2),B=X[0],M=X[1],J=(0,d.useState)({name:"",ext:h.yA}),$=(0,i.Z)(J,2),K=$[0],Y=$[1],H=(0,r.v9)(u._r),q=(0,r.v9)(v.um),W=(0,d.useRef)(null);(0,d.useEffect)((function(){K.ext&&T({value:K.ext,label:K.ext})}),[K]),(0,d.useEffect)((function(){c||(_(!1),a(null),T(null))}),[c]),(0,d.useEffect)((function(){t((0,m.um)())}),[t]);var Q=function(e){var t={all:[],exports:[]},n="";if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}void 0!==e.info&&void 0!==e.info.exports&&(t.exports=e.info.exports),void 0!==e.types&&(t.all=e.types.map((function(e){return e[0]})),t.all=t.all.filter((function(e){return!t.exports.includes(e)})),t.all.sort()),null!==N&&t.all.includes(N)||(t.exports.length>=1?n=t.exports[0]:t.all.length>=1&&(n=t.all[0])),P(t),S({value:n,label:n})},ee=function(){var e=(0,l.Z)(s().mark((function e(n,o){var l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!1),M(!0),n&&o){a(o),l={name:(0,p.uP)(o.label),ext:(0,p.B_)(o.label)},Y(l),w(n);try{t((0,f.Fv)(n,l.ext)).then((function(e){1==e.payload.valid_bool?(_(!0),"string"==typeof n&&(n=JSON.parse(n)),t((0,m.LN)(n)),(0,b.T9)(e.payload.valid_msg)):((0,b.gz)(e.payload.valid_msg),t((0,m.LN)(null)))})).catch((function(e){(0,b.gz)(e.payload.valid_msg),t((0,m.LN)(null))})).finally((function(){G(!1)}))}catch(e){e instanceof Error&&(G(!1),(0,b.gz)(e.message))}P&&S&&Q(n)}M(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,o.Z)("div",{className:"card"},void 0,(0,o.Z)("div",{className:"card-header p-2"},void 0,(0,o.Z)("div",{className:"row no-gutters"},void 0,(0,o.Z)("div",{className:"col-lg-6 align-self-center"},void 0,d.createElement(k.Z,{opts:H,selectedOpt:n,loadedFileData:c,fileName:K,fileExt:null==E?void 0:E.value,setSelectedFile:a,onCancelFileUpload:function(e){e&&e.preventDefault(),(0,b.wu)(),M(!1),G(!1),_(!1),w(null),t((0,m.LN)(null)),a(null),Y({name:"",ext:h.yA}),W.current&&(W.current.value=""),P&&S&&(S(null),P([]))},onFileChange:ee,acceptableExt:z,ref:W,placeholder:"Select a schema...",loc:"schemas",isSaveable:!0})),z&&(0,o.Z)("div",{className:"col-lg-3 align-self-center"},void 0,(0,o.Z)(g.ZP,{id:"schema-format-list",data:q,onChange:function(e){return T(e)},value:E,placeholder:"Schema format...",isSmStyle:!0,isClearable:!0})),(0,o.Z)("div",{className:"col text-end align-self-center nowrap"},void 0,A?O||(O=(0,o.Z)(y.Z,{action:"Validating",color:"primary"})):(0,o.Z)(D.Z,{isValid:j,setIsValid:_,setIsValidating:G,schemaData:c,schemaFormat:null==E?void 0:E.value}),(0,o.Z)(Z.Z,{buttonId:"copySchema",data:c,customClass:"me-1"}),(0,o.Z)(C,{customClass:"me-1",handleFormatClick:function(e){e&&w(e)},ext:null==E?void 0:E.value,data:c})))),(0,o.Z)("div",{className:"card-body-page"},void 0,B?x||(x=(0,o.Z)(y.Z,{action:"Loading",isDiv:!0})):(0,o.Z)(F.Z,{data:c||"",onChange:function(e){(0,b.wu)(),_(!1),w(e),t((0,m.LN)(null));try{P&&S&&Q(JSON.parse(e))}catch(e){return}}})))}},5563:(e,t,n)=>{n.d(t,{Ph:()=>u,ZP:()=>v,lK:()=>m,wG:()=>r});var a,o=n(2928),l=n(7294),i=n(2043),c=n(2325),s=n(9417),d=n(982),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:320,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:920;i.f("#gv").fit(!0).height(t).width(n).zoomScaleExtent([1,10]).renderDot(e)},u=function(e){var t=window.innerWidth-20,n=window.innerHeight-20;i.f("#fullGV").fit(!0).height(n).width(t).zoom(!0).renderDot(e)},m=function(e){var t;e.preventDefault();var n=null===(t=document.getElementById("fullGV"))||void 0===t?void 0:t.innerHTML,a=window.open("");null==a||a.document.write(n||"Error: Cannot display Graphviz")};const v=function(e){var t=e.conversion,n=e.convertedSchema;return l.createElement(l.Fragment,null,(0,o.Z)(c.Z,{data:n,isReadOnly:!0,convertTo:t,height:"35vh"}),(0,o.Z)("div",{id:"content",className:"card bg-secondary",style:{height:"35vh",overflow:"hidden"}},void 0,(0,o.Z)("div",{className:"tools"},void 0,(0,o.Z)("button",{type:"button",title:"Reset",className:"btn btn-sm",onClick:function(e){e.preventDefault(),i.f("#gv").resetZoom()}},void 0,a||(a=(0,o.Z)(d.G,{icon:s.X7o})))),(0,o.Z)("div",{id:"gv",style:{height:"35vh",textAlign:"center",zIndex:"0"}}),(0,o.Z)("div",{id:"fullGV",style:{visibility:"hidden",overflow:"hidden"}})))}},4808:(e,t,n)=>{n.d(t,{Z:()=>d,k:()=>s});var a=n(2928),o=n(7294),l=n(2325),i=n(5935),c=n(7856),s=function(e){var t=c.sanitize(e,{FORCE_BODY:!0}),n=new Blob([t],{type:"text/html"}),a=URL.createObjectURL(n);window.open(a)};const d=function(e){var t=e.htmlText,n=e.showPreviewer,s=e.conversion,d="previewer "+(n?"hide":""),r=c.sanitize(t,{FORCE_BODY:!0});return o.createElement(o.Fragment,null,(0,a.Z)(l.Z,{data:t,isReadOnly:!0,convertTo:s,height:"35vh"}),(0,a.Z)("div",{className:"card bg-secondary",style:{height:"35vh",overflow:"auto"}},void 0,(0,a.Z)("div",{className:d},void 0,(0,a.Z)("div",{id:"preview",className:"previewer-content"},void 0,(0,i.ZP)(r)))))}},5397:(e,t,n)=>{n.d(t,{Z:()=>m,s:()=>u});var a=n(2928),o=n(7294),l=n(2325),i=n(7441),c=n(5935),s=n(7856);i.TU.setOptions({breaks:!0});var d=new i.TU.Renderer;function r(e){try{return(0,i.TU)(e,{renderer:d})}catch(e){return console.error("Something bad happened"),e}}d.link=function(e,t,n){return'<a target="_blank" href="'.concat(e,'">').concat(n,"</a>")};var u=function(e){var t=r(e),n=s.sanitize(t,{FORCE_BODY:!0}),a=new Blob([n],{type:"text/html"}),o=URL.createObjectURL(a);window.open(o)};const m=function(e){var t=e.markdownText,n=e.showPreviewer,i=e.conversion,d=r(t),u="previewer "+(n?"hide":""),m=s.sanitize(d,{FORCE_BODY:!0});return o.createElement(o.Fragment,null,(0,a.Z)(l.Z,{data:t,isReadOnly:!0,convertTo:i,height:"35vh"}),(0,a.Z)("div",{className:"card bg-secondary",style:{height:"35vh",overflow:"auto"}},void 0,(0,a.Z)("div",{className:u},void 0,(0,a.Z)("div",{id:"preview",className:"previewer-content"},void 0,(0,c.ZP)(m)))))}},8224:(e,t,n)=>{n.d(t,{Y:()=>m,Z:()=>v});var a,o=n(2928),l=n(7294),i=n(6126),c=n(1018),s=n.n(c),d=n(2325),r=n(982),u=n(9417),m=function(e){return"http://www.plantuml.com/plantuml/img/"+s().encode(e)};const v=function(e){var t=e.convertedSchema,n=e.conversion,c=e.data;return l.createElement(l.Fragment,null,(0,o.Z)(d.Z,{data:t,isReadOnly:!0,convertTo:n,height:"35vh"}),(0,o.Z)("div",{id:"content",className:"card bg-secondary",style:{height:"35vh"}},void 0,(0,o.Z)(i.d$,{initialScale:.5,minScale:.2},void 0,(function(e){var t=e.zoomIn,n=e.zoomOut,s=e.resetTransform;return(0,o.Z)(l.Fragment,{},void 0,(0,o.Z)("div",{className:"tools"},void 0,(0,o.Z)("button",{type:"button",className:"btn btn-sm",title:"Zoom In",onClick:function(e){e.preventDefault(),t()}},void 0,"+"),(0,o.Z)("button",{type:"button",className:"btn btn-sm",title:"Zoom Out",onClick:function(e){e.preventDefault(),n()}},void 0,"-"),(0,o.Z)("button",{type:"button",className:"btn btn-sm",title:"Reset",onClick:function(e){e.preventDefault(),s()}},void 0,a||(a=(0,o.Z)(r.G,{icon:u.X7o})))),(0,o.Z)(i.Uv,{wrapperStyle:{width:"100%",height:"100%",overflow:"auto"}},void 0,(0,o.Z)("img",{src:c,style:{width:"100%",height:"100%",objectFit:"contain"},onLoad:function(e){e.preventDefault(),s()},alt:"PlantUML preview"})))}))))}},7710:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V,initConvertedSchemaState:()=>R});var a,o,l,i,c,s,d,r=n(2928),u=n(885),m=n(7294),v=n(405),f=n(743),h=n(3519),p=n(6655),b=n(5388),Z=n(7921),g=n(2167),y=n(9250),w=n(982),N=n(9417),S=n(3194),C=n(9460),O=n(500),x=n(2325),F=n(5589),D=n(9569),k=n(3820),P=n(4808),z=n(5397),E=n(8224),T=n(5563),I=n(5188);const L=function(e){for(var t=(0,y.TH)(),n=e.conversion,v=e.setConversion,p=e.convertedSchema,b=e.setConvertedSchema,L=e.spiltViewFlag,j=e.setSplitViewFlag,_=e.isLoading,V=e.formId,A=(0,f.v9)(h.jl),G=(0,m.useState)(""),U=(0,u.Z)(G,2),X=U[0],B=U[1],M=(0,f.v9)(S.wu),J=[],$=0;$<Object.keys(M).length;$++){var K;J.push((K={},(0,g.Z)(K,"label",Object.keys(M)[$]),(0,g.Z)(K,"value",Object.values(M)[$]),K))}(0,m.useEffect)((function(){if(t.state){var e=Object.values(M).indexOf(t.state);v({value:Object.values(M)[e],label:Object.keys(M)[e]})}}),[]),(0,m.useEffect)((function(){(1==n.length?n[0].value:n)==C.p$&&0!=p.length&&B((0,E.Y)(p[0].schema)),(1==n.length?n[0].value:n)==C.Mn&&0!=p.length&&((0,T.wG)(p[0].schema),(0,T.Ph)(p[0].schema))}),[p]);return(0,r.Z)("div",{className:"card"},void 0,(0,r.Z)("div",{className:"card-header p-2"},void 0,(0,r.Z)("div",{className:"row no-gutters"},void 0,(0,r.Z)("div",{className:"col-md-6"},void 0,(0,r.Z)(D.ZP,{id:"conversion-list",data:J,onChange:function(e){for(var t=[],n=0;n<Object.values(e).length;n++)t.push(Object.values(e)[n]);v(t),b(R),j(!1)},value:n,placeholder:"Visualize to...(select at least one)",isMultiSelect:!0,isSmStyle:!0,isClearable:!0})),(0,r.Z)("div",{className:"col-md-6 align-self-center"},void 0,(0,r.Z)("div",{className:"".concat(1==n.length&&p[0].schema?"":" d-none")},void 0,(0,r.Z)(O.Z,{buttonId:"copyConvertedSchema",data:p[0].schema,customClass:"float-end"}),(0,r.Z)(k.ZP,{buttonId:"schemaDownload",customClass:"me-1 float-end".concat(p[0].schema&&n.length<=1?"":" d-none"),data:p[0].schema,ext:1==n.length?n[0].value:n}),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.$0?"":" d-none")},void 0,(0,r.Z)(k.ZP,{buttonId:"htmlPdfDownload",customClass:"me-1 float-end",data:A,ext:C.X1}),(0,r.Z)("button",{type:"button",id:"htmlPopOut",title:"View Schema in new window",className:"btn btn-primary btn-sm me-1 float-end",onClick:function(){return(0,P.k)(p[0].schema)}},void 0,a||(a=(0,r.Z)(w.G,{icon:N.iAX})))),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.n?"":" d-none")},void 0,(0,r.Z)(k.ZP,{buttonId:"mdPdfDownload",customClass:"me-1 float-end",data:A,ext:C.X1}),(0,r.Z)("button",{type:"button",id:"mdPopOut",title:"View Schema in new window",className:"btn btn-primary btn-sm me-1 float-end",onClick:function(){return(0,z.s)(p[0].schema)}},void 0,o||(o=(0,r.Z)(w.G,{icon:N.iAX})))),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C._o?"":" d-none")},void 0,(0,r.Z)("button",{type:"button",id:"jidlPopOut",title:"View Schema in new window",className:"btn btn-primary btn-sm me-1 float-end",onClick:function(e){e.preventDefault();try{var t=window.open("");null==t||t.document.write("<html><body><pre>"+p[0].schema+"</pre></body></html>")}catch(e){(0,Z.gz)("Error: Unable to open schema in pop out")}}},void 0,l||(l=(0,r.Z)(w.G,{icon:N.iAX})))),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.p$?"":" d-none")},void 0,(0,r.Z)(k.ZP,{buttonId:"pumlPngDownload",customClass:"me-1 float-end",data:X,ext:C.dK}),(0,r.Z)("a",{role:"button",id:"pumlPopOut",title:"View Schema in new window",className:"btn btn-primary btn-sm me-1 float-end",target:"_blank",href:X},void 0,i||(i=(0,r.Z)(w.G,{icon:N.iAX})))),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.Mn?"":" d-none")},void 0,c||(c=(0,r.Z)(k.ZP,{buttonId:"gvSvgDownload",customClass:"me-1 float-end",ext:C.Tx})),s||(s=(0,r.Z)("button",{type:"button",id:"gvPopOut",title:"View Schema in new window",className:"btn btn-primary btn-sm me-1 float-end",onClick:T.lK},void 0,(0,r.Z)(w.G,{icon:N.iAX})))),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)!=C._o?"":" d-none")},void 0,(0,r.Z)("button",{type:"button",id:"SplitView",title:"View Schema and Preview together",className:"btn btn-primary btn-sm me-1 float-end",onClick:function(e){e.preventDefault(),j(!L)}},void 0,d||(d=(0,r.Z)(w.G,{icon:N.jNR,className:"fa-rotate-90"}))))),(0,r.Z)("div",{},void 0,(0,r.Z)(I.Z,{buttonId:"visualizeSchema",buttonTitle:"Visualize the given JADN schema to the selected format",buttonTxt:"Visualize",customClass:"me-1 float-end",isLoading:_,formId:V,isDisabled:0==Object.keys(A).length||0==n.length}))))),(0,r.Z)("div",{className:"card-body-page ".concat(L?"d-none":"")},void 0,n.length>1&&p.length>1?(0,r.Z)(F.Z,{data:p,pumlURL:X,setPumlURL:B,loadedSchema:A}):(0,r.Z)(x.Z,{data:p[0].schema,isReadOnly:!0,convertTo:1==n.length?n[0].value:n})),(0,r.Z)("div",{className:"card-body-page ".concat(L?"":" d-none")},void 0,(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.$0&&0!=p.length?"":" d-none")},void 0,(0,r.Z)(P.Z,{htmlText:p[0].schema,showPreviewer:!0,conversion:1==n.length?n[0].value:n})),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.n&&0!=p.length?"":" d-none")},void 0,(0,r.Z)(z.Z,{markdownText:p[0].schema,showPreviewer:!0})),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.p$&&0!=p.length?"":" d-none")},void 0,(0,r.Z)(E.Z,{data:X,convertedSchema:p[0].schema,conversion:1==n.length?n[0].value:n})),(0,r.Z)("div",{className:"".concat((1==n.length?n[0].value:n)==C.Mn&&0!=p.length?"":" d-none")},void 0,(0,r.Z)(T.ZP,{convertedSchema:p[0].schema,conversion:1==n.length?n[0].value:n}))))};var j,_=n(897),R=[{schema:"",fmt:"",fmt_ext:""}];const V=function(){var e=(0,f.I0)(),t=(0,m.useState)(null),n=(0,u.Z)(t,2),a=n[0],o=n[1],l=(0,m.useState)(null),i=(0,u.Z)(l,2),c=i[0],s=i[1],d=(0,m.useState)(null),g=(0,u.Z)(d,2),y=g[0],w=g[1],N=(0,m.useState)([]),S=(0,u.Z)(N,2),C=S[0],O=S[1],x=(0,m.useState)(R),F=(0,u.Z)(x,2),D=F[0],k=F[1],P=(0,m.useState)(!1),z=(0,u.Z)(P,2),E=z[0],T=z[1],I=(0,m.useState)(!1),V=(0,u.Z)(I,2),A=V[0],G=V[1],U=(0,f.v9)(h.pz)+" | Schema Visualization",X="".concat(window.location.origin).concat(window.location.pathname),B="visualization_form";(0,m.useEffect)((function(){e((0,p.um)()),(0,Z.wu)()}),[e]),(0,m.useEffect)((function(){k(R),G(!1)}),[y]);return(0,r.Z)("div",{},void 0,(0,r.Z)(v.ql,{},void 0,(0,r.Z)("title",{},void 0,U),(0,r.Z)("link",{rel:"canonical",href:X})),(0,r.Z)("div",{className:"row"},void 0,(0,r.Z)("div",{className:"col-md-12"},void 0,(0,r.Z)("div",{className:"card"},void 0,(0,r.Z)("div",{className:"card-header bg-secondary p-2"},void 0,(0,r.Z)("h5",{className:"m-0",style:{display:"inline"}},void 0,j||(j=(0,r.Z)("span",{className:"align-middle"},void 0,"Schema Visualization"))),(0,r.Z)("button",{type:"reset",className:"btn btn-sm btn-danger float-end",onClick:function(t){t.preventDefault(),(0,Z.wu)(),T(!1),o(null),w(null),O([]),k(R),G(!1),e((0,_.LN)(null))}},void 0,"Reset")),(0,r.Z)("div",{className:"card-body p-2"},void 0,(0,r.Z)("form",{id:B,onSubmit:function(t){if(t.preventDefault(),T(!0),C){var n=y;if("string"==typeof n)try{n=JSON.parse(y)}catch(e){e instanceof Error&&(T(!1),(0,Z.gz)(e.message))}var a=C.map((function(e){return e.value}));e((0,p.v4)(n,null==c?void 0:c.value,a)).then((function(e){if(e.error)return T(!1),k(R),void(0,Z.gz)(e.payload.response);T(!1),k(e.payload.schema.convert);for(var t=e.payload.schema.convert.map((function(e){return e.fmt_ext})),n=0;n<e.payload.schema.convert.length;n++)t.includes(a[n])?0==e.payload.schema.convert[n].err?(0,Z.T9)("Schema visualized to ".concat(e.payload.schema.convert[n].fmt," successfully")):(0,Z.gz)("Schema failed to visualize ".concat(e.payload.schema.convert[n].fmt," ").concat(e.payload.schema.convert[n].schema?": ".concat(e.payload.schema.convert[n].schema):"")):(0,Z.gz)("Failed to visualize to ".concat(C[n].label))})).catch((function(e){T(!1),(0,Z.gz)(e)}))}else T(!1),(0,Z.gz)("No language selected for conversion")}},void 0,(0,r.Z)("div",{className:"row"},void 0,(0,r.Z)("div",{className:"col-md-6 pr-1"},void 0,(0,r.Z)(b.Z,{selectedFile:a,setSelectedFile:o,schemaFormat:c,setSchemaFormat:s,loadedSchema:y,setLoadedSchema:w})),(0,r.Z)("div",{className:"col-md-6 pl-1"},void 0,(0,r.Z)(L,{convertedSchema:D,setConvertedSchema:k,conversion:C,setConversion:O,spiltViewFlag:A,setSplitViewFlag:G,isLoading:E,formId:B})))))))))}}}]);
//# sourceMappingURL=710.bundle.min.js.map