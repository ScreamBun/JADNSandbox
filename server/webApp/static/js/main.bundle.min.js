!function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],m=0,p=[];m<i.length;m++)s=i[m],r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={0:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([235,1]),a()}({117:function(e,t,a){e.exports=a.p+"assets/img/openc2-logo.png"},118:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAAADFBMVEUAAAAGmgCDg4NdG/+JbcowAAAAAXRSTlMAQObYZgAAAEpJREFUOMtjYKAaCAUCagg40MJQ2ruDYdUqBvoKaK1CAitoJ4Cwln4C/1+t+n+A4f+qVf8ZmP+vWv2f4T8QHACTQAEQObIEBisAAF9PNI38EeP2AAAAAElFTkSuQmCC"},133:function(e,t,a){},136:function(e,t,a){},22:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return o}),a(32).create({escape:function(e){return e.replace(/(\")/g,"\\$1")},upper:function(e){return e.toUpperCase()}});var n=function(e){switch(e.length){case 5:return e[3].indexOf("[0")>=0;case 4:return e[2].indexOf("[0")>=0;default:return console.log("default optional - "+e[0]+" - "+e[1]),!1}},r=function e(t,a,n){var r=(a=a.replace(/\[\]$/,"")).split(".");r.length>1?(t.hasOwnProperty(r[0])||(t[r[0]]={}),e(t[r[0]],r.slice(1).join("."),n)):t[a]=n},o=function e(t,a){var n=(a=a.replace(/\[\]$/,"")).split(".");n.length>1?e(t[n[0]],n.slice(1).join(".")):t&&t.hasOwnProperty(n[0])&&delete t[n[0]]}}).call(this,a(78))},235:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(11),s=a.n(o),i=a(5),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(130),a(131),a(133),a(136);var u=a(29),m=a(236),p=a(237),f=a(4);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,y(t).call(this,e)),console.log("Whoop, there's an issue here!"),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,n.Component),function(e,t,a){t&&d(e.prototype,t)}(t,[{key:"goBack",value:function(){1===this.props.history.length?(console.log("Cant Go Back!!"),Object(f.toast)(r.a.createElement("p",null,"Looks like this is a new tab, try closing it instead of going back"),{type:f.toast.TYPE.WARNING})):(console.log("Go Back!!"),this.props.history.goBack())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jumbotron well col-md-10 col-12 mx-auto"},r.a.createElement("h1",null,"Whoops"),r.a.createElement("h3",null,"This isn't a valid page, are you sure this is where you wanted to go?"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.goBack()}},"Go Back"))}}]),t}(),v=a(117),E=a.n(v);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e,a){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,j(t).call(this,e,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,n.Component),function(e,t,a){t&&S(e.prototype,t)}(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row mx-auto"},r.a.createElement("div",{className:"col-12"},r.a.createElement("img",{src:E.a,alt:"OpenC2 Logo",className:"float-left col-md-4 col-xs-12 mr-3 mb-3"}),r.a.createElement("p",null,"Spicy jalapeno bacon ipsum dolor amet dolore aliquip sirloin swine quis veniam magna in ipsum voluptate reprehenderit elit velit sunt. Landjaeger laboris buffalo excepteur bacon commodo fugiat. Pastrami landjaeger rump, id dolore corned beef flank ad beef officia velit meatball ex. Qui ipsum cupim, dolore adipisicing salami est in ham hock consectetur hamburger enim pork belly. Incididunt quis shankle magna, minim occaecat ham officia consectetur landjaeger burgdoggen leberkas pastrami."),r.a.createElement("p",null,"Hamburger pork chop nostrud ea minim dolore, venison flank exercitation sausage pork sirloin. Kielbasa frankfurter consequat cupidatat shoulder short loin non eu. Doner pig in hamburger, consequat eu veniam prosciutto. Pork sint tail biltong tenderloin do nulla in swine tempor strip steak adipisicing incididunt. Pastrami in anim ham officia ut excepteur dolor cupim ground round veniam biltong meatball. Enim frankfurter swine meatloaf spare ribs capicola. Do fatback chicken rump, est id pork chop leberkas shankle shank eu esse."),r.a.createElement("p",null,"Reprehenderit landjaeger kevin ut pork loin. Leberkas sirloin deserunt voluptate, veniam andouille quis tenderloin non ground round nisi. Cupidatat culpa sausage nisi filet mignon, tempor aliquip sed bresaola qui chicken do in veniam. Dolor in tri-tip buffalo ham fugiat, mollit pariatur. Nisi ut leberkas labore, shoulder shank cow turducken nostrud non et velit ad veniam. Fatback cupidatat pancetta est laborum chuck quis flank ipsum ribeye.")))}}]),t}();Object(i.b)(function(e){return{}})(w);var _=a(3),C=a(118),k=a.n(C);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,a){return t&&P(e.prototype,t),a&&P(e,a),e}function R(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var F=function(e){function t(e,a){var n;return x(this,t),(n=R(this,U(t).call(this,e,a))).external=n.props.external||!1,n}return D(t,n.Component),T(t,[{key:"render",value:function(){var e=this.props.href===this.props.active;return r.a.createElement("li",{onClick:this.external?function(){}:this.props.click,className:e?" active":""},r.a.createElement("a",{id:this.props.id||"",href:this.props.href,target:this.props.target,onClick:this.external?function(){}:function(e){e.preventDefault()},className:"nav-link"},this.props.icon?r.a.createElement("i",{className:"fa fa-"+this.props.icon}):""," ",this.props.text))}}]),t}(),L=function(e){function t(e,a){var n;x(this,t);var r=(n=R(this,U(t).call(this,e,a))).props.history.location.pathname===n.prefix;return n.state={active:r?"/":n.props.history.location.pathname,about_modal:!1,features_modal:!1},n.toggle=n.toggle.bind(I(I(n))),n}return D(t,n.Component),T(t,[{key:"navigate",value:function(e){if(e.preventDefault(),null!==e.target.href&&void 0!==e.target.href){var t=e.target.href.replace(window.location.origin,"");this.props.history.push({pathname:t}),this.setState({active:t})}}},{key:"toggle",value:function(e){console.log(e.target)}},{key:"modals",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(_.i,{isOpen:this.state.about_modal,toggle:function(){return e.setState({about_modal:!e.state.about_modal})}},r.a.createElement(_.k,{toggle:function(){return e.setState({about_modal:!e.state.about_modal})}},"About"),r.a.createElement(_.j,null,r.a.createElement("p",null,"OpenC2 is defined using JSON Abstract Schema Notation (JADN). The JADN validator can check messages against any schema."),r.a.createElement("p",null,"Source is available from the ",r.a.createElement("a",{href:"https://github.com/OpenC2-org/jadn",target:"_blank"},"OpenC2 JADN Github")," repo."))),r.a.createElement(_.i,{isOpen:this.state.features_modal,toggle:function(){return e.setState({features_modal:!e.state.features_modal})}},r.a.createElement(_.k,{toggle:function(){return e.setState({features_modal:!e.state.features_modal})}},"Features"),r.a.createElement(_.j,null,r.a.createElement("ul",null,r.a.createElement("li",null,"JADN validation of messages in",r.a.createElement("ul",null,r.a.createElement("li",null,"JSON Format"),r.a.createElement("li",null,"CBOR Format"),r.a.createElement("li",null,"XML Format"))),r.a.createElement("li",null,"JADN Schema conversion to",r.a.createElement("ul",null,r.a.createElement("li",null,"JADN Format"),r.a.createElement("li",null,"ProtoBuf3 Format"),r.a.createElement("li",null,"Relax-NG Format"),r.a.createElement("li",null,"CDDL Format"),r.a.createElement("li",null,"MarkDown Format"),r.a.createElement("li",null,"HTML Format")))))))}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light fixed-top"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("img",{src:k.a,alt:"Logo"}),r.a.createElement("a",{href:"https://github.com/oasis-open/openc2-jadn/",target:"_blank"},"JADN")," Lint"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navMain","aria-controls":"navMain","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navMain"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement(F,{href:"/",text:"Validate",click:this.navigate.bind(this)}),r.a.createElement(F,{href:"/convert",text:"Convert",click:this.navigate.bind(this)}),r.a.createElement(F,{href:"/create",text:"Create",click:this.navigate.bind(this)}),r.a.createElement(F,{href:"#",text:"About",click:function(){return e.setState({about_modal:!e.state.about_modal})}}),r.a.createElement(F,{href:"#",text:"Features",click:function(){return e.setState({features_modal:!e.state.features_modal})}}))),this.modals())}}]),t}(),G=Object(i.b)(function(e){return{site_title:e.Util.site_title}},function(e){return{}})(L),J=a(27),M=a.n(J),W=a(47),V=a.n(W),Y=a(30),B=a(28),Q=a.n(B),q=a(22),H=a(7);function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(e,a){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,X(t).call(this,e,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,n.Component),function(e,t,a){t&&K(e.prototype,t)}(t,[{key:"inputOpts",value:function(e){switch(e){case"duration":return{type:"number",placeholder:0};case"date-time":return{type:"datetime",placeholder:"2000-01-01T00:00:00-00:00"};default:return{type:"text"}}}},{key:"render",value:function(){var e=this,t=this.props.def[1],a=this.props.def[2],n=(this.props.def[3],this.props.def[4]),o=this.props.schema.types.filter(function(e){return e[0]==e});o=1===o.length?o[0]:[];var s=this.props.parent?[this.props.parent,t]:[t];if(t>=0)return r.a.createElement(Je,{def:this.props.def,parent:s.join("."),optChange:this.props.optChange});var i=this.inputOpts(a);return r.a.createElement(_.e,{tag:"fieldset",className:"border border-dark p-2"},r.a.createElement("legend",null,(Object(q.b)(this.props.def)?"":"*")+t),r.a.createElement(_.g,{type:i.type||"text",placeholder:i.placeholder||"",name:t,onChange:function(t){return e.props.optChange(s.join("."),t.target.value,!!e.props.arr)}}),""!=n?r.a.createElement(_.f,{color:"muted"},n):"")}}]),t}(),te=Object(i.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(ee);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(e,a){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,re(t).call(this,e,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,n.Component),function(e,t,a){t&&ne(e.prototype,t)}(t,[{key:"render",value:function(){var e=this,t=this.props.def[1],a=(this.props.def[3],this.props.def[4]),n=(this.props.parent?[this.props.parent,t]:[t]).join("."),o=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]}),s=(o=1===o.length?o[0]:[])[o.length-1].map(function(e){return r.a.createElement("option",{key:e[0],"data-subtext":e[2]},e[1])});return r.a.createElement(_.e,{tag:"fieldset",className:"border border-dark p-2"},r.a.createElement("legend",null,(Object(q.b)(this.props.def)?"":"*")+t),""!=a?r.a.createElement(_.f,{color:"muted"},a):"",r.a.createElement(_.g,{type:"select",name:t,title:t,className:"selectpicker",onChange:function(t){return e.props.optChange(n,t.target.value)}},r.a.createElement("option",{"data-subtext":t+" options",value:""},t+" options"),s))}}]),t}(),ie=Object(i.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(se);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var fe=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?pe(e):t}(this,ue(t).call(this,e,a))).state={selected:-1,selectedBase:""},n.handleChange=n.handleChange.bind(pe(pe(n))),n.optChange=n.optChange.bind(pe(pe(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,n.Component),function(e,t,a){t&&le(e.prototype,t)}(t,[{key:"handleChange",value:function(e){var t=this;this.setState({selected:e.target.value},function(){-1==t.state.selected&&t.props.optChange(t.props.def[1],void 0)})}},{key:"optChange",value:function(e,t){var a=e.split(".");e.length>=2&&this.state.selectedBase!=a[1]&&(this.setState({selectedBase:a[1]}),this.props.optChange(a.slice(0,1).join("."),void 0)),this.props.optChange(e,t)}},{key:"render",value:function(){var e=this,t=this.props.def[1],a=(this.props.def[3],this.props.def[4]),n=(this.props.parent?[this.props.parent,t]:[t]).join("."),o=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]}),s=(o=1===o.length?o[0]:[])[o.length-1].map(function(e){return r.a.createElement("option",{key:e[0],"data-subtext":e[2],value:e[0]},e[1])});return this.selectedDef=o[o.length-1].filter(function(t){return t[0]==e.state.selected}),this.selectedDef=1===this.selectedDef.length?this.selectedDef[0]:[],r.a.createElement(_.e,{tag:"fieldset",className:"border border-dark p-2"},r.a.createElement("legend",null,(Object(q.b)(this.props.def)?"":"*")+t),""!=a?r.a.createElement(_.f,{color:"muted"},a):"",r.a.createElement("div",{className:"col-12 my-1 px-0"},r.a.createElement(_.g,{type:"select",name:t,title:t,className:"selectpicker",onChange:this.handleChange,default:-1},r.a.createElement("option",{"data-subtext":t+" options",value:-1},t," options"),s),r.a.createElement("div",{className:"col-12 py-2"},this.state.selected>=0?r.a.createElement(Je,{def:this.selectedDef,parent:n,optChange:this.optChange}):"")))}}]),t}(),he=Object(i.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(fe);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,ge(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,n.Component),function(e,t,a){t&&ye(e.prototype,t)}(t,[{key:"render",value:function(){var e=this,t=this.props.def[1],a=(this.props.def[3],this.props.def[4]),n=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]});n=1===n.length?n[0]:[];var o=(this.props.parent?[this.props.parent,t]:[t]).join(".");return r.a.createElement(_.e,{tag:"fieldset",className:"border border-dark p-2"},r.a.createElement("legend",null,(Object(q.b)(this.props.def)?"":"*")+t),""!=a?r.a.createElement(_.f,{color:"muted"},a):"",r.a.createElement("div",{className:"col-12 my-1 px-0"},n[n.length-1].map(function(t,a){return r.a.createElement(Je,{key:a,def:t,parent:o,optChange:e.props.optChange})})))}}]),t}(),Ee=Object(i.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(ve);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Se(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,Ee),t}(),we=Object(i.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(Ne),_e=a(73),Ce=a(75);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Pe(t).call(this,e,a))).name=n.props.def[1],n.type=n.props.def[2],n.args=n.props.def[3],n.comment=n.props.def[4],n.opts={},n.typeDef=n.props.schema.types.filter(function(e){return e[0]==n.type}),n.typeDef=1===n.typeDef.length?n.typeDef[0]:[],n.msgName=(n.props.parent?[n.props.parent,n.name]:[n.name]).join("."),n.state={min:!1,max:!1,count:1,opts:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,n.Component),function(e,t,a){t&&xe(e.prototype,t)}(t,[{key:"opts2arr",value:function(e){var t=this;this.opts={};var a={"=":"compact","[":"min","]":"max","*":"rtype",$:"pattern","@":"format"};e.forEach(function(e){var n=e.charAt(0),r=e.substr(1);a.hasOwnProperty(n)?t.opts[a[n]]=r:console.log("Unknown option",n)})}},{key:"addOpt",value:function(e){var t=this;e.preventDefault();var a=this.opts.hasOwnProperty("max")?this.opts.max:20;this.setState(function(e){var t=e.count<a;return{count:t?++e.count:e.count,max:!t}},function(){t.props.optChange(t.msgName,Array.from(new Set(Object.values(t.state.opts))))})}},{key:"removeOpt",value:function(e){var t=this;e.preventDefault();var a=this.opts.hasOwnProperty("min")?this.opts.min:0;this.setState(function(e){var t=e.count>a,n=e.opts;return t&&delete n[Math.max.apply(Math,Object.keys(n))],{count:t?--e.count:e.count,min:!t,opts:n}},function(){t.props.optChange(t.msgName,Array.from(new Set(Object.values(t.state.opts))))})}},{key:"optChange",value:function(e,t,a){var n=this;this.setState(function(e){return{opts:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ae(e,t,a[t])})}return e}({},e.opts,Ae({},a,t))}},function(){n.props.optChange(n.msgName,Array.from(new Set(Object.values(n.state.opts))))})}},{key:"render",value:function(){var e=this;this.opts2arr(this.typeDef[2]);var t=this.props.schema.types.filter(function(t){return t[0]==e.opts.rtype});t=1===t.length?[0,(t=t[0])[0].toLowerCase(),t[0],[],t[t.length-2]]:[0,t[1],"String",[],""];for(var a=[],n=0;n<this.state.count;++n)a.push(r.a.createElement(Je,{key:n,def:t,parent:this.msgName,optChange:this.optChange.bind(this),idx:n}));return r.a.createElement(_.e,{tag:"fieldset",className:"border border-dark p-2"},r.a.createElement("legend",null,(Object(q.b)(this.props.def)?"":"*")+this.name,r.a.createElement(_.a,{color:"danger",className:"float-right p-1"+(this.state.min?" disabled":""),onClick:this.removeOpt.bind(this)},r.a.createElement(_e.a,{icon:Ce.a,size:"lg"})),r.a.createElement(_.a,{color:"primary",className:"float-right p-1"+(this.state.max?" disabled":""),onClick:this.addOpt.bind(this)},r.a.createElement(_e.a,{icon:Ce.b,size:"lg"}))),""!=this.comment?r.a.createElement(_.f,{color:"muted"},this.comment):"",a)}}]),t}(),Ie=Object(i.b)(function(e){return{schema:e.Generate.selectedSchema,baseTypes:e.Generate.types.base}},function(e){return{}})(Re);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(e,a){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Fe(t).call(this,e,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,n.Component),function(e,t,a){t&&De(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props!=e,n=this.state!=t;return a||n}},{key:"render",value:function(){var e=this,t=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]});t=1===t.length?t[0]:[];var a=this.props.parent||"";switch(t[1]){case"Enumerated":return r.a.createElement(ie,{def:this.props.def,parent:a,optChange:function(t,a){return e.props.optChange(t,a,e.props.idx)}});case"Choice":return r.a.createElement(he,{def:this.props.def,parent:a,optChange:function(t,a){return e.props.optChange(t,a,e.props.idx)}});case"Record":return r.a.createElement(we,{def:this.props.def,parent:a,optChange:function(t,a){return e.props.optChange(t,a,e.props.idx)}});case"Map":return r.a.createElement(Ee,{def:this.props.def,parent:a,optChange:function(t,a){return e.props.optChange(t,a,e.props.idx)}});case"ArrayOf":return r.a.createElement(Ie,{def:this.props.def,parent:a,optChange:function(t,a){return e.props.optChange(t,a,e.props.idx)}});case"Array":return r.a.createElement(_.f,null,"Array: ",this.props.def[1]);default:return r.a.createElement(te,{def:this.props.def,parent:a,optChange:function(t,a){return e.props.optChange(t,a,e.props.idx)}})}}}]),t}(),Je=Object(i.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(Ge),Me=function(e){return e.match(/^(https?:\/\/)?(www\.)?[0-9a-z]+([\-\.]{1}[0-9a-z]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/)},We=function(e){if(!Me(e))return new Promise(function(e,t){t({error:"invalid url"})});var t={data:"",file:e.substring(e.lastIndexOf("/")+1)};return t.fileName=t.file.substring(0,t.file.lastIndexOf(".")),t.fileExt=t.file.substring(t.file.lastIndexOf(".")+1),fetch(e).then(function(e){return function(e){var t=e.getReader(),a=[];return function e(){return t.read().then(function(t){var n=t.value;return t.done?a:(a.push(n),e())})}()}(e.body)}).then(function(e){var a=function(e){if(1==e.length){var t=Array.from(e[0]);return(t=t.map(function(e){return e>128?"\\x"+e.toString(16):String.fromCharCode(e)})).join("")}return""}(e);switch(t.fileExt){case"jadn":case"json":console.log("JADN/JSON");try{a=JSON.parse(a)}catch(e){a={error:e.message}}break;case"cbor":console.log("CBOR"),a=Ve(Ye(a));break;case"xml":console.log("XML");break;default:console.log("UNKNOWN")}return t.data=a,t}).catch(function(a){return console.log("failed to load ",e,a.stack),t})},Ve=function(e){if(e.replace(/\s/g,"").match(/^[0-9a-fA-F]+$/))throw{message:"cannot convert hexidecimal to hexidecimal"};return e.split(/\\x/g).map(function(e,t){return[e.substr(0,2)].concat(e.substr(2).split("").map(function(e){return e.charCodeAt(0).toString(16)})).join(" ")}).join(" ").replace(/^\s+/,"")},Ye=function(e){var t="";for(var a in e=e.toString()){var n=e.charCodeAt(a),r=e.charAt(a);t+=n>128?"\\x"+n.toString(16):r}return t},Be=a(108),Qe=function(e,t,a){a=a||2;var n="";try{switch(t){case"cbor":n=function(e){if(!(e=e.replace(/\s/g,"")).match(/^[0-9a-fA-F]+$/))throw{message:"cannot convert, not valid hexidecimal"};if(e.length%2==1)throw{message:"cannot convert, not valid length"};return(e=e.match(/.{1,2}/g)).map(function(e,t){var a=parseInt(e,16);return a>128?"\\x"+e:String.fromCharCode(a)}).join("").replace(/^\s+/,"")}(e);break;case"json":n=Be.json(e," ".repeat(a));break;case"xml":n=Be.xml(e," ".repeat(a));break;default:n="Error, cannot format "+t+" message"}}catch(e){n="Error, cannot format: "+e.message}return n},qe=function(e,t){var a="";try{switch(t){case"cbor":a=Ve(e);break;case"json":a=Be.jsonmin(e);break;case"xml":a=Be.xmlmin(e);break;default:a="Error, cannot minify "+t+" message"}}catch(e){a="Error, cannot minify: "+e.message}return a};function He(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ze=function(e){return He({},H.RSAA,{endpoint:"/api/validate/schema",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e}),types:["@@validate/VALIDATE_SCHEMA_REQUEST","@@validate/VALIDATE_SCHEMA_SUCCESS","@@validate/VALIDATE_FAILURE"]})};function $e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ke=function(e,t){return $e({},H.RSAA,{endpoint:"/api/load/"+e+"/"+t,method:"GET",types:["@@util/LOAD_REQUEST","@@util/LOAD_SUCCESS","@@util/LOAD_FAILURE"]})};function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){tt(e,t,a[t])})}return e}function tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function at(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var st=a(32),it=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?ot(e):t}(this,nt(t).call(this,e,a))).state={command_record:"",schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",decodeTypes:{all:[],exports:[]},file:!1,url:!1,url_str:""},message:{}},n.meta={title:st("{base} | {page}",{base:n.props.siteTitle,page:"Creator"}),canonical:st("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},n.optChange=n.optChange.bind(ot(ot(n))),n.selectChange=n.selectChange.bind(ot(ot(n))),n.fileChange=n.fileChange.bind(ot(ot(n))),n.props.info(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,n.Component),function(e,t,a){t&&at(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props!=e,n=this.state!=t;return this.state.schema.schema!=t.schema.schema&&(this.props.setSchema(t.schema.schema),t.message={}),a||n}},{key:"makeID",value:function(){console.log("Make ID"),this.setState({message:et({},this.state.message,{id:this.genUUID()})})}},{key:"validUUID",value:function(e){return!!e&&!!e.match(/[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}/)}},{key:"genUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)})}},{key:"optChange",value:function(e,t){console.log(e,t),this.setState(function(a){var n=a.message||{};return console.log(n),[""," ",null,void 0,[],{}].indexOf(t)>=0?Object(q.a)(n,e):Object(q.c)(n,e,t),{message:n}})}},{key:"selectChange",value:function(e){var t=this,a=e.target.id.split("-")[0],n=e.target.value,r={selected:n,file:"file"==n,url:"url"==n};"empty"==n&&"message"==a&&(r.format="",r.decode=""),this.setState(function(e){return tt({},a,et({},e[a],r))},function(){var e=t.state[a].selected,n=t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"];if(-1==["","empty",null,"file","url"].indexOf(e)){var r={};"message"==a&&(r.format=e.split(".")[1]),-1==Object.keys(n).indexOf(e)?t.props.loadFile(a+"s",e).then(function(){t.setState(function(n){return tt({},a,et({},n[a],r,tt({},a,t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][e])))})}):t.setState(function(n){return tt({},a,et({},t.state[a],tt({},a,t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][e])))})}})}},{key:"fileChange",value:function(e){var t=this,a=e.target.id.split("-")[0],n=e.target.files[0],o=n.name.split(".")[1],s=new FileReader;s.onload=function(e){var n=atob(s.result.split(",")[1]);try{n=JSON.stringify(JSON.parse(n),null,2)}catch(e){switch(o){case"cbor":n=Ve(Ye(n))}}if("schema"==a)try{t.setState({schema:et({},t.state.schema,{schema:JSON.parse(n)})})}catch(e){Object(f.toast)(r.a.createElement("p",null,"Schema cannot be loaded"),{type:f.toast.TYPE.WARNING})}else"message"==a&&t.setState({message:et({},t.state.message,{format:"jadn"==o?"json":o,message:n})})},s.readAsDataURL(n)}},{key:"loadURL",value:function(e){var t=this,a=this.state[e].url_str;if(Me(a)){var n=a.substring(a.lastIndexOf("/")+1),o=n.substring(n.lastIndexOf(".")+1);-1!=["json","jadn"].indexOf(o)||"schema"!=e?We(a).then(function(a){var n;t.setState(tt({},e,et({},t.state[e],(tt(n={},e,a.data),tt(n,"format","jadn"==o?"json":a.fileExt),n))))}).catch(function(e){Object(f.toast)(r.a.createElement("p",null,"Invalid url, please check what you typed"),{type:f.toast.TYPE.WARNING})}):Object(f.toast)(r.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:f.toast.TYPE.WARNING})}else Object(f.toast)(r.a.createElement("p",null,"Invalid URL, cannot load from a non valid location"),{type:f.toast.TYPE.WARNING})}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return void Object(f.toast)(r.a.createElement("p",null,e.message),{type:f.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(f.toast)(r.a.createElement("p",null,t.valid_msg),{type:f.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"cmdCreator",value:function(e){var t=this,a=this.props.selectedSchema&&this.props.selectedSchema.meta?this.props.selectedSchema.meta.exports:[],n=this.props.selectedSchema.hasOwnProperty("types")?this.props.selectedSchema.types.filter(function(e){return e[0]==t.state.command_record}):[];return n=1==n.length?n[0]:[],r.a.createElement("div",{className:"col-md-6"},r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active show","data-toggle":"tab",href:"#tab-creator"},"Creator")),r.a.createElement("li",{id:"msg-tab",className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#tab-message"},"Message"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane fade active show",id:"tab-creator"},r.a.createElement("div",{className:"card col-12 p-0 mx-auto"},r.a.createElement("div",{className:"card-header"},r.a.createElement(_.e,{className:"col-md-6 p-0 m-0 float-left"},r.a.createElement(_.g,{type:"select",name:"command-list",id:"command-list",className:"form-control",default:"",onChange:function(e){t.setState({command_record:e.target.value})}},r.a.createElement("option",{value:""},"Command Type"),a.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement(_.a,{color:"primary",className:"float-right",onClick:function(){return t.makeID()}},"Generate ID")),r.a.createElement(_.c,{id:"command-fields",className:"card-body",onSubmit:function(){return!1},style:{height:e-25+"px",overflowY:"scroll"}},n.length>1&&n[n.length-2].length>0?r.a.createElement(_.f,{color:"muted"},r.a.createElement("b",null,"Comment: "),n[n.length-2]):"",r.a.createElement("div",{id:"fieldDefs"},void 0==n[n.length-1]?r.a.createElement(_.f,{color:"muted"},"Command Fields will appear here after selecting a type ",this.state.command_record):n[n.length-1].map(function(e,a){return r.a.createElement(Je,{key:a,def:e,optChange:t.optChange})}))))),r.a.createElement("div",{className:"tab-pane fade position-relative",id:"tab-message",style:{height:e+"px"}},r.a.createElement(V.a,{id:"message",className:"scroll-xl border",style:{minHeight:"2.5em"},json:this.state.message}))))}},{key:"schema",value:function(e){var t=this,a=this.props.schemas.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)});return r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{id:"schema-card",className:"tab-pane fade active show"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row float-left col-sm-10 pl-0"},r.a.createElement("div",{className:"form-group col-md-6 pr-0 pl-1"},r.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},r.a.createElement("option",{value:"empty"},"Schema"),r.a.createElement("optgroup",{label:"Testers"},a),r.a.createElement("optgroup",{label:"Custom"},r.a.createElement("option",{value:"file"},"File..."),r.a.createElement("option",{value:"url"},"URL...")))),r.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?"":" d-none")},r.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),r.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?"":" d-none")},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(_.a,{color:"info",onClick:function(){return t.loadURL("schema")}},"Load URL")),r.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(e){return t.setState({schema:et({},t.state.schema,{url_str:e.target.value})})}})))),r.a.createElement(_.b,{className:"float-right"},r.a.createElement(_.a,{outline:!0,color:"secondary",onClick:function(){return t.verifySchema()},id:"ver_tooltip"},"Verify"),r.a.createElement(_.l,{placement:"bottom",isOpen:this.state.ver_tooltip,target:"ver_tooltip",toggle:function(){return t.setState({ver_tooltip:!t.state.ver_tooltip})}},"Validate the schema is valid prior to validating the message"))),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:e+"px"}},r.a.createElement(Y.a,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(e){e.jsObject&&t.setState({schema:et({},t.state.schema,{schema:e.jsObject})})},theme:"light_mitsuketa_tribute",locale:Q.a,reset:!1,height:"100%",width:"100%"})))))}},{key:"render",value:function(){var e=window.innerHeight-225;return r.a.createElement(M.a,Ze({},this.meta,{extend:!0}),r.a.createElement("div",{className:"row mx-auto"},this.schema(e),r.a.createElement("div",{className:"col-12 m-2 d-md-none"}),this.cmdCreator(e),r.a.createElement("div",{className:"col-12",style:{height:"1.25em"}}),r.a.createElement("div",{id:"cmd-status",className:"modal"},r.a.createElement("div",{className:"modal-dialog h-100 d-flex flex-column justify-content-center my-0",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Command: ",r.a.createElement("span",null)),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"×"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",{className:"cmd-details"},r.a.createElement("b",null,"Details:")," ",r.a.createElement("span",null)),r.a.createElement("p",{className:"mb-1"},r.a.createElement("b",null,"Command:")),r.a.createElement("pre",{className:"border code command"}),r.a.createElement("p",{className:"mb-1"},r.a.createElement("b",null,"Responses:")),r.a.createElement("div",{className:"p-1 border border-primary responses"})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))))}}]),t}(),ct=Object(i.b)(function(e){return{schemas:e.Generate.schemas,loadedSchemas:e.Util.loaded.schemas||{},validSchema:e.Validate.valid.schema||{},selectedSchema:e.Generate.selectedSchema,message:e.Generate.message,siteTitle:e.Util.site_title}},function(e){return{info:function(){return e(z({},H.RSAA,{endpoint:"/api/create",method:"GET",types:["@@generate/INFO_REQUEST","@@generate/INFO_SUCCESS","@@generate/INFO_FAILURE"]}))},loadFile:function(t,a){return e(Ke(t,a))},validateSchema:function(t){return e(ze(t))},setSchema:function(t){return e(function(e){return z({},H.RSAA,{endpoint:"",method:"OPTIONS",types:[{type:"@@generate/SCHEMA_DEFINE",payload:function(t,a){return{schema:e}}},"@@generate/SCHEMA_SUCCESS","@@generate/SCHEMA_FAILURE"]})}(t))}}})(it),lt=a(120),ut=a.n(lt);function mt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){dt(e,t,a[t])})}return e}function dt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Et=a(32),Ot=a(219),St=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?vt(e):t}(this,gt(t).call(this,e,a))).state={conv_tooltip:!1,schema_opts_dropdown:!1,schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",file:!1,url:!1,url_str:""},convert:{selected:"empty",html:!1,popup:null}},n.download_mime={proto3:"text/x-c",rng:"application/xml",html:"text/html",md:"text/plain",cddl:"text/plain",thrift:"text/plain"},n.meta={title:Et("{base} | {page}",{base:n.props.siteTitle,page:"Converter"}),canonical:Et("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},n.schema_height="40em",n.selectChange=n.selectChange.bind(vt(vt(n))),n.fileChange=n.fileChange.bind(vt(vt(n))),n.props.info(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,n.Component),function(e,t,a){t&&yt(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props!=e,n=this.state!=t;return a||n}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var a=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{a=JSON.parse(a)}catch(e){return void Object(f.toast)(r.a.createElement("p",null,e.message),{type:f.toast.TYPE.WARNING})}return this.props.validateSchema(a).then(function(){var e=t.props.validSchema;e.valid_bool?t.props.convertSchema(t.state.schema.schema,t.state.convert.selected):Object(f.toast)(r.a.createElement("p",null,e.valid_msg),{type:f.toast.TYPE[e.valid_bool?"INFO":"WARNING"]})}),!1}},{key:"selectChange",value:function(e){var t=this,a=e.target.id.split("-")[0],n=e.target.value,r={selected:n,file:"file"==n,url:"url"==n};"empty"==n&&"message"==a&&(r.format="",r.decode=""),this.setState(function(e){return dt({},a,ht({},e[a],r))},function(){var e=t.state[a].selected,n=t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"];if(-1==["","empty",null,"file","url"].indexOf(e)){var r={};"message"==a&&(r.format=e.split(".")[1]),-1==Object.keys(n).indexOf(e)?t.props.loadFile(a+"s",e).then(function(){t.setState(function(n){return dt({},a,ht({},n[a],r,dt({},a,t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][e])))})}):t.setState(function(n){return dt({},a,ht({},t.state[a],dt({},a,t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][e])))})}})}},{key:"fileChange",value:function(e){var t=this,a=e.target.id.split("-")[0],n=e.target.files[0],o=n.name.split(".")[1],s=new FileReader;s.onload=function(e){var n=atob(s.result.split(",")[1]);try{n=JSON.stringify(JSON.parse(n),null,2)}catch(e){switch(o){case"cbor":n=Ve(Ye(n))}}if("schema"==a)try{t.setState({schema:ht({},t.state.schema,{schema:JSON.parse(n)})})}catch(e){Object(f.toast)(r.a.createElement("p",null,"Schema cannot be loaded"),{type:f.toast.TYPE.WARNING})}else"message"==a&&t.setState({message:ht({},t.state.message,{format:"jadn"==o?"json":o,message:n})})},s.readAsDataURL(n)}},{key:"format",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],"message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,a="message"==e?this.state.message.format:"json",n=Qe(t,a,2);if(n.startsWith("Error"))return void Object(f.toast)(r.a.createElement("p",null,Et("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:n})),{type:f.toast.TYPE.WARNING});this.setState({message:ht({},this.state.message,dt({},"message"==e?"message":"json",n))})}else if("schema"==e)try{this.setState({schema:ht({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(f.toast)(r.a.createElement("p",null,o),{type:f.toast.TYPE.WARNING})}}},{key:"minify",value:function(e){if("message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,a="message"==e?this.state.message.format:"json",n=qe(t,a);if(n.startsWith("Error"))return void Object(f.toast)(r.a.createElement("p",null,Et("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:n})),{type:f.toast.TYPE.WARNING});this.setState({message:ht({},this.state.message,dt({},"message"==e?"message":"json",n))})}else if("schema"==e)try{this.setState({schema:ht({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(f.toast)(r.a.createElement("p",null,o),{type:f.toast.TYPE.WARNING})}}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return void Object(f.toast)(r.a.createElement("p",null,e.message),{type:f.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(f.toast)(r.a.createElement("p",null,t.valid_msg),{type:f.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"loadURL",value:function(e){var t=this,a=this.state[e].url_str;if(Me(a)){var n=a.substring(a.lastIndexOf("/")+1),o=n.substring(n.lastIndexOf(".")+1);-1!=["json","jadn"].indexOf(o)||"schema"!=e?We(a).then(function(a){var n;t.setState(dt({},e,ht({},t.state[e],(dt(n={},e,a.data),dt(n,"format","jadn"==o?"json":a.fileExt),n))))}).catch(function(e){Object(f.toast)(r.a.createElement("p",null,"Invalid url, please check what you typed"),{type:f.toast.TYPE.WARNING})}):Object(f.toast)(r.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:f.toast.TYPE.WARNING})}else Object(f.toast)(r.a.createElement("p",null,"Invalid URL, cannot load from a non valid location"),{type:f.toast.TYPE.WARNING})}},{key:"downloadConfig",value:function(){var e=this,t={content:"",file:""};if(this.props.convertedSchema.convert){var a=this.props.convertedSchema.convert,n=this.props.convertedSchema.fmt;switch(t.file="schema."+n,n){case"jadn":t.content=Et("data:application/json;charset=utf-8,{conv}",{conv:encodeURIComponent(a)});break;case"proto3":case"rng":case"html":case"md":case"cddl":case"thrift":t.content=Et("data:{data};charset=utf-8,{conv}",{data:this.download_mime[n],conv:encodeURIComponent(a)});break;default:t.content=Et("data:text/plain;charset=utf-8,{conv}",{conv:encodeURIComponent("Theres some issues....")})}"html"==n&&0==this.state.convert.html?setTimeout(function(){return e.setState({convert:ht({},e.state.convert,{html:!0})})},100):"html"!=n&&0!=this.state.convert.html&&setTimeout(function(){return e.setState({convert:ht({},e.state.convert,{html:!1})})},100)}return t}},{key:"viewPage",value:function(e){var t=this;e.preventDefault();var a=Ot(this.props.convertedSchema.convert).props.children.filter(function(e){return"body"===e.type});a=(a=1==a.length?a[0].props.children:"").filter(function(e){return"string"!=typeof e}),this.setState({convert:ht({},this.state.convert,{popup:r.a.createElement(ut.a,{title:"HTML Schema",center:"screen",onUnload:function(){return t.setState({convert:ht({},t.state.convert,{popup:null})})}},a)})})}},{key:"jadn",value:function(e){var t=this,a=this.props.schemas.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)});return r.a.createElement("fieldset",{className:"col-6 p-0 float-left"},r.a.createElement("legend",null,"JADN Schema"),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement(Y.a,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(e){e.jsObject&&t.setState({schema:ht({},t.state.schema,{schema:e.jsObject})})},theme:"light_mitsuketa_tribute",locale:Q.a,reset:!1,height:"100%",width:"100%"})),r.a.createElement("div",{className:"col-12 m-1"}),r.a.createElement(_.a,{color:"secondary",onClick:function(){return t.verifySchema()},className:"float-right"},"Verify"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-5 pr-1 pl-1"},r.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},r.a.createElement("option",{value:"empty"},"Schema"),r.a.createElement("optgroup",{label:"Testers"},a),r.a.createElement("optgroup",{label:"Custom"},r.a.createElement("option",{value:"file"},"File..."),r.a.createElement("option",{value:"url"},"URL...")))),r.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?"":" d-none")},r.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),r.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?"":" d-none")},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(_.a,{color:"info",onClick:function(){return t.loadURL("schema")}},"Load URL")),r.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(e){return t.setState({schema:ht({},t.state.schema,{url_str:e.target.value})})}})))))}},{key:"converted",value:function(e){var t=this.downloadConfig();return Object.entries(this.props.conversions).map(function(e,t){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),n=a[0],o=a[1];return r.a.createElement("option",{key:t,value:o},n)}),r.a.createElement("fieldset",{className:"col-6 p-0 float-left"},r.a.createElement("legend",null,"Converted Schema"),r.a.createElement("div",{className:"form-control border p-0",style:{height:this.schema_height}},r.a.createElement("textarea",{placeholder:"Converted JADN schema",style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},value:this.props.convertedSchema.convert||"",readOnly:!0})),r.a.createElement("div",{className:"col-12 m-1"}),r.a.createElement("a",{className:"btn btn-sm btn-primary float-right",href:t.content,download:t.file,target:"_blank"},"Download"),r.a.createElement("a",{className:"btn btn-sm btn-secondary float-right mr-2"+(this.state.convert.html?"":" d-none"),href:"#",onClick:this.viewPage.bind(this)},"View Page"),this.state.convert.popup)}},{key:"render",value:function(){var e=this;return r.a.createElement(M.a,ft({},this.meta,{extend:!0}),r.a.createElement("div",{className:"row mx-auto"},r.a.createElement(_.c,{className:"mx-auto col-12",onSubmit:this.submitForm.bind(this)},r.a.createElement("div",{className:"form-row"},this.jadn(),this.converted()),r.a.createElement("div",{className:"col-12"}),r.a.createElement("div",{className:"form-group"},r.a.createElement(_.a,{outline:!0,color:"primary",type:"submit",id:"conv_tooltip"},"Convert"),r.a.createElement(_.l,{placement:"bottom",isOpen:this.state.conv_tooltip,target:"conv_tooltip",toggle:function(){return e.setState({conv_tooltip:!e.state.conv_tooltip})}},"Convert the given JADN schema to the selected format"),r.a.createElement(_.a,{outline:!0,color:"danger",type:"reset",onClick:function(){e.setState({schema:ht({},e.state.schema,{schema:"",conv:""})})}},"Reset")))))}}]),t}(),jt=Object(i.b)(function(e){return{schemas:e.Convert.schemas||[],loadedSchemas:e.Util.loaded.schemas||[],validSchema:e.Validate.valid.schema||{},conversions:e.Convert.conversions||{},convertedSchema:e.Convert.converted||{},siteTitle:e.Util.site_title}},function(e){return{info:function(){return e(mt({},H.RSAA,{endpoint:"/api/convert",method:"GET",types:["@@convert/INFO_REQUEST","@@convert/INFO_SUCCESS","@@convert/INFO_FAILURE"]}))},convertSchema:function(t,a){return e(function(e,t){return mt({},H.RSAA,{endpoint:"/api/convert",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e,"convert-to":t}),types:["@@convert/CONVERT_REQUEST","@@convert/CONVERT_SUCCESS","@@convert/CONVERT_FAILURE"]})}(t,a))},loadFile:function(t,a){return e(Ke(t,a))},validateSchema:function(t){return e(ze(t))}}})(St);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ct(e,t,a[t])})}return e}function Ct(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}a(108);var Tt=a(32),Rt=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?Pt(e):t}(this,At(t).call(this,e,a))).state={val_tooltip:!1,ver_tooltip:!1,message:{message:"",json:{placeholder:"Submit a message for validation to see the json version of the message"},format:"",decode:"",selected:"empty",file:!1,url:!1,url_str:""},schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",decodeTypes:{all:[],exports:[]},file:!1,url:!1,url_str:""}},n.meta={title:Tt("{base} | {page}",{base:n.props.siteTitle,page:"Validator"}),canonical:Tt("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},n.schema_height="16em",n.selectChange=n.selectChange.bind(Pt(Pt(n))),n.fileChange=n.fileChange.bind(Pt(Pt(n))),n.props.info(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,n.Component),function(e,t,a){t&&kt(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props!=e,n=this.state!=t;return a||n}},{key:"submitForm",value:function(e){var t=this;return e.preventDefault(),this.props.validateMessage(this.state.schema.schema,this.state.message.message,this.state.message.format,this.state.message.decode).then(function(){var e=t.props.validMessage;Object(f.toast)(r.a.createElement("p",null,e.valid_msg),{type:f.toast.TYPE[e.valid_bool?"INFO":"WARNING"]}),t.setState({message:_t({},t.state.message,{json:e.message_json})}),t.format("message-json",2)}),!1}},{key:"selectChange",value:function(e){var t=this,a=e.target.id.split("-")[0],n=e.target.value,r={selected:n,file:"file"==n,url:"url"==n};"empty"==n&&"message"==a&&(r.format="",r.decode=""),this.setState(function(e){return Ct({},a,_t({},e[a],r))},function(){var e=t.state[a].selected,n=t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"];if(-1==["","empty",null,"file","url"].indexOf(e)){var r={};"message"==a&&(r.format=e.split(".")[1]),-1==Object.keys(n).indexOf(e)?t.props.loadFile(a+"s",e).then(function(){t.setState(function(n){return Ct({},a,_t({},n[a],r,Ct({},a,t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][e])))},function(){"schema"==a&&t.loadDecodeTypes()})}):t.setState(function(n){return Ct({},a,_t({},t.state[a],Ct({},a,t.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][e])))},function(){"schema"==a&&t.loadDecodeTypes()})}})}},{key:"fileChange",value:function(e){var t=this,a=e.target.id.split("-")[0],n=e.target.files[0],o=n.name.split(".")[1],s=new FileReader;s.onload=function(e){var n=atob(s.result.split(",")[1]);try{n=JSON.stringify(JSON.parse(n),null,2)}catch(e){switch(o){case"cbor":n=Ve(Ye(n))}}if("schema"==a)try{t.setState({schema:_t({},t.state.schema,{schema:JSON.parse(n)})}),t.loadDecodeTypes()}catch(e){Object(f.toast)(r.a.createElement("p",null,"Schema cannot be loaded"),{type:f.toast.TYPE.WARNING})}else"message"==a&&t.setState({message:_t({},t.state.message,{format:"jadn"==o?"json":o,message:n})})},s.readAsDataURL(n)}},{key:"format",value:function(e){if("message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,a="message"==e?this.state.message.format:"json",n=Qe(t,a,2);if(n.startsWith("Error"))return void Object(f.toast)(r.a.createElement("p",null,Tt("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:n})),{type:f.toast.TYPE.WARNING});this.setState({message:_t({},this.state.message,Ct({},"message"==e?"message":"json",n))})}else if("schema"==e)try{this.setState({schema:_t({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(f.toast)(r.a.createElement("p",null,o),{type:f.toast.TYPE.WARNING})}}},{key:"minify",value:function(e){if("message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,a="message"==e?this.state.message.format:"json",n=qe(t,a);if(n.startsWith("Error"))return void Object(f.toast)(r.a.createElement("p",null,Tt("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:n})),{type:f.toast.TYPE.WARNING});this.setState({message:_t({},this.state.message,Ct({},"message"==e?"message":"json",n))})}else if("schema"==e)try{this.setState({schema:_t({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(f.toast)(r.a.createElement("p",null,o),{type:f.toast.TYPE.WARNING})}}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return void Object(f.toast)(r.a.createElement("p",null,e.message),{type:f.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(f.toast)(r.a.createElement("p",null,t.valid_msg),{type:f.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"loadURL",value:function(e){var t=this,a=this.state[e].url_str;if(Me(a)){var n=a.substring(a.lastIndexOf("/")+1),o=n.substring(n.lastIndexOf(".")+1);-1!=["json","jadn"].indexOf(o)||"schema"!=e?We(a).then(function(a){var n;t.setState(Ct({},e,_t({},t.state[e],(Ct(n={},e,a.data),Ct(n,"format","jadn"==o?"json":a.fileExt),n)))),"schema"==e&&t.loadDecodeTypes()}).catch(function(e){Object(f.toast)(r.a.createElement("p",null,"Invalid url, please check what you typed"),{type:f.toast.TYPE.WARNING})}):Object(f.toast)(r.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:f.toast.TYPE.WARNING})}else Object(f.toast)(r.a.createElement("p",null,"Invalid URL, cannot load from a non valid location"),{type:f.toast.TYPE.WARNING})}},{key:"loadDecodeTypes",value:function(){var e={all:[],exports:[]},t="";void 0!=this.state.schema.schema.meta&&void 0!=this.state.schema.schema.meta.exports&&(e.exports=this.state.schema.schema.meta.exports),void 0!=this.state.schema.schema.types&&(e.all=this.state.schema.schema.types.map(function(e){return e[0]}),e.all.sort()),""!=this.state.message.decode&&-1!=e.all.indexOf(this.state.message.decode)||(e.exports.length>=1?t=e.exports[0]:e.all.length>=1&&(t=e.all[0])),this.setState({message:_t({},this.state.message,{decode:t}),schema:_t({},this.state.schema,{decodeTypes:e})})}},{key:"jadn",value:function(){var e=this,t=this.props.schemas.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)});return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"JADN Schema"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("div",{id:"schema-card",className:"tab-pane fade active show"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row float-left col-sm-6 pl-0"},r.a.createElement("div",{className:"form-group col-md-6 mb-0 pr-0 pl-1"},r.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},r.a.createElement("option",{value:"empty"},"Schema"),r.a.createElement("optgroup",{label:"Testers"},t),r.a.createElement("optgroup",{label:"Custom"},r.a.createElement("option",{value:"file"},"File..."),r.a.createElement("option",{value:"url"},"URL...")))),r.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?"":" d-none")},r.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),r.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?"":" d-none")},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(_.a,{color:"info",onClick:function(){return e.loadURL("schema")}},"Load URL")),r.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(t){return e.setState({schema:_t({},e.state.schema,{url_str:t.target.value})})}})))),r.a.createElement(_.b,{className:"float-right"},r.a.createElement(_.a,{outline:!0,color:"secondary",onClick:function(){return e.verifySchema()},id:"ver_tooltip"},"Verify"),r.a.createElement(_.l,{placement:"bottom",isOpen:this.state.ver_tooltip,target:"ver_tooltip",toggle:function(){return e.setState({ver_tooltip:!e.state.ver_tooltip})}},"Validate the schema is valid prior to validating the message"))),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement(Y.a,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(t){t.jsObject&&e.setState({schema:_t({},e.state.schema,{schema:t.jsObject})})},theme:"light_mitsuketa_tribute",locale:Q.a,reset:!1,height:"100%",width:"100%"})))))))}},{key:"message",value:function(){var e=this,t=Object.entries(this.props.messages).map(function(e,t){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),n=a[0],o=a[1];return r.a.createElement("option",{key:t,value:n,decode:o},n)}),a=this.state.schema.decodeTypes.exports.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}),n=this.state.schema.decodeTypes.all.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)});return"string"!=typeof this.state.message.message&&setTimeout(function(){return e.format("message")},5),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Message"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("ul",{className:"nav nav-tabs"+(this.state.message.json.placeholder?" d-none":"")},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active show","data-toggle":"tab",href:"#message-card"},"Original")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#json-card"},"JSON"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{id:"message-card",className:"tab-pane fade active show"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row float-left col-sm-6 pl-0"},r.a.createElement("div",{className:"form-group col-md-6 mb-0 pr-0 pl-1"},r.a.createElement("select",{id:"message-list",name:"message-list",className:"form-control",default:"empty",onChange:this.selectChange},r.a.createElement("option",{value:"empty"},"Message"),r.a.createElement("optgroup",{label:"Testers"},t),r.a.createElement("optgroup",{label:"Custom"},r.a.createElement("option",{value:"file"},"File..."),r.a.createElement("option",{value:"url"},"URL...")))),r.a.createElement("div",{id:"message-file-group",className:"form-group col-md-6 px-1"+(this.state.message.file?"":" d-none")},r.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"message-file",name:"message-file",accept:".json,.jadn,.xml,.cbor",onChange:this.fileChange})),r.a.createElement("div",{id:"message-url-group",className:"form-group col-md-6 px-1"+(this.state.message.url?"":" d-none")},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(_.a,{color:"info",onClick:function(){return e.loadURL("message")}},"Load URL")),r.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(t){return e.setState({message:_t({},e.state.message,{url_str:t.target.value})})}})))),r.a.createElement(_.b,{className:"float-right"},r.a.createElement(_.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message")}},"Format"),r.a.createElement(_.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message")}},"Verbose"),r.a.createElement(_.a,{outline:!0,color:"secondary",onClick:function(){return e.minify("message")}},"Minify"))),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement("textarea",{placeholder:"Paste message to be validated here",style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},required:"",value:this.state.message.message,onChange:function(t){return e.setState({message:_t({},e.state.message,{message:t.target.value})})}})),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"float-left form-group col-md-3 col-sm-6 pr-1 pl-1"},r.a.createElement("label",{className:"control-label",htmlFor:"message-format"},"Message Format"),r.a.createElement("select",{className:"form-control",id:"message-format",name:"message-format",required:"",value:this.state.message.format,onChange:function(t){return e.setState({message:_t({},e.state.message,{format:t.target.value})})}},r.a.createElement("option",{value:""},"Message Format"),r.a.createElement("option",{value:"json"},"json"),r.a.createElement("option",{value:"cbor"},"cbor"),r.a.createElement("option",{value:"xml"},"xml"))),r.a.createElement("div",{className:"float-left form-group col-md-3 col-sm-6 pr-1 pl-1"},r.a.createElement("label",{className:"control-label",htmlFor:"message-decode"},"Message Type"),r.a.createElement("select",{className:"form-control",id:"message-decode",name:"message-decode",required:"",value:this.state.message.decode,onChange:function(t){return e.setState({message:_t({},e.state.message,{decode:t.target.value})})}},r.a.createElement("optgroup",{label:"Exports"},a),r.a.createElement("optgroup",{label:"All"},n)))))),r.a.createElement("div",{id:"json-card",className:"tab-pane fade"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(_.b,{className:"float-right"},r.a.createElement(_.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message-json",2)}},"Verbose"),r.a.createElement(_.a,{outline:!0,color:"secondary",onClick:function(){return e.minify("message-json")}},"Minify"))),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement("textarea",{placeholder:JSON.stringify(this.state.message.json),style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},id:"message-json",rows:"10",value:this.state.message.json,readOnly:!0}))))))))}},{key:"render",value:function(){var e=this;return r.a.createElement(M.a,wt({},this.meta,{extend:!0}),r.a.createElement("div",{className:"row mx-auto"},r.a.createElement(_.c,{className:"mx-auto col-12 position-relative",onSubmit:this.submitForm.bind(this)},r.a.createElement("div",{className:"form-group position-absolute",style:{right:"1.25em",zIndex:100}},r.a.createElement(_.a,{outline:!0,color:"primary",id:"val_tooltip"},"Validate"),r.a.createElement(_.l,{placement:"bottom",isOpen:this.state.val_tooltip,target:"val_tooltip",toggle:function(){return e.setState({val_tooltip:!e.state.val_tooltip})}},"Validate the message against the given schema"),r.a.createElement(_.a,{outline:!0,color:"danger",type:"reset"},"Reset")),this.jadn(),this.message())))}}]),t}(),It=Object(i.b)(function(e){return{messages:e.Validate.messages,loadedMessages:e.Util.loaded.messages||{},validMessage:e.Validate.valid.message||{},schemas:e.Validate.schemas,loadedSchemas:e.Util.loaded.schemas||{},validSchema:e.Validate.valid.schema||{},siteTitle:e.Util.site_title}},function(e){return{info:function(){return e(He({},H.RSAA,{endpoint:"/api/validate",method:"GET",types:["@@validate/INFO_REQUEST","@@validate/INFO_SUCCESS","@@validate/INFO_FAILURE"]}))},loadFile:function(t,a){return e(Ke(t,a))},validateSchema:function(t){return e(ze(t))},validateMessage:function(t,a,n,r){return e(function(e,t,a,n){return He({},H.RSAA,{endpoint:"/api/validate",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e,message:t,"message-format":a,"message-decode":n}),types:["@@validate/VALIDATE_MESSAGE_REQUEST","@@validate/VALIDATE_MESSAGE_SUCCESS","@@validate/VALIDATE_FAILURE"]})}(t,a,n,r))}}})(Rt);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ft(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt=a(32),Mt=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Lt(t).call(this,e,a))).meta={title:"JADN",description:"JADN",canonical:Jt("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},n.props.info().then(function(){n.meta=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Dt(e,t,a[t])})}return e}({},n.meta,{title:n.props.siteTitle,description:n.props.siteDesc})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,n.Component),function(e,t,a){t&&Ft(e.prototype,t)}(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid mt-3"},r.a.createElement(G,{history:this.props.history}),r.a.createElement(u.a,{history:this.props.history},r.a.createElement(m.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:It}),r.a.createElement(p.a,{exact:!0,path:"/convert",component:jt}),r.a.createElement(p.a,{path:"/create/",component:ct}),r.a.createElement(p.a,{component:b})," // This should always be last route")),r.a.createElement(f.ToastContainer,{position:f.toast.POSITION.BOTTOM_CENTER,autoClose:5e3}))}}]),t}(),Wt=Object(i.b)(function(e){return{siteTitle:e.Util.site_title,siteDesc:e.Util.site_desc}},function(e){return{info:function(){return e($e({},H.RSAA,{endpoint:"/api/",method:"GET",types:["@@util/INFO_REQUEST","@@util/INFO_SUCCESS","@@util/INFO_FAILURE"]}))}}})(Mt),Vt=a(121),Yt=a.n(Vt),Bt=a(122),Qt=a(13),qt=a(76);function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){zt(e,t,a[t])})}return e}function zt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $t={conversions:{},converted:{},schemas:[]};function Kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Xt(e,t,a[t])})}return e}function Xt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Zt={selectedSchema:{},schemas:[],message:{},types:{schema:["Record","Enumerated","Map","Choice","ArrayOf","Array"],base:["String"]}};function ea(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){ta(e,t,a[t])})}return e}function ta(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var aa={site_title:"JADN Lint",site_desc:"",error:"",loaded:{messages:{},schemas:{}}};function na(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){ra(e,t,a[t])})}return e}function ra(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var oa={messages:{},schemas:[],error:{},valid:{message:{},schema:{}}},sa=Object(Qt.c)({Convert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"@@convert/INFO_SUCCESS":return Ht({},e,{conversions:t.payload.conversions||{},schemas:t.payload.schemas||[]});case"@@convert/CONVERT_SUCCESS":return Ht({},e,{converted:t.payload.schema||{}});case"@@convert/INFO_FAILURE":case"@@convert/CONVERT_FAILURE":return console.log(t.payload),Ht({},e,{error:t.payload.error||"ERROR"});default:return e}},Generate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(Kt({},e.message),t.type){case"@@generate/INFO_SUCCESS":return Kt({},e,{schemas:t.payload.schemas||[]});case"@@generate/SCHEMA_DEFINE":return Kt({},e,{selectedSchema:t.payload.schema});case"@@generate/INFO_FAILURE":case"@@generate/SCHEMA_FAILURE":default:return e}},Router:u.c,Util:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=ea({},e);switch(t.type){case"@@util/INFO_SUCCESS":return ea({},e,{site_title:t.payload.title||"JADN Lint",site_desc:t.payload.message||"JADN Schema Lint"});case"@@util/LOAD_SUCCESS":return a.loaded[t.payload.type][t.payload.file]=t.payload.data,a;case"@@util/INFO_FAILURE":case"@@util/LOAD_FAILURE":return ea({},e,{error:t.payload.valid_msg||t.payload.error||"ERROR"});default:return e}},Validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"@@validate/INFO_SUCCESS":return na({},e,{messages:t.payload.messages||{},schemas:t.payload.schemas||[],error:{}});case"@@validate/VALIDATE_SCHEMA_SUCCESS":return na({},e,{valid:na({},e.valid,{schema:t.payload})});case"@@validate/VALIDATE_MESSAGE_SUCCESS":return na({},e,{valid:na({},e.valid,{message:t.payload})});case"@@validate/INFO_FAILURE":case"@@validate/VALIDATE_FAILURE":return console.log(t.payload),na({},e,{error:t.payload.valid_msg||t.payload.error||"ERROR"});default:return e}}}),ia=Yt()(),ca=function(e){var t=Object(qt.a)({key:"orc_gui",storage:Bt.a,whitelist:[]},sa),a=[H.apiMiddleware,Object(u.b)(e)],n=Object(Qt.d)(t,{},Qt.a.apply(void 0,a));return Object(qt.b)(n),n}(ia);s.a.render(r.a.createElement(function(){return r.a.createElement(i.a,{store:ca},r.a.createElement(Wt,{history:ia}))},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(Object({NODE_ENV:"production"}).PUBLIC_URL,window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(Object({NODE_ENV:"production"}).PUBLIC_URL,"/service-worker.js");c?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):l(e)})}}()}});