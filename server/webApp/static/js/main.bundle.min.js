!function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],p=0,m=[];p<s.length;p++)i=s[p],a[i]&&m.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([238,1]),n()}({118:function(e,t,n){e.exports=n.p+"assets/img/openc2-logo.png"},119:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAAADFBMVEUAAAAGmgCDg4NdG/+JbcowAAAAAXRSTlMAQObYZgAAAEpJREFUOMtjYKAaCAUCagg40MJQ2ruDYdUqBvoKaK1CAitoJ4Cwln4C/1+t+n+A4f+qVf8ZmP+vWv2f4T8QHACTQAEQObIEBisAAF9PNI38EeP2AAAAAElFTkSuQmCC"},134:function(e,t,n){},137:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(14),i=n.n(o),s=n(6),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(131),n(132),n(134),n(137);var u=n(30),p=n(239),m=n(240),f=n(241),d=n(4),h=n(8),g=n(7);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,E(t).call(this,e))).iconGeneral={display:"inline-block",width:"1em",height:"1em",fontSize:"4em",textAlign:"center",position:"absolute",top:0,left:0,MozAnimationDuration:"5s",OAnimationDuration:"5s",WebkitAnimationDuration:"5s",animationDuration:"5s"},n.reverseAnimation={MozAnimationDirection:"reverse",OAnimationDirection:"reverse",WebkitAnimationDirection:"reverse",animationDirection:"reverse"},console.log("Whoop, there's an issue here!"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r.Component),function(e,t,n){t&&k(e.prototype,t)}(t,[{key:"goBack",value:function(){1===this.props.history.length?(console.log("Cant Go Back!!"),Object(d.toast)(a.a.createElement("p",null,"Looks like this is a new tab, try closing it instead of going back"),{type:d.toast.TYPE.WARNING})):(console.log("Go Back!!"),this.props.history.goBack())}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"jumbotron well col-md-10 col-12 mx-auto"},a.a.createElement("h1",null,"Whoops"),a.a.createElement("h3",null,"This isn't a valid page, are you sure this is where you wanted to go?"),a.a.createElement("div",{className:"mx-auto",style:{height:"9em",width:"9em",fontSize:"1em",position:"relative"}},a.a.createElement(h.a,{icon:g.a,spin:!0,style:this.iconGeneral}),a.a.createElement(h.a,{icon:g.a,spin:!0,style:y({},this.iconGeneral,this.reverseAnimation,{fontSize:"6em",top:"0.53em",left:"0.25em"})}),a.a.createElement(h.a,{icon:g.a,spin:!0,style:y({},this.iconGeneral,{fontSize:"3em",top:"0.25em",left:"1.7em"})})),a.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.goBack()}},"Go Back"))}}]),t}(),S=n(118),j=n.n(S);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,x(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r.Component),function(e,t,n){t&&N(e.prototype,t)}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"row mx-auto"},a.a.createElement("div",{className:"col-12"},a.a.createElement("img",{src:j.a,alt:"OpenC2 Logo",className:"float-left col-md-4 col-xs-12 mr-3 mb-3"}),a.a.createElement("p",null,"Spicy jalapeno bacon ipsum dolor amet dolore aliquip sirloin swine quis veniam magna in ipsum voluptate reprehenderit elit velit sunt. Landjaeger laboris buffalo excepteur bacon commodo fugiat. Pastrami landjaeger rump, id dolore corned beef flank ad beef officia velit meatball ex. Qui ipsum cupim, dolore adipisicing salami est in ham hock consectetur hamburger enim pork belly. Incididunt quis shankle magna, minim occaecat ham officia consectetur landjaeger burgdoggen leberkas pastrami."),a.a.createElement("p",null,"Hamburger pork chop nostrud ea minim dolore, venison flank exercitation sausage pork sirloin. Kielbasa frankfurter consequat cupidatat shoulder short loin non eu. Doner pig in hamburger, consequat eu veniam prosciutto. Pork sint tail biltong tenderloin do nulla in swine tempor strip steak adipisicing incididunt. Pastrami in anim ham officia ut excepteur dolor cupim ground round veniam biltong meatball. Enim frankfurter swine meatloaf spare ribs capicola. Do fatback chicken rump, est id pork chop leberkas shankle shank eu esse."),a.a.createElement("p",null,"Reprehenderit landjaeger kevin ut pork loin. Leberkas sirloin deserunt voluptate, veniam andouille quis tenderloin non ground round nisi. Cupidatat culpa sausage nisi filet mignon, tempor aliquip sed bresaola qui chicken do in veniam. Dolor in tri-tip buffalo ham fugiat, mollit pariatur. Nisi ut leberkas labore, shoulder shank cow turducken nostrud non et velit ad veniam. Fatback cupidatat pancetta est laborum chuck quis flank ipsum ribeye.")))}}]),t}();Object(s.b)(function(e){return{}})(A);var T=n(2),P=n(119),I=n.n(P);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function L(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var q=function(e){function t(e,n){var r;return R(this,t),(r=L(this,V(t).call(this,e,n))).external=r.props.external||!1,r}return G(t,r.Component),F(t,[{key:"render",value:function(){var e=this.props.href===this.props.active;return a.a.createElement("li",{onClick:this.external?function(){}:this.props.click,className:e?" active":""},a.a.createElement("a",{id:this.props.id||"",href:this.props.href,target:this.props.target,onClick:this.external?function(){}:function(e){e.preventDefault()},className:"nav-link"},this.props.icon?a.a.createElement("i",{className:"fa fa-"+this.props.icon}):""," ",this.props.text))}}]),t}(),W=function(e){function t(e,n){var r;R(this,t);var a=(r=L(this,V(t).call(this,e,n))).props.history.location.pathname===r.prefix;return r.state={active:a?"/":r.props.history.location.pathname,about_modal:!1,features_modal:!1},r.toggle=r.toggle.bind(M(M(r))),r}return G(t,r.Component),F(t,[{key:"navigate",value:function(e){if(e.preventDefault(),null!==e.target.href&&void 0!==e.target.href){var t=e.target.href.replace(window.location.origin,"");this.props.history.push({pathname:t}),this.setState({active:t})}}},{key:"toggle",value:function(e){console.log(e.target)}},{key:"modals",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(T.l,{isOpen:this.state.about_modal,toggle:function(){return e.setState({about_modal:!e.state.about_modal})}},a.a.createElement(T.n,{toggle:function(){return e.setState({about_modal:!e.state.about_modal})}},"About"),a.a.createElement(T.m,null,a.a.createElement("p",null,"OpenC2 is defined using JSON Abstract Schema Notation (JADN). The JADN validator can check messages against any schema."),a.a.createElement("p",null,"Source is available from the ",a.a.createElement("a",{href:"https://github.com/OpenC2-org/jadn",target:"_blank"},"OpenC2 JADN Github")," repo."))),a.a.createElement(T.l,{isOpen:this.state.features_modal,toggle:function(){return e.setState({features_modal:!e.state.features_modal})}},a.a.createElement(T.n,{toggle:function(){return e.setState({features_modal:!e.state.features_modal})}},"Features"),a.a.createElement(T.m,null,a.a.createElement("ul",null,a.a.createElement("li",null,"JADN validation of messages in",a.a.createElement("ul",null,a.a.createElement("li",null,"JSON Format"),a.a.createElement("li",null,"CBOR Format"),a.a.createElement("li",null,"XML Format"))),a.a.createElement("li",null,"JADN Schema conversion to",a.a.createElement("ul",null,a.a.createElement("li",null,"JADN Format"),a.a.createElement("li",null,"ProtoBuf3 Format"),a.a.createElement("li",null,"Relax-NG Format"),a.a.createElement("li",null,"CDDL Format"),a.a.createElement("li",null,"MarkDown Format"),a.a.createElement("li",null,"HTML Format")))))))}},{key:"render",value:function(){var e=this;return a.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light fixed-top"},a.a.createElement("div",{className:"navbar-brand"},a.a.createElement("img",{src:I.a,alt:"Logo"}),a.a.createElement("a",{href:"https://github.com/oasis-open/openc2-jadn/",target:"_blank"},"JADN")," Lint"),a.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navMain","aria-controls":"navMain","aria-expanded":"false","aria-label":"Toggle navigation"},a.a.createElement("span",{className:"navbar-toggler-icon"})),a.a.createElement("div",{className:"collapse navbar-collapse",id:"navMain"},a.a.createElement("ul",{className:"navbar-nav mr-auto"},a.a.createElement(q,{href:"/",text:"Validate",click:this.navigate.bind(this)}),a.a.createElement(q,{href:"/convert",text:"Convert",click:this.navigate.bind(this)}),a.a.createElement("li",{className:"nav-item dropdown"},a.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navMainDropdown1",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Generate"),a.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navMainDropdown1"},a.a.createElement("a",{className:"dropdown-item",href:"/generate/message",onClick:this.navigate.bind(this)},"Messages"),a.a.createElement("a",{className:"dropdown-item",href:"/generate/schema",onClick:this.navigate.bind(this)},"schemas"))),a.a.createElement(q,{href:"#",text:"About",click:function(){return e.setState({about_modal:!e.state.about_modal})}}),a.a.createElement(q,{href:"#",text:"Features",click:function(){return e.setState({features_modal:!e.state.features_modal})}}))),this.modals())}}]),t}(),J=Object(s.b)(function(e){return{site_title:e.Util.site_title}},function(e){return{}})(W),B=n(20),z=n.n(B),K=(n(154),n(121)),Y=n.n(K),H=function(e){return e.match(/^(https?:\/\/)?(www\.)?[0-9a-z]+([\-\.]{1}[0-9a-z]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/)},Q=function(e){if(!H(e))return new Promise(function(e,t){t({error:"invalid url"})});var t={data:"",file:e.substring(e.lastIndexOf("/")+1)};return t.fileName=t.file.substring(0,t.file.lastIndexOf(".")),t.fileExt=t.file.substring(t.file.lastIndexOf(".")+1),fetch(e).then(function(e){return function(e){var t=e.getReader(),n=[];return function e(){return t.read().then(function(t){var r=t.value;return t.done?n:(n.push(r),e())})}()}(e.body)}).then(function(e){var n=function(e){if(1==e.length){var t=Array.from(e[0]);return(t=t.map(function(e){return e>128?"\\x"+e.toString(16):String.fromCharCode(e)})).join("")}return""}(e);switch(t.fileExt){case"jadn":case"json":console.log("JADN/JSON");try{n=JSON.parse(n)}catch(e){n={error:e.message}}break;case"cbor":console.log("CBOR"),n=$(X(n));break;case"xml":console.log("XML");break;default:console.log("UNKNOWN")}return t.data=n,t}).catch(function(n){return console.log("failed to load ",e,n.stack),t})},$=function(e){if(e.replace(/\s/g,"").match(/^[0-9a-fA-F]+$/))throw{message:"cannot convert hexidecimal to hexidecimal"};return e.split(/\\x/g).map(function(e,t){return[e.substr(0,2)].concat(e.substr(2).split("").map(function(e){return e.charCodeAt(0).toString(16)})).join(" ")}).join(" ").replace(/^\s+/,"")},X=function(e){var t="";for(var n in e=e.toString()){var r=e.charCodeAt(n),a=e.charAt(n);t+=r>128?"\\x"+r.toString(16):a}return t},Z=n(86),ee=function(e,t,n){n=n||2;var r="";try{switch(t){case"cbor":r=function(e){if(!(e=e.replace(/\s/g,"")).match(/^[0-9a-fA-F]+$/))throw{message:"cannot convert, not valid hexidecimal"};if(e.length%2==1)throw{message:"cannot convert, not valid length"};return(e=e.match(/.{1,2}/g)).map(function(e,t){var n=parseInt(e,16);return n>128?"\\x"+e:String.fromCharCode(n)}).join("").replace(/^\s+/,"")}(e);break;case"json":r=Z.json(e," ".repeat(n));break;case"xml":r=Z.xml(e," ".repeat(n));break;default:r="Error, cannot format "+t+" message"}}catch(e){r="Error, cannot format: "+e.message}return r},te=function(e,t){var n="";try{switch(t){case"cbor":n=$(e);break;case"json":n=Z.jsonmin(e);break;case"xml":n=Z.xmlmin(e);break;default:n="Error, cannot minify "+t+" message"}}catch(e){n="Error, cannot minify: "+e.message}return n},ne={dark_vscode_tribute:{default:"#D4D4D4",background:"#1E1E1E",background_warning:"#1E1E1E",string:"#CE8453",number:"#B5CE9F",colon:"#49B8F7",keys:"#9CDCFE",keys_whiteSpace:"#AF74A5",primitive:"#6392C6"},light_mitsuketa_tribute:{default:"#D4D4D4",background:"#FCFDFD",background_warning:"#FEECEB",string:"#FA7921",number:"#70CE35",colon:"#49B8F7",keys:"#59A5D8",keys_whiteSpace:"#835FB6",primitive:"#386FA4"}},re=n(71),ae=function(e,t,n){if(void 0===e&&console.error("tokens argument must be an array."),void 0===t&&console.error("tokenID argument must be an integer."),void 0===n&&console.error("options argument must be an array."),t===e.length-1)return!1;for(var r=t+1;r<e.length;r++){var a=e[r];switch(a.type){case"space":case"linebreak":break;case"symbol":case"colon":return n.indexOf(a.string)>-1&&r;default:return!1}}return!1},oe=function(e,t,n){if(void 0===e&&console.error("tokens argument must be an array."),void 0===t&&console.error("tokenID argument must be an integer."),void 0===n&&console.error("options argument must be an array."),0===t)return!1;for(var r=t-1;r>=0;r--){var a=e[r];switch(a.type){case"space":case"linebreak":break;case"symbol":case"colon":return n.indexOf(a.string)>-1;default:return!1}}return!1},ie=function(e,t){if(void 0===e&&console.error("tokens argument must be an array."),void 0===t&&console.error("tokenID argument must be an integer."),0===t)return!1;for(var n=t-1;n>=0;n--){var r=e[n];switch(r.type){case"space":case"linebreak":break;default:return r.type}}return!1},se={getCaller:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=(new Error).stack.replace(/^Error\s+/,"");return(t=t.split("\n")[e]).replace(/^\s+at Object./,"").replace(/^\s+at /,"").replace(/ \(.+\)$/,"")},throwError:function(){throw["@",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown function","(): Expected parameter '",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown parameter","' ",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"to be defined"].join("")},isUndefined:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0;[null,void 0].indexOf(t)>-1&&se.throwError(se.getCaller(2),e)},isFalsy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>";(arguments.length>1?arguments[1]:void 0)||se.throwError(se.getCaller(2),e)},isNoneOf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];-1===n.indexOf(t)&&se.throwError(se.getCaller(2),e,"to be any of"+JSON.stringify(n))},isAnyOf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.indexOf(t)>-1&&se.throwError(se.getCaller(2),e,"not to be any of"+JSON.stringify(n))},isNotType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(re.getType)(t)!==n.toLowerCase()&&se.throwError(se.getCaller(2),e,"to be type "+n.toLowerCase())},isAnyTypeOf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0;(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).forEach(function(n){Object(re.getType)(t)===n&&se.throwError(se.getCaller(2),e,"not to be type of "+n.toLowerCase())})},missingKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";se.isUndefined(e,t),-1===Object.keys(t).indexOf(n)&&se.throwError(se.getCaller(2),e,"to contain '"+n+"' key")},missingAnyKeys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""];se.isUndefined(e,t);var r=Object.keys(t);n.forEach(function(t){-1===r.indexOf(t)&&se.throwError(se.getCaller(2),e,"to contain '"+t+"' key")})},containsUndefined:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0;[void 0,null].forEach(function(n){var r=Object(re.locate)(t,n);r&&se.throwError(se.getCaller(2),e,"not to contain '"+JSON.stringify(n)+"' at "+r)})},isInvalidPath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0;se.isUndefined(e,t),se.isNotType(e,t,"string"),se.isAnyOf(e,t,["","/"]),".$[]#".split().forEach(function(n){t.indexOf(n)>-1&&se.throwError(se.getCaller(2),e,"not to contain invalid character '"+n+"'")}),t.match(/\/{2,}/g)&&se.throwError(se.getCaller(2),e,"not to contain consecutive forward slash characters")},isInvalidWriteData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<unknown parameter>",t=arguments.length>1?arguments[1]:void 0;se.isUndefined(e,t),se.containsUndefined(e,t)}},le=se,ce=function(e,t){return t?Object.keys(t).reduce(function(e,n){return e.replace(new RegExp("\\{".concat(n,"\\}"),"gi"),function(e){return Array.isArray(e)?e.join(", "):"string"==typeof e?e:""+e}(t[n]))},e):e},ue={format:"{reason} at line {line}",symbols:{colon:"colon",comma:"comma",semicolon:"semicolon",slash:"slash",backslash:"backslash",brackets:{round:"round brackets",square:"square brackets",curly:"curly brackets",angle:"angle brackets"},period:"period",quotes:{single:"single quote",double:"double quote",grave:"grave accent"},space:"space",ampersand:"ampersand",asterisk:"asterisk",at:"at sign",equals:"equals sign",hash:"hash",percent:"percent",plus:"plus",minus:"minus",dash:"dash",hyphen:"hyphen",tilde:"tilde",underscore:"underscore",bar:"vertical bar"},types:{key:"key",value:"value",number:"number",string:"string",primitive:"primitive",boolean:"boolean",character:"character",integer:"integer",array:"array",float:"float"},invalidToken:{tokenSequence:{prohibited:"'{firstToken}' token cannot be followed by '{secondToken}' token(s)",permitted:"'{firstToken}' token can only be followed by '{secondToken}' token(s)"},termSequence:{prohibited:"A {firstTerm} cannot be followed by a {secondTerm}",permitted:"A {firstTerm} can only be followed by a {secondTerm}"},double:"'{token}' token cannot be followed by another '{token}' token",useInstead:"'{badToken}' token is not accepted. Use '{goodToken}' instead",unexpected:"Unexpected '{token}' token found"},brace:{curly:{missingOpen:"Missing '{' open curly brace",missingClose:"Open '{' curly brace is missing closing '}' curly brace",cannotWrap:"'{token}' token cannot be wrapped in '{}' curly braces"},square:{missingOpen:"Missing '[' open square brace",missingClose:"Open '[' square brace is missing closing ']' square brace",cannotWrap:"'{token}' token cannot be wrapped in '[]' square braces"}},string:{missingOpen:"Missing/invalid opening string '{quote}' token",missingClose:"Missing/invalid closing string '{quote}' token",mustBeWrappedByQuotes:"Strings must be wrapped by quotes",nonAlphanumeric:"Non-alphanumeric token '{token}' is not allowed outside string notation",unexpectedKey:"Unexpected key found at string position"},key:{numberAndLetterMissingQuotes:"Key beginning with number and containing letters must be wrapped by quotes",spaceMissingQuotes:"Key containing space must be wrapped by quotes",unexpectedString:"Unexpected string found at key position"},noTrailingOrLeadingComma:"Trailing or leading commas in arrays and objects are not permitted"};function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fe(e,t,n[t])})}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ye=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?ve(e):t}(this,he(t).call(this,e,n))).updateInternalProps=r.updateInternalProps.bind(ve(ve(r))),r.createMarkup=r.createMarkup.bind(ve(ve(r))),r.onClick=r.onClick.bind(ve(ve(r))),r.onBlur=r.onBlur.bind(ve(ve(r))),r.update=r.update.bind(ve(ve(r))),r.getCursorPosition=r.getCursorPosition.bind(ve(ve(r))),r.setCursorPosition=r.setCursorPosition.bind(ve(ve(r))),r.scheduledUpdate=r.scheduledUpdate.bind(ve(ve(r))),r.setUpdateTime=r.setUpdateTime.bind(ve(ve(r))),r.renderLabels=r.renderLabels.bind(ve(ve(r))),r.newSpan=r.newSpan.bind(ve(ve(r))),r.renderErrorMessage=r.renderErrorMessage.bind(ve(ve(r))),r.onScroll=r.onScroll.bind(ve(ve(r))),r.showPlaceholder=r.showPlaceholder.bind(ve(ve(r))),r.tokenize=r.tokenize.bind(ve(ve(r))),r.onKeyPress=r.onKeyPress.bind(ve(ve(r))),r.onKeyDown=r.onKeyDown.bind(ve(ve(r))),r.onPaste=r.onPaste.bind(ve(ve(r))),r.stopEvent=r.stopEvent.bind(ve(ve(r))),r.refContent=null,r.refLabels=null,r.updateInternalProps(),r.renderCount=1,r.state={prevPlaceholder:"",markupText:"",plainText:"",json:"",jsObject:void 0,lines:!1,error:!1},r.props.locale||console.warn("[jadn-editor - Deprecation Warning] You did not provide a 'locale' prop for your JSON input - This will be required in a future version. English has been set as a default."),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,r.Component),function(e,t,n){t&&de(e.prototype,t)}(t,[{key:"componentDidUpdate",value:function(){this.updateInternalProps(),this.showPlaceholder()}},{key:"componentDidMount",value:function(){this.showPlaceholder()}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"updateInternalProps",value:function(){var e=this,t=ne.dark_vscode_tribute;if("theme"in this.props&&"string"==typeof this.props.theme&&this.props.theme in ne&&(t=ne[this.props.theme]),this.colors=t,"colors"in this.props){var n=function(t){return t in e.props.colors?e.props.colors[t]:e.colors[t]};this.colors={default:n("default"),string:n("string"),number:n("number"),colon:n("colon"),keys:n("keys"),keys_whiteSpace:n("keys_whiteSpace"),primitive:n("primitive"),error:n("error"),background:n("background"),background_warning:n("background_warning")}}if("style"in this.props){var r=function(t){return t in e.props.style?e.props.style[t]:{}};this.style={outerBox:r("outerBox"),warningBox:r("warningBox"),container:r("container"),errorMessage:r("errorMessage"),body:r("body"),labelColumn:r("labelColumn"),labels:r("labels"),contentBox:r("contentBox")}}else this.style={outerBox:{},container:{},warningBox:{},errorMessage:{},body:{},labelColumn:{},labels:{},contentBox:{}};this.confirmGood=!("confirmGood"in this.props)||this.props.confirmGood,this.totalHeight=this.props.height||"610px",this.totalWidth=this.props.width||"479px","onKeyPressUpdate"in this.props&&!this.props.onKeyPressUpdate?this.timer&&(clearInterval(this.timer),this.timer=!1):this.timer||(this.timer=setInterval(this.scheduledUpdate,100)),this.updateTime=!1,this.waitAfterKeyPress="waitAfterKeyPress"in this.props?this.props.waitAfterKeyPress:1e3,this.resetConfiguration="reset"in this.props&&this.props.reset}},{key:"newSpan",value:function(e,t,n){var r=this.colors,a=t.type,o=t.string,i="";switch(a){case"string":case"number":case"primitive":case"error":i=r[t.type];break;case"key":i=" "===o?r.keys_whiteSpace:r.keys;break;case"symbol":i=":"===o?r.colon:r.default;break;default:i=r.default}return o.length!==o.replace(/</g,"").replace(/>/g,"").length&&(o="<xmp style=display:inline;>"+o+"</xmp>"),'<span type="'+a+'" value="'+o+'" depth="'+n+'" style="color: '+i+'">'+o+"</span>"}},{key:"onClick",value:function(){"viewOnly"in this.props&&this.props.viewOnly}},{key:"onBlur",value:function(){"viewOnly"in this.props&&this.props.viewOnly||this.update(0,!1)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.refContent,r=this.tokenize(n),a={plainText:r.indented,markupText:r.markup,json:r.json,jsObject:r.jsObject,lines:r.lines,error:r.error};"onChange"in this.props&&this.props.onChange(a);var o=this.getCursorPosition(r.error)+e;this.setState(a),this.updateTime=!1,t&&this.setCursorPosition(o)}},{key:"getCursorPosition",value:function(e){var t,n=this,r=window.getSelection(),a=-1,o=0;if(r.focusNode&&function(e){for(;null!==e;){if(e===n.refContent)return!0;e=e.parentNode}return!1}(r.focusNode))for(t=r.focusNode,a=r.focusOffset;t&&t!==this.refContent;)if(t.previousSibling)t=t.previousSibling,e&&"BR"===t.nodeName&&o++,a+=t.textContent.length;else if(null===(t=t.parentNode))break;return a+o}},{key:"setCursorPosition",value:function(e){var t=this;[!1,null,void 0].indexOf(e)>-1||(e>0?function(e){if(!(e<0)){var n=window.getSelection(),r=function e(t,n,r){if(r||((r=document.createRange()).selectNode(t),r.setStart(t,0)),0===n.count)r.setEnd(t,n.count);else if(t&&n.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<n.count?n.count-=t.textContent.length:(r.setEnd(t,n.count),n.count=0);else for(var a=0;a<t.childNodes.length&&(r=e(t.childNodes[a],n,r),0!==n.count);a++);return r}(t.refContent,{count:e});r&&(r.collapse(!1),n.removeAllRanges(),n.addRange(r))}}(e):this.refContent.focus())}},{key:"scheduledUpdate",value:function(){if(!("onKeyPressUpdate"in this.props&&!1===this.props.onKeyPressUpdate)){var e=this.updateTime;!1===e||e>(new Date).getTime()||this.update()}}},{key:"setUpdateTime",value:function(){"onKeyPressUpdate"in this.props&&!1===this.props.onKeyPressUpdate||(this.updateTime=(new Date).getTime()+this.waitAfterKeyPress)}},{key:"onScroll",value:function(e){this.refLabels.scrollTop=e.target.scrollTop}},{key:"onKeyPress",value:function(e){var t=e.ctrlKey||e.metaKey;this.props.viewOnly&&!t&&this.stopEvent(e),t||this.setUpdateTime()}},{key:"onKeyDown",value:function(e){var t=!!this.props.viewOnly,n=e.ctrlKey||e.metaKey;switch(e.key){case"Tab":if(this.stopEvent(e),t)break;document.execCommand("insertText",!1,"  "),this.setUpdateTime();break;case"Backspace":case"Delete":t&&this.stopEvent(e),this.setUpdateTime();break;case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.setUpdateTime();break;case"a":case"c":t&&!n&&this.stopEvent(e);break;default:t&&this.stopEvent(e)}}},{key:"onPaste",value:function(e){if(this.props.viewOnly)this.stopEvent(e);else{e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}this.update()}},{key:"stopEvent",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"createMarkup",value:function(e){return{__html:void 0===e?"":""+e}}},{key:"showPlaceholder",value:function(){if(!(!1 in this.props)){var e=this.props.placeholder;if(!([void 0,null].indexOf(e)>-1)){var t=this.state,n=t.prevPlaceholder,r=t.jsObject,a=this.resetConfiguration,o=Object(re.getType)(e);-1===["object","array"].indexOf(o)&&le.throwError("showPlaceholder","placeholder","either an object or an array");var i=!Object(re.identical)(e,n);if(!i&&a&void 0!==r&&(i=!Object(re.identical)(e,r)),i){var s=this.tokenize(e);this.setState({prevPlaceholder:e,plainText:s.indentation,markupText:s.markup,lines:s.lines,error:s.error})}}}}},{key:"tokenize",value:function(e){var t=Object(re.getType)(e);if("object"!==t)return console.error("tokenize() expects object type properties only. Got '"+t+"' type instead.");var n=this.props.locale||ue;if("nodeType"in e){var r=e.cloneNode(!0);if(!r.hasChildNodes())return"";for(var a=r.childNodes,o={tokens_unknown:[],tokens_proto:[],tokens_split:[],tokens_fallback:[],tokens_normalize:[],tokens_merge:[],tokens_plainText:"",indented:"",json:"",jsObject:void 0,markup:""},i=0;i<a.length;i++){var s=a[i],l={};switch(s.nodeName){case"SPAN":l={string:s.textContent,type:s.attributes.type.textContent},o.tokens_unknown.push(l);break;case"DIV":o.tokens_unknown.push({string:s.textContent,type:"unknown"});break;case"BR":""===s.textContent&&o.tokens_unknown.push({string:"\n",type:"unknown"});break;case"#text":o.tokens_unknown.push({string:s.wholeText,type:"unknown"});break;case"FONT":o.tokens_unknown.push({string:s.textContent,type:"unknown"});break;default:console.error("Unrecognized node:",{child:s})}}var c=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={active:!1,string:"",number:"",symbol:"",space:"",delimiter:"",quarks:[]},r=function(e,r){switch(r){case"symbol":case"delimiter":n.active&&n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=r,n[n.active]=e;break;default:r!==n.active||[n.string,e].indexOf("\n")>-1?(n.active&&n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=r,n[n.active]=e):n[r]+=e}},a=0;a<e.length;a++){var o=e.charAt(a);switch(o){case'"':case"'":r(o,"delimiter");break;case" ":case" ":r(o,"space");break;case"{":case"}":case"[":case"]":case":":case",":r(o,"symbol");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r(o,"string"===n.active?"string":"number");break;case"-":if(a<e.length-1&&"0123456789".indexOf(e.charAt(a+1))>-1){r(o,"number");break}case".":if(a<e.length-1&&a>0&&"0123456789".indexOf(e.charAt(a+1))>-1&&"0123456789".indexOf(e.charAt(a-1))>-1){r(o,"number");break}default:r(o,"string")}}return n.active&&(n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=!1),n.quarks};for(i=0;i<o.tokens_unknown.length;i++){var u=o.tokens_unknown[i];o.tokens_proto=o.tokens_proto.concat(c(u.string,"proto"))}var p=function(e,t){var n="",r="",a=!1;switch(t){case"primitive":if(-1===["true","false","null","undefined"].indexOf(e))return!1;break;case"string":if(e.length<2)return!1;if(n=e.charAt(0),r=e.charAt(e.length-1),-1===(a="'\"".indexOf(n))||n!==r)return!1;for(var o=0;o<e.length;o++)if(o>0&&o<e.length-1&&e.charAt(o)==="'\""[a]&&"\\"!==e.charAt(o-1))return!1;break;case"key":if(0===e.length)return!1;if(n=e.charAt(0),r=e.charAt(e.length-1),(a="'\"".indexOf(n))>-1){if(1===e.length||n!==r)return!1;for(o=0;o<e.length;o++)if(o>0&&o<e.length-1&&e.charAt(o)==="'\""[a]&&"\\"!==e.charAt(o-1))return!1}else for(o=0;o<"'\"`.,:;{}[]&<>=~*%\\|/-+!?@^  ".length;o++){var i="'\"`.,:;{}[]&<>=~*%\\|/-+!?@^  ".charAt(o);if(e.indexOf(i)>-1)return!1}break;case"number":for(o=0;o<e.length;o++)if(-1==="0123456789".indexOf(e.charAt(o))&&0===o){if("-"!==e.charAt(0))return!1}else if("."!==e.charAt(o))return!1;break;case"symbol":if(e.length>1||-1==="{[:]},".indexOf(e))return!1;break;case"colon":if(e.length>1||":"!==e)return!1;break;default:return!0}return!0};for(i=0;i<o.tokens_proto.length;i++){var m=o.tokens_proto[i];-1===m.type.indexOf("proto")?p(m.string,m.type)?o.tokens_split.push(m):o.tokens_split=o.tokens_split.concat(c(m.string,"split")):o.tokens_split.push(m)}for(i=0;i<o.tokens_split.length;i++){var f=o.tokens_split[i],d=f.type,h=f.string,g=h.length,v=[];d.indexOf("-")>-1&&("string"!==(d=d.slice(d.indexOf("-")+1))&&v.push("string"),v.push("key"),v.push("error")),o.tokens_fallback.push({string:h,length:g,type:d,fallback:v})}var y=function(){var e=o.tokens_normalize.length-1;if(e<1)return!1;for(var t=e;t>=0;t--){var n=o.tokens_normalize[t];switch(n.type){case"space":case"linebreak":break;default:return n}}return!1},b={brackets:[],isValue:!1,stringOpen:!1};for(i=0;i<o.tokens_fallback.length;i++){var k=o.tokens_fallback[i],E=k.type,O=k.string,w={type:E,string:O};switch(E){case"symbol":case"colon":if(b.stringOpen){w.type=b.isValue?"string":"key";break}switch(O){case"[":case"{":b.brackets.push(O),b.isValue="["===b.brackets[b.brackets.length-1];break;case"]":case"}":b.brackets.pop(),b.isValue="["===b.brackets[b.brackets.length-1];break;case",":if("colon"===y().type)break;b.isValue="["===b.brackets[b.brackets.length-1];break;case":":w.type="colon",b.isValue=!0}break;case"delimiter":if(w.type=b.isValue?"string":"key",!b.stringOpen){b.stringOpen=O;break}if(i>0){var S=o.tokens_fallback[i-1],j=S.string,C=S.type,N=j.charAt(j.length-1);if("string"===C&&"\\"===N)break}if(b.stringOpen===O){b.stringOpen=!1;break}break;case"primitive":case"string":if(["false","true","null","undefined"].indexOf(O)>-1){var x=o.tokens_normalize.length-1;if(x>=0){if("string"!==o.tokens_normalize[x].type){w.type="primitive";break}w.type="string";break}w.type="primitive";break}if("\n"===O&&!b.stringOpen){w.type="linebreak";break}w.type=b.isValue?"string":"key";break;case"space":case"number":b.stringOpen&&(w.type=b.isValue?"string":"key")}o.tokens_normalize.push(w)}for(i=0;i<o.tokens_normalize.length;i++){var _=o.tokens_normalize[i],A={string:_.string,type:_.type,tokens:[i]};if(-1===["symbol","colon"].indexOf(_.type)&&i+1<o.tokens_normalize.length){for(var T=0,P=i+1;P<o.tokens_normalize.length;P++){var I=o.tokens_normalize[P];if(_.type!==I.type)break;A.string+=I.string,A.tokens.push(P),T++}i+=T}o.tokens_merge.push(A)}var D=!1,R=o.tokens_merge.length>0?1:0,U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;D={token:e,line:R,reason:t},o.tokens_merge[e+n].type="error"},F=[];for(i=0;i<o.tokens_merge.length&&!D;i++){var L=o.tokens_merge[i],M=L.string,V=L.type,G=!1;switch(V){case"space":break;case"linebreak":R++;break;case"symbol":switch(M){case"{":case"[":if(G=oe(o.tokens_merge,i,["}","]"])){U(i,ce(n.invalidToken.tokenSequence.prohibited,{firstToken:o.tokens_merge[G].string,secondToken:M}));break}if("["===M&&i>0){if(!oe(o.tokens_merge,i,[":","[",","])){U(i,ce(n.invalidToken.tokenSequence.permitted,{firstToken:"[",secondToken:[":","[",","]}));break}}else if("{"===M&&oe(o.tokens_merge,i,["{"])){U(i,ce(n.invalidToken.double,{token:"{"}));break}b.brackets.push(M),b.isValue="["===b.brackets[b.brackets.length-1],F.push({i:i,line:R,string:M});break;case"}":case"]":if("}"===M){if("{"!==b.brackets[b.brackets.length-1]){U(i,ce(n.brace.curly.missingOpen));break}if(oe(o.tokens_merge,i,[","])){U(i,ce(n.invalidToken.tokenSequence.prohibited,{firstToken:",",secondToken:"}"}));break}}else if("]"===M){if("["!==b.brackets[b.brackets.length-1]){U(i,ce(n.brace.square.missingOpen));break}if(oe(o.tokens_merge,i,[":"])){U(i,ce(n.invalidToken.tokenSequence.prohibited,{firstToken:":",secondToken:"]"}));break}}b.brackets.pop(),b.isValue="["===b.brackets[b.brackets.length-1],F.push({i:i,line:R,string:M});break;case",":if(G=oe(o.tokens_merge,i,["{"])){if(ae(o.tokens_merge,i,["}"])){U(i,ce(n.brace.curly.cannotWrap,{token:","}));break}U(i,ce(n.invalidToken.tokenSequence.prohibited,{firstToken:"{",secondToken:","}));break}if(ae(o.tokens_merge,i,["}",",","]"])){U(i,ce(n.noTrailingOrLeadingComma));break}switch(G=ie(o.tokens_merge,i)){case"key":case"colon":U(i,ce(n.invalidToken.termSequence.prohibited,{firstTerm:"key"===G?n.types.key:n.symbols.colon,secondTerm:n.symbols.comma}));break;case"symbol":if(oe(o.tokens_merge,i,["{"])){U(i,ce(n.invalidToken.tokenSequence.prohibited,{firstToken:"{",secondToken:","}));break}}b.isValue="["===b.brackets[b.brackets.length-1]}o.json+=M;break;case"colon":if((G=oe(o.tokens_merge,i,["["]))&&ae(o.tokens_merge,i,["]"])){U(i,ce(n.brace.square.cannotWrap,{token:":"}));break}if(G){U(i,ce(n.invalidToken.tokenSequence.prohibited,{firstToken:"[",secondToken:":"}));break}if("key"!==ie(o.tokens_merge,i)){U(i,ce(n.invalidToken.termSequence.permitted,{firstTerm:n.symbols.colon,secondTerm:n.types.key}));break}if(ae(o.tokens_merge,i,["}","]"])){U(i,ce(n.invalidToken.termSequence.permitted,{firstTerm:n.symbols.colon,secondTerm:n.types.value}));break}b.isValue=!0,o.json+=M;break;case"key":case"string":var q=M.charAt(0),W=M.charAt(M.length-1);if("'\"".indexOf(q),-1==="'\"".indexOf(q)&&-1!=="'\"".indexOf(W)){U(i,ce(n.string.missingOpen,{quote:q}));break}if(-1==="'\"".indexOf(W)&&-1!=="'\"".indexOf(q)){U(i,ce(n.string.missingClose,{quote:q}));break}if("'\"".indexOf(q)>-1&&q!==W){U(i,ce(n.string.missingClose,{quote:q}));break}if("string"===V&&-1==="'\"".indexOf(q)&&-1==="'\"".indexOf(W)){U(i,ce(n.string.mustBeWrappedByQuotes));break}if("key"===V&&ae(o.tokens_merge,i,["}","]"])&&U(i,ce(n.invalidToken.termSequence.permitted,{firstTerm:n.types.key,secondTerm:n.symbols.colon})),-1==="'\"".indexOf(q)&&-1==="'\"".indexOf(W))for(var J=0;J<M.length&&!D;J++){var B=M.charAt(J);if(-1==="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".indexOf(B)){U(i,ce(n.string.nonAlphanumeric,{token:B}));break}}if(M='"'+("'"===q?M.slice(1,-1):M)+'"',"key"===V){if("key"===ie(o.tokens_merge,i)){if(i>0&&!isNaN(o.tokens_merge[i-1])){o.tokens_merge[i-1]+=o.tokens_merge[i],U(i,ce(n.key.numberAndLetterMissingQuotes));break}U(i,ce(n.key.spaceMissingQuotes));break}if(!oe(o.tokens_merge,i,["{",","])){U(i,ce(n.invalidToken.tokenSequence.permitted,{firstToken:V,secondToken:["{",","]}));break}if(b.isValue){U(i,ce(n.string.unexpectedKey));break}}if("string"===V){if(!oe(o.tokens_merge,i,["[",":",","])){U(i,ce(n.invalidToken.tokenSequence.permitted,{firstToken:V,secondToken:["[",":",","]}));break}if(!b.isValue){U(i,ce(n.key.unexpectedString));break}}o.json+=M;break;case"number":case"primitive":if(oe(o.tokens_merge,i,["{"]))o.tokens_merge[i].type="key",V=o.tokens_merge[i].type,M='"'+M+'"';else if("key"===ie(o.tokens_merge,i))o.tokens_merge[i].type="key",V=o.tokens_merge[i].type;else if(!oe(o.tokens_merge,i,["[",":",","])){U(i,ce(n.invalidToken.tokenSequence.permitted,{firstToken:V,secondToken:["[",":",","]}));break}"key"===V||b.isValue||(o.tokens_merge[i].type="key",V=o.tokens_merge[i].type,M='"'+M+'"'),"primitive"===V&&"undefined"===M&&U(i,ce(n.invalidToken.useInstead,{badToken:"undefined",goodToken:"null"})),o.json+=M}}var z="";for(i=0;i<o.json.length;i++){var K=o.json.charAt(i),Y=o.json.charAt(i+1)||"";i+1<o.json.length&&"\\"===K&&"'"===Y?(z+=Y,i++):z+=K}if(o.json=z,!D){for(var H=Math.ceil(F.length/2),Q=0,$=!1,X=function(e){F.splice(e+1,1),F.splice(e,1),$||($=!0)};F.length>0;){$=!1;for(var Z=0;Z<F.length-1;Z++){var ee=F[Z].string+F[Z+1].string;["[]","{}"].indexOf(ee)>-1&&X(Z)}if(Q++,!$)break;if(Q>=H)break}if(F.length>0){var te=F[0].string,ne=F[0].i,se="["===te?"]":"}";R=F[0].line,U(ne,ce(n.brace["]"===se?"square":"curly"].missingClose))}if(-1===[void 0,""].indexOf(o.json))try{o.jsObject=JSON.parse(o.json)}catch(e){var le=e.message,pe=le.indexOf("position");if(-1===pe)throw new Error("Error parsing failed");for(var fe=le.substring(pe+9,le.length),de=parseInt(fe),he=0,ge=0,ve=!1,ye=1,be=!1;he<de&&!be&&("linebreak"===(ve=o.tokens_merge[ge]).type&&ye++,-1===["space","linebreak"].indexOf(ve.type)&&(he+=ve.string.length),!(he>=de));)ge++,o.tokens_merge[ge+1]||(be=!0);R=ye;for(var ke=0,Ee=0;Ee<ve.string.length;Ee++){var Oe=ve.string.charAt(Ee);"\\"===Oe?ke=ke>0?ke+1:1:(ke%2==0&&0!==ke||-1==="'\"bfnrt".indexOf(Oe)&&U(ge,ce(n.invalidToken.unexpected,{token:"\\"})),ke=0)}D||U(ge,ce(n.invalidToken.unexpected,{token:ve.string}))}}var we=1,Se=0,je=o.tokens_merge.length-1,Ce=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return we++,Se>0||e?"<br>":""}(arguments.length>0&&void 0!==arguments[0]&&arguments[0])+Array(2*Se).fill("&nbsp;").join("")};if(D){var Ne=1,xe=function(e){for(var t=0,n=0;n<e.length;n++)["\n","\r"].indexOf(e[n])>-1&&t++;return t};for(we=1,i=0;i<o.tokens_merge.length;i++){var _e=o.tokens_merge[i],Ae=_e.type,Te=_e.string;"linebreak"===Ae&&we++,o.markup+=this.newSpan(i,_e,Se),Ne+=xe(Te)}++we<++Ne&&(we=Ne),"modifyErrorText"in this.props&&function(e){return e&&"[object Function]"==={}.toString.call(e)}(this.props.modifyErrorText)&&(D.reason=this.props.modifyErrorText(D.reason))}else for(i=0;i<o.tokens_merge.length;i++){var Pe=o.tokens_merge[i];switch(Pe.type){case"string":case"number":case"primitive":case"error":o.markup+=this.newSpan(i,Pe,Se);break;case"key":o.markup+=Ce()+this.newSpan(i,Pe,Se);break;case"colon":o.markup+=this.newSpan(i,Pe,Se)+"&nbsp;";break;case"symbol":var Ie=i===je;switch(Pe.string){case"{":o.markup+=this.newSpan(i,Pe,Se),Se++;break;case"}":Se=Se>0?Se-1:Se;var De=i>0?oe(o.tokens_merge,i,["[","{"])?"":Ce(Ie):"";o.markup+=De+this.newSpan(i,Pe,Se);break;case"[":oe(o.tokens_merge,i,["["])&&(Se++,o.markup+=Ce()),o.markup+=this.newSpan(i,Pe,Se);break;case"]":var Re=me({},Pe),Ue=!1;oe(o.tokens_merge,i,["]"])&&(ae(o.tokens_merge,i,["]"])?ae(o.tokens_merge,i+1,[","])?(Se=Se>=1?Se-1:Se,Ue=!0,Re.string+="]",i++):ae(o.tokens_merge,i+1,["]"])&&(Se=Se>=1?Se-1:Se,Ue=!0):ae(o.tokens_merge,i,["}"])&&(Se=Se>=1?Se-1:Se,Ue=!0)),o.markup+=(Ue?Ce():"")+this.newSpan(i,Re,Se);break;case",":o.markup+=this.newSpan(i,Pe,Se),oe(o.tokens_merge,i,["]"])&&ae(o.tokens_merge,i,["["])&&(o.markup+=Ce());break;default:o.markup+=this.newSpan(i,Pe,Se)}}}for(i=0;i<o.tokens_merge.length;i++){var Fe=o.tokens_merge[i];o.indented+=Fe.string,-1===["space","linebreak"].indexOf(Fe.type)&&(o.tokens_plainText+=Fe.string)}return{tokens:o.tokens_merge,noSpaces:o.tokens_plainText,indented:o.indented,json:o.json,jsObject:o.jsObject,markup:o.markup,lines:we,error:D}}if(!("nodeType"in e)){var Le={inputText:JSON.stringify(e),position:0,currentChar:"",tokenPrimary:"",tokenSecondary:"",brackets:[],isValue:!1,stringOpen:!1,stringStart:0,tokens:[]},Me=function(){if(-1==="'\"".indexOf(Le.currentChar))return!1;if(!Le.stringOpen)return Ge(),Le.stringStart=Le.position,Le.stringOpen=Le.currentChar,!0;if(Le.stringOpen===Le.currentChar){Ge();var e=Le.inputText.substring(Le.stringStart,Le.position+1);return qe(e),Le.stringOpen=!1,!0}return!1},Ve=function(){if(-1===":,{}[]".indexOf(Le.currentChar))return!1;if(Le.stringOpen)return!1;switch(Ge(),qe(Le.currentChar),Le.currentChar){case":":return Le.isValue=!0,!0;case"{":case"[":Le.brackets.push(Le.currentChar);break;case"}":case"]":Le.brackets.pop()}return":"!==Le.currentChar&&(Le.isValue="["===Le.brackets[Le.brackets.length-1]),!0},Ge=function(){return 0!==Le.tokenSecondary.length&&(Le.tokens.push(Le.tokenSecondary),Le.tokenSecondary="",!0)},qe=function(e){return 0!==e.length&&(Le.tokens.push(e),!0)};for(i=0;i<Le.inputText.length;i++){Le.position=i,Le.currentChar=Le.inputText.charAt(Le.position);var We=Ve(),Je=Me(),Be="\\"===Le.currentChar&&(Le.inputText=function(e,t){return e.slice(0,t)+e.slice(t+1)}(Le.inputText,Le.position),!0);We||Je||Be||Le.stringOpen||(Le.tokenSecondary+=Le.currentChar)}var ze={brackets:[],isValue:!1,tokens:[]};ze.tokens=Le.tokens.map(function(e){var t="",n="",r="";switch(e){case",":t="symbol",n=e,r=e,ze.isValue="["===ze.brackets[ze.brackets.length-1];break;case":":t="symbol",n=e,r=e,ze.isValue=!0;break;case"{":case"[":t="symbol",n=e,r=e,ze.brackets.push(e),ze.isValue="["===ze.brackets[ze.brackets.length-1];break;case"}":case"]":t="symbol",n=e,r=e,ze.brackets.pop(),ze.isValue="["===ze.brackets[ze.brackets.length-1];break;case"undefined":t="primitive",n=e,r=void 0;break;case"null":t="primitive",n=e,r=null;break;case"false":t="primitive",n=e,r=!1;break;case"true":t="primitive",n=e,r=!0;break;default:var a=e.charAt(0);if("'\"".indexOf(a)>-1){if("key"==(t=ze.isValue?"string":"key")&&(n=function(e){if(0===e.length)return e;if(['""',"''"].indexOf(e)>-1)return"''";for(var t=!1,n=0;n<2;n++)if([e.charAt(0),e.charAt(e.length-1)].indexOf(['"',"'"][n])>-1){t=!0;break}t&&e.length>=2&&(e=e.slice(1,-1));var r=e.replace(/\w/g,""),a=(e.replace(/\W+/g,""),function(e,t){for(var n=!1,r=0;r<t.length&&(0!==r||!isNaN(t.charAt(r)));r++)if(isNaN(t.charAt(r))){n=!0;break}return!(e.length>0||n)}(r,e));if(function(e){for(var t=0;t<e.length;t++)if(["'",'"'].indexOf(e.charAt(t))>-1)return!0;return!1}(r)){for(var o="",i=e.split(""),s=0;s<i.length;s++){var l=i[s];["'",'"'].indexOf(l)>-1&&(l="\\"+l),o+=l}e=o}return a?e:"'"+e+"'"}(e)),"string"===t){n="";for(var o=e.slice(1,-1).split(""),i=0;i<o.length;i++){var s=o[i];"'\"".indexOf(s)>-1&&(s="\\"+s),n+=s}n="'"+n+"'"}r=n;break}if(!isNaN(e)){t="number",n=e,r=Number(e);break}if(e.length>0&&!ze.isValue){t="key",(n=e).indexOf(" ")>-1&&(n="'"+n+"'"),r=n;break}}return{type:t,string:n,value:r,depth:ze.brackets.length}});var Ke=ze.tokens.map(function(e){return e.string}).join(""),Ye=1,He=0,Qe="",$e="",Xe=ze.tokens.length-1,Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(He>0||e?"\n":"")+Array(2*He).fill(" ").join("")},et=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return He>0&&Ye++,(He>0||e?"<br>":"")+Array(2*He).fill("&nbsp;").join("")};for(i=0;i<ze.tokens.length;i++){var tt=ze.tokens[i];switch(tt.type){case"string":case"number":Qe+=tt.string,$e+=this.newSpan(i,tt,He);break;case"key":Qe+=Ze()+tt.string,$e+=et()+this.newSpan(i,tt,He);break;case"symbol":var nt=i===Xe;switch(tt.string){case"{":Qe+=tt.string,$e+=this.newSpan(i,tt,He),He++,ae(ze.tokens,i,["}"])&&(Qe+=Ze(),$e+=et());break;case"}":He=He>=1?He-1:He;var rt=i>0?oe(ze.tokens,i,["[","{"])?"":Ze(nt):"",at=i>0?oe(ze.tokens,i,["[","{"])?"":et(nt):"";Qe+=rt+tt.string,$e+=at+this.newSpan(i,tt,He);break;case"[":oe(ze.tokens,i,["["])&&(He++,Qe+=Ze(),$e+=et()),Qe+=tt.string,$e+=this.newSpan(i,tt,He);break;case"]":var ot=me({},tt),it=!1;oe(ze.tokens,i,["]"])&&(ae(ze.tokens,i,["]"])?ae(ze.tokens,i+1,[","])?(He=He>=1?He-1:He,it=!0,ot.string+="]",i++):ae(ze.tokens,i+1,["]"])&&(He=He>=1?He-1:He,it=!0):ae(ze.tokens,i,["}"])?(He=He>=1?He-1:He,it=!0):ae(ze.tokens,i,[","])&&!ae(ze.tokens,i,["["])&&(He=He>=1?He-1:He,it=!0)),Qe+=(it?Ze():"")+ot.string,$e+=(it?et():"")+this.newSpan(i,ot,He);break;case":":Qe+=tt.string+" ",$e+=this.newSpan(i,tt,He)+"&nbsp;";break;case",":Qe+=tt.string,$e+=this.newSpan(i,tt,He),oe(ze.tokens,i,["]"])&&ae(ze.tokens,i,["["])&&(Qe+=Ze(),$e+=et());break;default:Qe+=tt.string,$e+=this.newSpan(i,tt,He)}}}return Ye+=1,{tokens:ze.tokens,noSpaces:Ke,indented:Qe,json:JSON.stringify(e),jsObject:e,markup:$e,lines:Ye}}console.log("Oops....")}},{key:"renderErrorMessage",value:function(){var e=this.state.error,t=this.props.locale||ue,n=this.style;if(e)return a.a.createElement("p",{style:me({color:"red",fontSize:"12px",position:"absolute",width:"calc(100% - 60px)",height:"60px",boxSizing:"border-box",margin:0,padding:0,paddingRight:"10px",overflowWrap:"break-word",display:"flex",flexDirection:"column",justifyContent:"center"},n.errorMessage)},ce(t.format,e))}},{key:"renderLabels",value:function(){for(var e=this.colors,t=this.style,n=this.state.error?this.state.error.line:-1,r=this.state.lines?this.state.lines:1,o=new Array(r),i=0;i<r-1;i++)o[i]=i+1;return o.map(function(r){var o=r!==n?e.default:"red";return a.a.createElement("div",{key:r,style:me({},t.labels,{color:o})},r)})}},{key:"render",value:function(){var e=this,t=this.props.id,n=this.state.markupText,r=this.state.error,o=this.colors,i=this.style,s=this.confirmGood,l=this.totalHeight,c=this.totalWidth,u=!!r&&"token"in r;return this.renderCount++,a.a.createElement("div",{name:"outer-box",id:t&&t+"-outer-box",style:me({display:"block",overflow:"none",height:l,width:c,margin:0,boxSizing:"border-box",position:"relative"},i.outerBox)},s?a.a.createElement("div",{style:{opacity:u?0:1,height:"30px",width:"30px",position:"absolute",top:0,right:0,transform:"translate(-25%,25%)",pointerEvents:"none",transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0, 1, 0.5, 1)"}},a.a.createElement("svg",{height:"30px",width:"30px",viewBox:"0 0 100 100"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"green",opacity:"0.85",d:"M39.363,79L16,55.49l11.347-11.419L39.694,56.49L72.983,23L84,34.085L39.363,79z"}))):"",a.a.createElement("div",{name:"container",id:t&&t+"-container",style:me({display:"block",height:l,width:c,margin:0,boxSizing:"border-box",overflow:"hidden",fontFamily:"Roboto, sans-serif"},i.container),onClick:this.onClick},a.a.createElement("div",{name:"warning-box",id:t&&t+"-warning-box",style:me({display:"block",overflow:"hidden",height:u?"60px":"0px",width:"100%",margin:0,backgroundColor:o.background_warning,transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0, 1, 0.5, 1)"},i.warningBox),onClick:this.onClick},a.a.createElement("span",{style:{display:"inline-block",height:"60px",width:"60px",margin:0,boxSizing:"border-box",overflow:"hidden",verticalAlign:"top",pointerEvents:"none"},onClick:this.onClick},a.a.createElement("div",{style:{position:"relative",top:0,left:0,height:"60px",width:"60px",margin:0,pointerEvents:"none"},onClick:this.onClick},a.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},onClick:this.onClick},a.a.createElement("svg",{height:"25px",width:"25px",viewBox:"0 0 100 100"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"red",d:"M73.9,5.75c0.467-0.467,1.067-0.7,1.8-0.7c0.7,0,1.283,0.233,1.75,0.7l16.8,16.8  c0.467,0.5,0.7,1.084,0.7,1.75c0,0.733-0.233,1.334-0.7,1.801L70.35,50l23.9,23.95c0.5,0.467,0.75,1.066,0.75,1.8  c0,0.667-0.25,1.25-0.75,1.75l-16.8,16.75c-0.534,0.467-1.117,0.7-1.75,0.7s-1.233-0.233-1.8-0.7L50,70.351L26.1,94.25  c-0.567,0.467-1.167,0.7-1.8,0.7c-0.667,0-1.283-0.233-1.85-0.7L5.75,77.5C5.25,77,5,76.417,5,75.75c0-0.733,0.25-1.333,0.75-1.8  L29.65,50L5.75,26.101C5.25,25.667,5,25.066,5,24.3c0-0.666,0.25-1.25,0.75-1.75l16.8-16.8c0.467-0.467,1.05-0.7,1.75-0.7  c0.733,0,1.333,0.233,1.8,0.7L50,29.65L73.9,5.75z"}))))),a.a.createElement("span",{style:{display:"inline-block",height:"60px",width:"calc(100% - 60px)",margin:0,overflow:"hidden",verticalAlign:"top",position:"absolute",pointerEvents:"none"},onClick:this.onClick},this.renderErrorMessage())),a.a.createElement("div",{name:"body",id:t&&t+"-body",style:me({display:"flex",overflow:"none",height:u?"calc(100% - 60px)":"100%",width:"",margin:0,resize:"none",fontFamily:"Roboto Mono, Monaco, monospace",fontSize:"11px",backgroundColor:o.background,transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0, 1, 0.5, 1)"},i.body),onClick:this.onClick},a.a.createElement("span",{name:"labels",id:t&&t+"-labels",ref:function(t){return e.refLabels=t},style:me({display:"inline-block",boxSizing:"border-box",verticalAlign:"top",height:"100%",width:"44px",margin:0,padding:"5px 0px 5px 10px",overflow:"hidden",color:"#D4D4D4"},i.labelColumn),onClick:this.onClick},this.renderLabels()),a.a.createElement("span",{id:t,ref:function(t){return e.refContent=t},contentEditable:!0,style:me({display:"inline-block",boxSizing:"border-box",verticalAlign:"top",height:"100%",width:"",flex:1,margin:0,padding:"5px",overflowX:"hidden",overflowY:"auto",wordWrap:"break-word",whiteSpace:"pre-line",color:"#D4D4D4",outline:"none"},i.contentBox),dangerouslySetInnerHTML:this.createMarkup(n),onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown,onClick:this.onClick,onBlur:this.onBlur,onScroll:this.onScroll,onPaste:this.onPaste,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}))))}}]),t}(),be=n(11);function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(e){return Ee({},be.RSAA,{endpoint:"/api/validate/schema",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e}),types:["@@validate/VALIDATE_SCHEMA_REQUEST","@@validate/VALIDATE_SCHEMA_SUCCESS","@@validate/VALIDATE_FAILURE"]})};function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e,t){return we({},be.RSAA,{endpoint:"/api/load/"+e+"/"+t,method:"GET",types:["@@util/LOAD_REQUEST","@@util/LOAD_SUCCESS","@@util/LOAD_FAILURE"]})};function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ie=n(28),De=n(218),Re=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?Pe(e):t}(this,Ae(t).call(this,e,n))).state={conv_tooltip:!1,schema_opts_dropdown:!1,schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",file:!1,url:!1,url_str:""},convert:{selected:"empty",html:!1,popup:null}},r.download_mime={proto3:"text/x-c",rng:"application/xml",html:"text/html",md:"text/plain",cddl:"text/plain",thrift:"text/plain"},r.meta={title:Ie("{base} | {page}",{base:r.props.siteTitle,page:"Converter"}),canonical:Ie("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},r.schema_height="40em",r.selectChange=r.selectChange.bind(Pe(Pe(r))),r.fileChange=r.fileChange.bind(Pe(Pe(r))),r.props.info(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,r.Component),function(e,t,n){t&&_e(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,r=this.state!=t;return n||r}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{n=JSON.parse(n)}catch(e){return void Object(d.toast)(a.a.createElement("p",null,e.message),{type:d.toast.TYPE.WARNING})}return this.props.validateSchema(n).then(function(){var e=t.props.validSchema;e.valid_bool?t.props.convertSchema(t.state.schema.schema,t.state.convert.selected):Object(d.toast)(a.a.createElement("p",null,e.valid_msg),{type:d.toast.TYPE[e.valid_bool?"INFO":"WARNING"]})}),!1}},{key:"selectChange",value:function(e){var t=this,n=e.target.id.split("-")[0],r=e.target.value,a={selected:r,file:"file"==r,url:"url"==r};"empty"==r&&"message"==n&&(a.format="",a.decode=""),this.setState(function(e){return xe({},n,Ne({},e[n],a))},function(){var e=t.state[n].selected,r=t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"];if(-1==["","empty",null,"file","url"].indexOf(e)){var a={};"message"==n&&(a.format=e.split(".")[1]),-1==Object.keys(r).indexOf(e)?t.props.loadFile(n+"s",e).then(function(){t.setState(function(r){return xe({},n,Ne({},r[n],a,xe({},n,t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"][e])))})}):t.setState(function(r){return xe({},n,Ne({},t.state[n],xe({},n,t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"][e])))})}})}},{key:"fileChange",value:function(e){var t=this,n=e.target.id.split("-")[0],r=e.target.files[0],o=r.name.split(".")[1],i=new FileReader;i.onload=function(e){var r=atob(i.result.split(",")[1]);try{r=JSON.stringify(JSON.parse(r),null,2)}catch(e){switch(o){case"cbor":r=$(X(r))}}if("schema"==n)try{t.setState({schema:Ne({},t.state.schema,{schema:JSON.parse(r)})})}catch(e){Object(d.toast)(a.a.createElement("p",null,"Schema cannot be loaded"),{type:d.toast.TYPE.WARNING})}else"message"==n&&t.setState({message:Ne({},t.state.message,{format:"jadn"==o?"json":o,message:r})})},i.readAsDataURL(r)}},{key:"format",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],"message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,n="message"==e?this.state.message.format:"json",r=ee(t,n,2);if(r.startsWith("Error"))return void Object(d.toast)(a.a.createElement("p",null,Ie("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:r})),{type:d.toast.TYPE.WARNING});this.setState({message:Ne({},this.state.message,xe({},"message"==e?"message":"json",r))})}else if("schema"==e)try{this.setState({schema:Ne({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(d.toast)(a.a.createElement("p",null,o),{type:d.toast.TYPE.WARNING})}}},{key:"minify",value:function(e){if("message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,n="message"==e?this.state.message.format:"json",r=te(t,n);if(r.startsWith("Error"))return void Object(d.toast)(a.a.createElement("p",null,Ie("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:r})),{type:d.toast.TYPE.WARNING});this.setState({message:Ne({},this.state.message,xe({},"message"==e?"message":"json",r))})}else if("schema"==e)try{this.setState({schema:Ne({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(d.toast)(a.a.createElement("p",null,o),{type:d.toast.TYPE.WARNING})}}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return void Object(d.toast)(a.a.createElement("p",null,e.message),{type:d.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(d.toast)(a.a.createElement("p",null,t.valid_msg),{type:d.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"loadURL",value:function(e){var t=this,n=this.state[e].url_str;if(H(n)){var r=n.substring(n.lastIndexOf("/")+1),o=r.substring(r.lastIndexOf(".")+1);-1!=["json","jadn"].indexOf(o)||"schema"!=e?Q(n).then(function(n){var r;t.setState(xe({},e,Ne({},t.state[e],(xe(r={},e,n.data),xe(r,"format","jadn"==o?"json":n.fileExt),r))))}).catch(function(e){Object(d.toast)(a.a.createElement("p",null,"Invalid url, please check what you typed"),{type:d.toast.TYPE.WARNING})}):Object(d.toast)(a.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:d.toast.TYPE.WARNING})}else Object(d.toast)(a.a.createElement("p",null,"Invalid URL, cannot load from a non valid location"),{type:d.toast.TYPE.WARNING})}},{key:"downloadConfig",value:function(){var e=this,t={content:"",file:""};if(this.props.convertedSchema.convert){var n=this.props.convertedSchema.convert,r=this.props.convertedSchema.fmt;switch(t.file="schema."+r,r){case"jadn":t.content=Ie("data:application/json;charset=utf-8,{conv}",{conv:encodeURIComponent(n)});break;case"proto3":case"rng":case"html":case"md":case"cddl":case"thrift":t.content=Ie("data:{data};charset=utf-8,{conv}",{data:this.download_mime[r],conv:encodeURIComponent(n)});break;default:t.content=Ie("data:text/plain;charset=utf-8,{conv}",{conv:encodeURIComponent("Theres some issues....")})}"html"==r&&0==this.state.convert.html?setTimeout(function(){return e.setState({convert:Ne({},e.state.convert,{html:!0})})},100):"html"!=r&&0!=this.state.convert.html&&setTimeout(function(){return e.setState({convert:Ne({},e.state.convert,{html:!1})})},100)}return t}},{key:"viewPage",value:function(e){var t=this;e.preventDefault();var n=[""," ",null,void 0],r=De(this.props.convertedSchema.convert.replace(/^\s+/gm,"").replace(/\s+$/gm,"")),o=r.props.children.filter(function(e){return"head"===e.type});o=1==(o=(o=(1==o.length?o[0].props.children:[]).filter(function(e,t){return-1==n.indexOf(e)})).filter(function(e,t){return"style"==e.type})).length?o[0]:{};var i=r.props.children.filter(function(e){return"body"===e.type});i=function e(t){if("string"==typeof t)return!t||t.match(/^[\r\n\s]*?$/m)?"":t;if(t.props&&t.props.children)return"string"==typeof t.props.children?t:a.a.cloneElement(t,{children:t.props.children.map(function(t,n){return"string"!=typeof t?e(t):t.match(/^[\r\n\s]*?$/gm)?void 0:t}).filter(function(e,t){return-1==n.indexOf(e)})});var r=t.map(function(t,n){return e(t)}).filter(function(e,t){return-1==n.indexOf(e)});return 1===(r=r.map(function(t,r){var o=e(t.props.children);try{o=o.filter(function(e,t){return-1==n.indexOf(e)})}catch(e){}return a.a.cloneElement(t,{key:r,children:o})})).length?r[0]:r}(i=1==i.length?i[0].props.children:[]),this.setState({convert:Ne({},this.state.convert,{popup:a.a.createElement(Y.a,{title:"HTML Schema",center:"screen",options:{width:function(e,t){return t.outerWidth/1.5},height:function(e,t){return t.outerHeight/1.5},top:function(e,t){return(t.innerHeight-e.height(e,t))/1.5+t.screenY},left:function(e,t){return(t.innerWidth-e.width(e,t))/1.5+t.screenX}},onUnload:function(){return t.setState({convert:Ne({},t.state.convert,{popup:null})})}},a.a.createElement("div",null,o,i))})})}},{key:"jadn",value:function(e){var t=this,n=this.props.schemas.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)});return a.a.createElement("fieldset",{className:"col-6 p-0 float-left"},a.a.createElement("legend",null,"JADN Schema"),a.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},a.a.createElement(ye,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(e){e.jsObject&&t.setState({schema:Ne({},t.state.schema,{schema:e.jsObject})})},theme:"light_mitsuketa_tribute",locale:ue,reset:!1,height:"100%",width:"100%"})),a.a.createElement("div",{className:"col-12 m-1"}),a.a.createElement(T.a,{color:"secondary",onClick:function(){return t.verifySchema()},className:"float-right mr-2"},"Verify"),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-md-5 px-1"},a.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},a.a.createElement("option",{value:"empty"},"Schema"),a.a.createElement("optgroup",{label:"Testers"},n),a.a.createElement("optgroup",{label:"Custom"},a.a.createElement("option",{value:"file"},"File..."),a.a.createElement("option",{value:"url"},"URL...")))),a.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?"":" d-none")},a.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),a.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?"":" d-none")},a.a.createElement("div",{className:"input-group"},a.a.createElement("div",{className:"input-group-prepend"},a.a.createElement(T.a,{color:"info",onClick:function(){return t.loadURL("schema")}},"Load URL")),a.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(e){return t.setState({schema:Ne({},t.state.schema,{url_str:e.target.value})})}})))))}},{key:"converted",value:function(e){var t=this,n=this.downloadConfig(),r=Object.entries(this.props.conversions).map(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),r=n[0],o=n[1];return a.a.createElement("option",{key:t,value:o},r)});return a.a.createElement("fieldset",{className:"col-6 p-0 float-left"},a.a.createElement("legend",null,"Converted Schema"),a.a.createElement("div",{className:"form-control border p-0",style:{height:this.schema_height}},a.a.createElement("textarea",{placeholder:"Converted JADN schema",style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},value:this.props.convertedSchema.convert||"",readOnly:!0})),a.a.createElement("div",{className:"col-12 m-1"}),a.a.createElement("a",{className:"btn btn-sm btn-primary float-right",href:n.content,download:n.file,target:"_blank"},"Download"),a.a.createElement("a",{className:"btn btn-sm btn-secondary float-right mr-2"+(this.state.convert.html?"":" d-none"),href:"#",onClick:this.viewPage.bind(this)},"View Page"),this.state.convert.popup,a.a.createElement("div",{className:"form-row ml-1"},a.a.createElement("div",{className:"form-group col-md-5 px-1"},a.a.createElement("select",{id:"convert-to",name:"convert-to",className:"form-control",default:"empty",onChange:function(e){return t.setState({convert:Ne({},t.state.convert,{selected:e.target.value})})}},a.a.createElement("option",{value:"empty"},"Convert To..."),r))))}},{key:"render",value:function(){var e=this;return a.a.createElement(z.a,Ce({},this.meta,{extend:!0}),a.a.createElement("div",{className:"row mx-auto"},a.a.createElement(T.d,{className:"mx-auto col-12",onSubmit:this.submitForm.bind(this)},a.a.createElement("div",{className:"form-row"},this.jadn(),this.converted()),a.a.createElement("div",{className:"col-12"}),a.a.createElement("div",{className:"form-group"},a.a.createElement(T.a,{outline:!0,color:"primary",type:"submit",id:"conv_tooltip"},"Convert"),a.a.createElement(T.t,{placement:"bottom",isOpen:this.state.conv_tooltip,target:"conv_tooltip",toggle:function(){return e.setState({conv_tooltip:!e.state.conv_tooltip})}},"Convert the given JADN schema to the selected format"),a.a.createElement(T.a,{outline:!0,color:"danger",type:"reset",onClick:function(){e.setState({schema:Ne({},e.state.schema,{schema:"",conv:""})})}},"Reset")))))}}]),t}(),Ue=Object(s.b)(function(e){return{schemas:e.Convert.schemas||[],loadedSchemas:e.Util.loaded.schemas||[],validSchema:e.Validate.valid.schema||{},conversions:e.Convert.conversions||{},convertedSchema:e.Convert.converted||{},siteTitle:e.Util.site_title}},function(e){return{info:function(){return e(ke({},be.RSAA,{endpoint:"/api/convert",method:"GET",types:["@@convert/INFO_REQUEST","@@convert/INFO_SUCCESS","@@convert/INFO_FAILURE"]}))},convertSchema:function(t,n){return e(function(e,t){return ke({},be.RSAA,{endpoint:"/api/convert",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e,"convert-to":t}),types:["@@convert/CONVERT_REQUEST","@@convert/CONVERT_SUCCESS","@@convert/CONVERT_FAILURE"]})}(t,n))},loadFile:function(t,n){return e(Se(t,n))},validateSchema:function(t){return e(Oe(t))}}})(Re),Fe=n(36),Le=n.n(Fe);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qe(e,t,n[t])})}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n(86);var Ke=n(28),Ye=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?ze(e):t}(this,Je(t).call(this,e,n))).state={val_tooltip:!1,ver_tooltip:!1,message:{message:"",json:{placeholder:"Submit a message for validation to see the json version of the message"},format:"",decode:"",selected:"empty",file:!1,url:!1,url_str:""},schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",decodeTypes:{all:[],exports:[]},file:!1,url:!1,url_str:""}},r.meta={title:Ke("{base} | {page}",{base:r.props.siteTitle,page:"Validator"}),canonical:Ke("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},r.schema_height="17em",r.selectChange=r.selectChange.bind(ze(ze(r))),r.fileChange=r.fileChange.bind(ze(ze(r))),r.props.info(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,r.Component),function(e,t,n){t&&We(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,r=this.state!=t;return n||r}},{key:"submitForm",value:function(e){var t=this;return e.preventDefault(),this.props.validateMessage(this.state.schema.schema,this.state.message.message,this.state.message.format,this.state.message.decode).then(function(){var e=t.props.validMessage;Object(d.toast)(a.a.createElement("p",null,e.valid_msg),{type:d.toast.TYPE[e.valid_bool?"INFO":"WARNING"]}),t.setState({message:Ge({},t.state.message,{json:e.message_json})}),t.format("message-json",2)}),!1}},{key:"selectChange",value:function(e){var t=this,n=e.target.id.split("-")[0],r=e.target.value,a={selected:r,file:"file"==r,url:"url"==r};"empty"==r&&"message"==n&&(a.format="",a.decode=""),this.setState(function(e){return qe({},n,Ge({},e[n],a))},function(){var e=t.state[n].selected,r=t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"];if(-1==["","empty",null,"file","url"].indexOf(e)){var a={};"message"==n&&(a.format=e.split(".")[1]),-1==Object.keys(r).indexOf(e)?t.props.loadFile(n+"s",e).then(function(){t.setState(function(r){return qe({},n,Ge({},r[n],a,qe({},n,t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"][e])))},function(){"schema"==n&&t.loadDecodeTypes()})}):t.setState(function(r){return qe({},n,Ge({},t.state[n],qe({},n,t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"][e])))},function(){"schema"==n&&t.loadDecodeTypes()})}})}},{key:"fileChange",value:function(e){var t=this,n=e.target.id.split("-")[0],r=e.target.files[0],o=r.name.split(".")[1],i=new FileReader;i.onload=function(e){var r=atob(i.result.split(",")[1]);try{r=JSON.stringify(JSON.parse(r),null,2)}catch(e){switch(o){case"cbor":r=$(X(r))}}if("schema"==n)try{t.setState({schema:Ge({},t.state.schema,{schema:JSON.parse(r)})}),t.loadDecodeTypes()}catch(e){Object(d.toast)(a.a.createElement("p",null,"Schema cannot be loaded"),{type:d.toast.TYPE.WARNING})}else"message"==n&&t.setState({message:Ge({},t.state.message,{format:"jadn"==o?"json":o,message:r})})},i.readAsDataURL(r)}},{key:"format",value:function(e){if("message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,n="message"==e?this.state.message.format:"json",r=ee(t,n,2);if(r.startsWith("Error"))return void Object(d.toast)(a.a.createElement("p",null,Ke("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:r})),{type:d.toast.TYPE.WARNING});this.setState({message:Ge({},this.state.message,qe({},"message"==e?"message":"json",r))})}else if("schema"==e)try{this.setState({schema:Ge({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(d.toast)(a.a.createElement("p",null,o),{type:d.toast.TYPE.WARNING})}}},{key:"minify",value:function(e){if("message"==e||"message-json"==e){var t="message"==e?this.state.message.message:this.state.message.json,n="message"==e?this.state.message.format:"json",r=te(t,n);if(r.startsWith("Error"))return void Object(d.toast)(a.a.createElement("p",null,Ke("{type} {err}",{type:e.charAt(0).toUpperCase()+e.slice(1),err:r})),{type:d.toast.TYPE.WARNING});this.setState({message:Ge({},this.state.message,qe({},"message"==e?"message":"json",r))})}else if("schema"==e)try{this.setState({schema:Ge({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(d.toast)(a.a.createElement("p",null,o),{type:d.toast.TYPE.WARNING})}}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return void Object(d.toast)(a.a.createElement("p",null,e.message),{type:d.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(d.toast)(a.a.createElement("p",null,t.valid_msg),{type:d.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"loadURL",value:function(e){var t=this,n=this.state[e].url_str;if(H(n)){var r=n.substring(n.lastIndexOf("/")+1),o=r.substring(r.lastIndexOf(".")+1);-1!=["json","jadn"].indexOf(o)||"schema"!=e?Q(n).then(function(n){var r;t.setState(qe({},e,Ge({},t.state[e],(qe(r={},e,n.data),qe(r,"format","jadn"==o?"json":n.fileExt),r)))),"schema"==e&&t.loadDecodeTypes()}).catch(function(e){Object(d.toast)(a.a.createElement("p",null,"Invalid url, please check what you typed"),{type:d.toast.TYPE.WARNING})}):Object(d.toast)(a.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:d.toast.TYPE.WARNING})}else Object(d.toast)(a.a.createElement("p",null,"Invalid URL, cannot load from a non valid location"),{type:d.toast.TYPE.WARNING})}},{key:"loadDecodeTypes",value:function(){var e={all:[],exports:[]},t="";void 0!=this.state.schema.schema.meta&&void 0!=this.state.schema.schema.meta.exports&&(e.exports=this.state.schema.schema.meta.exports),void 0!=this.state.schema.schema.types&&(e.all=this.state.schema.schema.types.map(function(e){return e[0]}),e.all=e.all.filter(function(t){return-1===e.exports.indexOf(t)}),e.all.sort()),""!=this.state.message.decode&&-1!=e.all.indexOf(this.state.message.decode)||(e.exports.length>=1?t=e.exports[0]:e.all.length>=1&&(t=e.all[0])),this.setState({message:Ge({},this.state.message,{decode:t}),schema:Ge({},this.state.schema,{decodeTypes:e})})}},{key:"jadn",value:function(){var e=this,t=this.props.schemas.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)});return a.a.createElement("fieldset",null,a.a.createElement("legend",null,"JADN Schema"),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-md-12 mb-3"},a.a.createElement("div",{id:"schema-card",className:"tab-pane fade active show"},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header"},a.a.createElement(T.b,{className:"float-right"},a.a.createElement(T.a,{outline:!0,color:"secondary",onClick:function(){return e.verifySchema()},id:"ver_tooltip"},"Verify"),a.a.createElement(T.t,{placement:"bottom",isOpen:this.state.ver_tooltip,target:"ver_tooltip",toggle:function(){return e.setState({ver_tooltip:!e.state.ver_tooltip})}},"Validate the schema is valid prior to validating the message")),a.a.createElement("div",{className:"col-sm-6 pl-0"},a.a.createElement("div",{className:"form-group col-md-6 mb-0 pr-0 pl-1 d-inline-block"},a.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},a.a.createElement("option",{value:"empty"},"Schema"),a.a.createElement("optgroup",{label:"Testers"},t),a.a.createElement("optgroup",{label:"Custom"},a.a.createElement("option",{value:"file"},"File..."),a.a.createElement("option",{value:"url"},"URL...")))),a.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?" d-inline-block":" d-none")},a.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),a.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?" d-inline-block":" d-none")},a.a.createElement("div",{className:"input-group"},a.a.createElement("div",{className:"input-group-prepend"},a.a.createElement(T.a,{color:"info",onClick:function(){return e.loadURL("schema")}},"Load URL")),a.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(t){return e.setState({schema:Ge({},e.state.schema,{url_str:t.target.value})})}}))))),a.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},a.a.createElement(ye,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(t){t.jsObject&&e.setState({schema:Ge({},e.state.schema,{schema:t.jsObject})})},theme:"light_mitsuketa_tribute",locale:ue,reset:!1,height:"100%",width:"100%"})))))))}},{key:"message",value:function(){var e=this,t=Object.entries(this.props.messages).map(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),r=n[0],o=n[1];return a.a.createElement("option",{key:t,value:r,decode:o},r)}),n=this.state.schema.decodeTypes.exports.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)}),r=this.state.schema.decodeTypes.all.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)});return"string"!=typeof this.state.message.message&&setTimeout(function(){return e.format("message")},5),a.a.createElement("fieldset",null,a.a.createElement("legend",null,"Message"),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"col-md-12 mb-3"},a.a.createElement("ul",{className:"nav nav-tabs"+(this.state.message.json.placeholder?" d-none":"")},a.a.createElement("li",{className:"nav-item"},a.a.createElement("a",{className:"nav-link active show","data-toggle":"tab",href:"#message-card"},"Original")),a.a.createElement("li",{className:"nav-item"},a.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#json-card"},"JSON"))),a.a.createElement("div",{className:"tab-content"},a.a.createElement("div",{id:"message-card",className:"tab-pane fade active show"},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header"},a.a.createElement("div",{className:"row float-left col-sm-6 pl-0"},a.a.createElement("div",{className:"form-group col-md-6 mb-0 pr-0 pl-1"},a.a.createElement("select",{id:"message-list",name:"message-list",className:"form-control",default:"empty",onChange:this.selectChange},a.a.createElement("option",{value:"empty"},"Message"),a.a.createElement("optgroup",{label:"Testers"},t),a.a.createElement("optgroup",{label:"Custom"},a.a.createElement("option",{value:"file"},"File..."),a.a.createElement("option",{value:"url"},"URL...")))),a.a.createElement("div",{id:"message-file-group",className:"form-group col-md-6 px-1"+(this.state.message.file?"":" d-none")},a.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"message-file",name:"message-file",accept:".json,.jadn,.xml,.cbor",onChange:this.fileChange})),a.a.createElement("div",{id:"message-url-group",className:"form-group col-md-6 px-1"+(this.state.message.url?"":" d-none")},a.a.createElement("div",{className:"input-group"},a.a.createElement("div",{className:"input-group-prepend"},a.a.createElement(T.a,{color:"info",onClick:function(){return e.loadURL("message")}},"Load URL")),a.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(t){return e.setState({message:Ge({},e.state.message,{url_str:t.target.value})})}})))),a.a.createElement(T.b,{className:"float-right"},a.a.createElement(T.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message")}},"Format"),a.a.createElement(T.a,{outline:!0,color:"secondary",onClick:function(){return e.minify("message")}},"Minify"))),a.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},a.a.createElement("textarea",{placeholder:"Paste message to be validated here",style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},required:"",value:this.state.message.message,onChange:function(t){return e.setState({message:Ge({},e.state.message,{message:t.target.value})})}})),a.a.createElement("div",{className:"card-footer"},a.a.createElement("div",{className:"float-left form-group col-md-3 col-sm-6 pr-1 pl-1"},a.a.createElement("label",{className:"control-label",htmlFor:"message-format"},"Message Format"),a.a.createElement("select",{className:"form-control",id:"message-format",name:"message-format",required:"",value:this.state.message.format,onChange:function(t){return e.setState({message:Ge({},e.state.message,{format:t.target.value})})}},a.a.createElement("option",{value:""},"Message Format"),a.a.createElement("option",{value:"json"},"json"),a.a.createElement("option",{value:"cbor"},"cbor"),a.a.createElement("option",{value:"xml"},"xml"))),a.a.createElement("div",{className:"float-left form-group col-md-3 col-sm-6 pr-1 pl-1"},a.a.createElement("label",{className:"control-label",htmlFor:"message-decode"},"Message Type"),a.a.createElement("select",{className:"form-control",id:"message-decode",name:"message-decode",required:"",value:this.state.message.decode,onChange:function(t){return e.setState({message:Ge({},e.state.message,{decode:t.target.value})})}},a.a.createElement("optgroup",{label:"Exports"},n),a.a.createElement("optgroup",{label:"All"},r)))))),a.a.createElement("div",{id:"json-card",className:"tab-pane fade"},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header"},a.a.createElement(T.b,{className:"float-right"},a.a.createElement(T.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message-json",2)}},"Verbose"),a.a.createElement(T.a,{outline:!0,color:"secondary",onClick:function(){return e.minify("message-json")}},"Minify"))),a.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},a.a.createElement("textarea",{placeholder:JSON.stringify(this.state.message.json),style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},id:"message-json",rows:"10",value:this.state.message.json,readOnly:!0}))))))))}},{key:"render",value:function(){var e=this;return a.a.createElement(z.a,Ve({},this.meta,{extend:!0}),a.a.createElement("div",{className:"row mx-auto"},a.a.createElement(T.d,{className:"mx-auto col-12 position-relative",onSubmit:this.submitForm.bind(this)},a.a.createElement("div",{className:"form-group position-absolute",style:{right:"1.25em",zIndex:100}},a.a.createElement(T.a,{outline:!0,color:"primary",id:"val_tooltip"},"Validate"),a.a.createElement(T.t,{placement:"bottom",isOpen:this.state.val_tooltip,target:"val_tooltip",toggle:function(){return e.setState({val_tooltip:!e.state.val_tooltip})}},"Validate the message against the given schema"),a.a.createElement(T.a,{outline:!0,color:"danger",type:"reset"},"Reset")),this.jadn(),this.message())))}}]),t}(),He=Object(s.b)(function(e){return{messages:e.Validate.messages,loadedMessages:e.Util.loaded.messages||{},validMessage:e.Validate.valid.message||{},schemas:e.Validate.schemas,loadedSchemas:e.Util.loaded.schemas||{},validSchema:e.Validate.valid.schema||{},siteTitle:e.Util.site_title}},function(e){return{info:function(){return e(Ee({},be.RSAA,{endpoint:"/api/validate",method:"GET",types:["@@validate/INFO_REQUEST","@@validate/INFO_SUCCESS","@@validate/INFO_FAILURE"]}))},loadFile:function(t,n){return e(Se(t,n))},validateSchema:function(t){return e(Oe(t))},validateMessage:function(t,n,r,a){return e(function(e,t,n,r){return Ee({},be.RSAA,{endpoint:"/api/validate",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e,message:t,"message-format":n,"message-decode":r}),types:["@@validate/VALIDATE_MESSAGE_REQUEST","@@validate/VALIDATE_MESSAGE_SUCCESS","@@validate/VALIDATE_FAILURE"]})}(t,n,r,a))}}})(Ye),Qe=n(29);function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){return $e({},be.RSAA,{endpoint:"",method:"OPTIONS",types:[{type:"@@generate/SCHEMA_DEFINE",payload:function(t,n){return{schema:e}}},"@@generate/SCHEMA_SUCCESS","@@generate/SCHEMA_FAILURE"]})},Ze=function(){return $e({},be.RSAA,{endpoint:"/api/create",method:"GET",types:["@@generate/INFO_REQUEST","@@generate/INFO_SUCCESS","@@generate/INFO_FAILURE"]})};function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var at=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,nt(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,r.Component),function(e,t,n){t&&tt(e.prototype,t)}(t,[{key:"inputOpts",value:function(e){switch(e){case"duration":return{type:"number",placeholder:0};case"date-time":return{type:"datetime",placeholder:"2000-01-01T00:00:00-00:00"};default:return{type:"text"}}}},{key:"render",value:function(){var e=this,t=this.props.def[1],n=this.props.def[2],r=(this.props.def[3],this.props.def[4]),o=this.props.schema.types.filter(function(e){return e[0]==e});o=1===o.length?o[0]:[];var i=this.props.parent?[this.props.parent,t]:[t];if(t>=0)return a.a.createElement(qt,{def:this.props.def,parent:i.join("."),optChange:this.props.optChange});var s=this.inputOpts(n);return a.a.createElement(T.f,{tag:"fieldset",className:"border border-dark p-2"},a.a.createElement("legend",null,(Object(Qe.b)(this.props.def)?"":"*")+t),a.a.createElement(T.h,{type:s.type||"text",placeholder:s.placeholder||"",name:t,onChange:function(t){return e.props.optChange(i.join("."),t.target.value,!!e.props.arr)}}),""!=r?a.a.createElement(T.g,{color:"muted"},r):"")}}]),t}(),ot=Object(s.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(at);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,lt(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,r.Component),function(e,t,n){t&&st(e.prototype,t)}(t,[{key:"render",value:function(){var e=this,t=this.props.def[1],n=(this.props.def[3],this.props.def[4]),r=(this.props.parent?[this.props.parent,t]:[t]).join("."),o=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]}),i=(o=1===o.length?o[0]:[])[o.length-1].map(function(e){return a.a.createElement("option",{key:e[0],"data-subtext":e[2]},e[1])});return a.a.createElement(T.f,{tag:"fieldset",className:"border border-dark p-2"},a.a.createElement("legend",null,(Object(Qe.b)(this.props.def)?"":"*")+t),""!=n?a.a.createElement(T.g,{color:"muted"},n):"",a.a.createElement(T.h,{type:"select",name:t,title:t,className:"selectpicker",onChange:function(t){return e.props.optChange(r,t.target.value)}},a.a.createElement("option",{"data-subtext":t+" options",value:""},t+" options"),i))}}]),t}(),pt=Object(s.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(ut);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vt=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?gt(e):t}(this,dt(t).call(this,e,n))).state={selected:-1,selectedBase:""},r.handleChange=r.handleChange.bind(gt(gt(r))),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,r.Component),function(e,t,n){t&&ft(e.prototype,t)}(t,[{key:"handleChange",value:function(e){var t=this;this.setState({selected:e.target.value},function(){-1==t.state.selected&&t.props.optChange(t.props.def[1],void 0)})}},{key:"render",value:function(){var e=this,t=this.props.def[1],n=(this.props.def[3],this.props.def[4]),r=(this.props.parent?[this.props.parent,t]:[t]).join("."),o=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]}),i=(o=1===o.length?o[0]:[])[o.length-1].map(function(e){return a.a.createElement("option",{key:e[0],"data-subtext":e[2],value:e[0]},e[1])});return this.selectedDef=o[o.length-1].filter(function(t){return t[0]==e.state.selected}),this.selectedDef=1===this.selectedDef.length?this.selectedDef[0]:[],a.a.createElement(T.f,{tag:"fieldset",className:"border border-dark p-2"},a.a.createElement("legend",null,(Object(Qe.b)(this.props.def)?"":"*")+t),""!=n?a.a.createElement(T.g,{color:"muted"},n):"",a.a.createElement("div",{className:"col-12 my-1 px-0"},a.a.createElement(T.h,{type:"select",name:t,title:t,className:"selectpicker",onChange:this.handleChange,default:-1},a.a.createElement("option",{"data-subtext":t+" options",value:-1},t," options"),i),a.a.createElement("div",{className:"col-12 py-2"},this.state.selected>=0?a.a.createElement(qt,{def:this.selectedDef,parent:r,optChange:this.props.optChange}):"")))}}]),t}(),yt=Object(s.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(vt);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Et(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,r.Component),function(e,t,n){t&&kt(e.prototype,t)}(t,[{key:"render",value:function(){var e=this,t=this.props.def[1],n=(this.props.def[3],this.props.def[4]),r=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]});r=1===r.length?r[0]:[];var o=(this.props.parent?[this.props.parent,t]:[t]).join(".");return a.a.createElement(T.f,{tag:"fieldset",className:"border border-dark p-2"},a.a.createElement("legend",null,(Object(Qe.b)(this.props.def)?"":"*")+t),""!=n?a.a.createElement(T.g,{color:"muted"},n):"",a.a.createElement("div",{className:"col-12 my-1 px-0"},r[r.length-1].map(function(t,n){return a.a.createElement(qt,{key:n,def:t,parent:o,optChange:e.props.optChange})})))}}]),t}(),St=Object(s.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(wt);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Ct(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(t,St),t}(),_t=Object(s.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(xt);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,It(t).call(this,e,n))).name=r.props.def[1],r.type=r.props.def[2],r.args=r.props.def[3],r.comment=r.props.def[4],r.opts={},r.typeDef=r.props.schema.types.filter(function(e){return e[0]==r.type}),r.typeDef=1===r.typeDef.length?r.typeDef[0]:[],r.msgName=(r.props.parent?[r.props.parent,r.name]:[r.name]).join("."),r.state={min:!1,max:!1,count:1,opts:{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,r.Component),function(e,t,n){t&&Pt(e.prototype,t)}(t,[{key:"opts2arr",value:function(e){var t=this;this.opts={};var n={"=":"compact","[":"min","]":"max","*":"rtype",$:"pattern","@":"format"};e.forEach(function(e){var r=e.charAt(0),a=e.substr(1);n.hasOwnProperty(r)?t.opts[n[r]]=a:console.log("Unknown option",r)})}},{key:"addOpt",value:function(e){var t=this;e.preventDefault();var n=this.opts.hasOwnProperty("max")?this.opts.max:20;this.setState(function(e){var t=e.count<n;return{count:t?++e.count:e.count,max:!t}},function(){t.props.optChange(t.msgName,Array.from(new Set(Object.values(t.state.opts))))})}},{key:"removeOpt",value:function(e){var t=this;e.preventDefault();var n=this.opts.hasOwnProperty("min")?this.opts.min:0;this.setState(function(e){var t=e.count>n,r=e.opts;return t&&delete r[Math.max.apply(Math,Object.keys(r))],{count:t?--e.count:e.count,min:!t,opts:r}},function(){t.props.optChange(t.msgName,Array.from(new Set(Object.values(t.state.opts))))})}},{key:"optChange",value:function(e,t,n){var r=this;this.setState(function(e){return{opts:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tt(e,t,n[t])})}return e}({},e.opts,Tt({},n,t))}},function(){r.props.optChange(r.msgName,Array.from(new Set(Object.values(r.state.opts))))})}},{key:"render",value:function(){var e=this;this.opts2arr(this.typeDef[2]);var t=this.props.schema.types.filter(function(t){return t[0]==e.opts.rtype});t=1===t.length?[0,(t=t[0])[0].toLowerCase(),t[0],[],t[t.length-2]]:[0,t[1],"String",[],""];for(var n=[],r=0;r<this.state.count;++r)n.push(a.a.createElement(qt,{key:r,def:t,parent:this.msgName,optChange:this.optChange.bind(this),idx:r}));return a.a.createElement(T.f,{tag:"fieldset",className:"border border-dark p-2"},a.a.createElement("legend",null,(Object(Qe.b)(this.props.def)?"":"*")+this.name,a.a.createElement(T.a,{color:"danger",className:"float-right p-1"+(this.state.min?" disabled":""),onClick:this.removeOpt.bind(this)},a.a.createElement(h.a,{icon:g.d,size:"lg"})),a.a.createElement(T.a,{color:"primary",className:"float-right p-1"+(this.state.max?" disabled":""),onClick:this.addOpt.bind(this)},a.a.createElement(h.a,{icon:g.f,size:"lg"}))),""!=this.comment?a.a.createElement(T.g,{color:"muted"},this.comment):"",n)}}]),t}(),Ut=Object(s.b)(function(e){return{schema:e.Generate.selectedSchema,baseTypes:e.Generate.types.base}},function(e){return{}})(Rt);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gt=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Mt(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,r.Component),function(e,t,n){t&&Lt(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,r=this.state!=t;return n||r}},{key:"render",value:function(){var e=this,t=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]});t=1===t.length?t[0]:[];var n=this.props.parent||"";switch(t[1]){case"Enumerated":return a.a.createElement(pt,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Choice":return a.a.createElement(yt,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Record":return a.a.createElement(_t,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Map":return a.a.createElement(St,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"ArrayOf":return a.a.createElement(Ut,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Array":return a.a.createElement(T.g,null,"Array: ",this.props.def[1]);default:return a.a.createElement(ot,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}})}}}]),t}(),qt=Object(s.b)(function(e){return{schema:e.Generate.selectedSchema}},function(e){return{}})(Gt);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zt(e,t,n[t])})}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var $t=n(28),Xt=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?Qt(e):t}(this,Yt(t).call(this,e,n))).state={command_record:"",schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",decodeTypes:{all:[],exports:[]},file:!1,url:!1,url_str:""},message:{}},r.meta={title:$t("{base} | {page}",{base:r.props.siteTitle,page:"Creator-Message"}),canonical:$t("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},r.optChange=r.optChange.bind(Qt(Qt(r))),r.selectChange=r.selectChange.bind(Qt(Qt(r))),r.fileChange=r.fileChange.bind(Qt(Qt(r))),r.props.info(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,r.Component),function(e,t,n){t&&Kt(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,r=this.state!=t;return this.state.schema.schema!=t.schema.schema&&(this.props.setSchema(t.schema.schema),t.message={}),n||r}},{key:"makeID",value:function(){console.log("Make ID"),this.setState({message:Bt({},this.state.message,{id:this.genUUID()})})}},{key:"validUUID",value:function(e){return!!e&&!!e.match(/[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}/)}},{key:"genUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}},{key:"optChange",value:function(e,t){this.setState(function(n){var r=n.message||{},a=e.split(".");return a.length>1&&r[a[0]]&&!r[a[0]][a[1]]&&Object(Qe.a)(r,a[0]),-1==[""," ",null,void 0,[],{}].indexOf(t)?Object(Qe.c)(r,e,t):Object(Qe.a)(r,e),{message:r}})}},{key:"selectChange",value:function(e){var t=this,n=e.target.id.split("-")[0],r=e.target.value,a={selected:r,file:"file"==r,url:"url"==r};"empty"==r&&"message"==n&&(a.format="",a.decode=""),this.setState(function(e){return zt({},n,Bt({},e[n],a))},function(){var e=t.state[n].selected,r=t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"];if(-1==["","empty",null,"file","url"].indexOf(e)){var a={};"message"==n&&(a.format=e.split(".")[1]),-1==Object.keys(r).indexOf(e)?t.props.loadFile(n+"s",e).then(function(){t.setState(function(r){return zt({},n,Bt({},r[n],a,zt({},n,t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"][e])))})}):t.setState(function(r){return zt({},n,Bt({},t.state[n],zt({},n,t.props["loaded"+n[0].toUpperCase()+n.slice(1)+"s"][e])))})}})}},{key:"fileChange",value:function(e){var t=this,n=e.target.id.split("-")[0],r=e.target.files[0],o=r.name.split(".")[1],i=new FileReader;i.onload=function(e){var r=atob(i.result.split(",")[1]);try{r=JSON.stringify(JSON.parse(r),null,2)}catch(e){switch(o){case"cbor":r=$(X(r))}}if("schema"==n)try{t.setState({schema:Bt({},t.state.schema,{schema:JSON.parse(r)})})}catch(e){Object(d.toast)(a.a.createElement("p",null,"Schema cannot be loaded"),{type:d.toast.TYPE.WARNING})}else"message"==n&&t.setState({message:Bt({},t.state.message,{format:"jadn"==o?"json":o,message:r})})},i.readAsDataURL(r)}},{key:"loadURL",value:function(e){var t=this,n=this.state[e].url_str;if(H(n)){var r=n.substring(n.lastIndexOf("/")+1),o=r.substring(r.lastIndexOf(".")+1);-1!=["json","jadn"].indexOf(o)||"schema"!=e?Q(n).then(function(n){var r;t.setState(zt({},e,Bt({},t.state[e],(zt(r={},e,n.data),zt(r,"format","jadn"==o?"json":n.fileExt),r))))}).catch(function(e){Object(d.toast)(a.a.createElement("p",null,"Invalid url, please check what you typed"),{type:d.toast.TYPE.WARNING})}):Object(d.toast)(a.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:d.toast.TYPE.WARNING})}else Object(d.toast)(a.a.createElement("p",null,"Invalid URL, cannot load from a non valid location"),{type:d.toast.TYPE.WARNING})}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return void Object(d.toast)(a.a.createElement("p",null,e.message),{type:d.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(d.toast)(a.a.createElement("p",null,t.valid_msg),{type:d.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"cmdCreator",value:function(e){var t=this,n=this.props.selectedSchema&&this.props.selectedSchema.meta?this.props.selectedSchema.meta.exports:[],r=this.props.selectedSchema.hasOwnProperty("types")?this.props.selectedSchema.types.filter(function(e){return e[0]==t.state.command_record}):[];return r=1==r.length?r[0]:[],a.a.createElement("div",{className:"col-md-6"},a.a.createElement("ul",{className:"nav nav-tabs"},a.a.createElement("li",{className:"nav-item"},a.a.createElement("a",{className:"nav-link active show","data-toggle":"tab",href:"#tab-creator"},"Creator")),a.a.createElement("li",{id:"msg-tab",className:"nav-item"},a.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#tab-message"},"Message"))),a.a.createElement("div",{className:"tab-content"},a.a.createElement("div",{className:"tab-pane fade active show",id:"tab-creator"},a.a.createElement("div",{className:"card col-12 p-0 mx-auto"},a.a.createElement("div",{className:"card-header"},a.a.createElement(T.f,{className:"col-md-6 p-0 m-0 float-left"},a.a.createElement(T.h,{type:"select",name:"command-list",id:"command-list",className:"form-control",default:"",onChange:function(e){t.setState({command_record:e.target.value,message:{}})}},a.a.createElement("option",{value:""},"Command Type"),n.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)}))),a.a.createElement(T.a,{color:"primary",className:"float-right",onClick:function(){return t.makeID()}},"Generate ID")),a.a.createElement(T.d,{id:"command-fields",className:"card-body",onSubmit:function(){return!1},style:{height:e-25+"px",overflowY:"scroll"}},r.length>1&&r[r.length-2].length>0?a.a.createElement(T.g,{color:"muted"},a.a.createElement("b",null,"Comment: "),r[r.length-2]):"",a.a.createElement("div",{id:"fieldDefs"},void 0==r[r.length-1]?a.a.createElement(T.g,{color:"muted"},"Command Fields will appear here after selecting a type ",this.state.command_record):r[r.length-1].map(function(e,n){return a.a.createElement(qt,{key:n,def:e,optChange:t.optChange})}))))),a.a.createElement("div",{className:"tab-pane fade position-relative",id:"tab-message",style:{height:e+"px"}},a.a.createElement(Le.a,{id:"message",className:"scroll-xl border",style:{minHeight:"2.5em"},json:this.state.message}))))}},{key:"schema",value:function(e){var t=this,n=this.props.schemas.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)});return a.a.createElement("div",{className:"col-md-6"},a.a.createElement("div",{id:"schema-card",className:"tab-pane fade active show"},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header"},a.a.createElement(T.b,{className:"float-right"},a.a.createElement(T.a,{outline:!0,color:"secondary",onClick:function(){return t.verifySchema()},id:"ver_tooltip"},"Verify"),a.a.createElement(T.t,{placement:"bottom",isOpen:this.state.ver_tooltip,target:"ver_tooltip",toggle:function(){return t.setState({ver_tooltip:!t.state.ver_tooltip})}},"Validate the schema is valid prior to validating the message")),a.a.createElement("div",{className:"col-sm-10 pl-0"},a.a.createElement("div",{className:"form-group col-md-6 pr-0 pl-1 d-inline-block"},a.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},a.a.createElement("option",{value:"empty"},"Schema"),a.a.createElement("optgroup",{label:"Testers"},n),a.a.createElement("optgroup",{label:"Custom"},a.a.createElement("option",{value:"file"},"File..."),a.a.createElement("option",{value:"url"},"URL...")))),a.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?" d-inline-block":" d-none")},a.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),a.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?" d-inline-block":" d-none")},a.a.createElement("div",{className:"input-group"},a.a.createElement("div",{className:"input-group-prepend"},a.a.createElement(T.a,{color:"info",onClick:function(){return t.loadURL("schema")}},"Load URL")),a.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(e){return t.setState({schema:Bt({},t.state.schema,{url_str:e.target.value})})}}))))),a.a.createElement("div",{className:"form-control border card-body p-0",style:{height:e+"px"}},a.a.createElement(ye,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(e){e.jsObject&&t.setState({schema:Bt({},t.state.schema,{schema:e.jsObject})})},theme:"light_mitsuketa_tribute",locale:ue,reset:!1,height:"100%",width:"100%"})))))}},{key:"render",value:function(){var e=window.innerHeight-225;return a.a.createElement(z.a,Jt({},this.meta,{extend:!0}),a.a.createElement("div",{className:"row mx-auto"},this.schema(e),a.a.createElement("div",{className:"col-12 m-2 d-md-none"}),this.cmdCreator(e),a.a.createElement("div",{className:"col-12",style:{height:"1.25em"}}),a.a.createElement("div",{id:"cmd-status",className:"modal"},a.a.createElement("div",{className:"modal-dialog h-100 d-flex flex-column justify-content-center my-0",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("h5",{className:"modal-title"},"Command: ",a.a.createElement("span",null)),a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"×"))),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",{className:"cmd-details"},a.a.createElement("b",null,"Details:")," ",a.a.createElement("span",null)),a.a.createElement("p",{className:"mb-1"},a.a.createElement("b",null,"Command:")),a.a.createElement("pre",{className:"border code command"}),a.a.createElement("p",{className:"mb-1"},a.a.createElement("b",null,"Responses:")),a.a.createElement("div",{className:"p-1 border border-primary responses"})),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))))}}]),t}(),Zt=Object(s.b)(function(e){return{schemas:e.Generate.schemas,loadedSchemas:e.Util.loaded.schemas||{},validSchema:e.Validate.valid.schema||{},selectedSchema:e.Generate.selectedSchema,message:e.Generate.message,siteTitle:e.Util.site_title}},function(e){return{info:function(){return e(Ze())},loadFile:function(t,n){return e(Se(t,n))},validateSchema:function(t){return e(Oe(t))},setSchema:function(t){return e(Xe(t))}}})(Xt),en=n(3),tn=n.n(en),nn=n(73);function rn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var an=function(e){var t=function(t){if(e.value.length>1){var n=t.currentTarget.attributes.getNamedItem("data-index").value,r=rn(e.value);r.splice(n,1),e.change(r)}},n=function(t){var n=t.target.attributes.getNamedItem("data-index").value,r=t.target.value,a=rn(e.value);a[n]=r,e.change(a)},r=e.value.map(function(r,o){return a.a.createElement("div",{className:"input-group col-sm-12 mb-1",key:o},a.a.createElement(T.h,{type:"text",className:"form-control","data-index":o,placeholder:e.placeholder,value:r,onChange:n}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement(T.a,{color:"danger",onClick:t,"data-index":o},a.a.createElement(h.a,{icon:g.d}))))});return a.a.createElement("div",{className:"border m-1 p-1"},a.a.createElement(T.b,{size:"sm",className:"float-right"},a.a.createElement(T.a,{color:"info",onClick:function(){return e.change(rn(e.value).concat([""]))}},a.a.createElement(h.a,{icon:g.f})),a.a.createElement(T.a,{color:"danger",onClick:function(t){return e.remove(e.id.toLowerCase())}},a.a.createElement(h.a,{icon:g.c}))),a.a.createElement("div",{className:"border-bottom mb-2"},a.a.createElement("p",{className:"col-sm-4 my-1"},a.a.createElement("strong",null,e.id))),a.a.createElement("div",{className:"row m-0 indices"},r))};an.defaultProps={id:"KeyValueEditor",placeholder:"KeyValueEditor",value:{},change:function(e){console.log(e)},remove:function(e){console.log(e)}};var on=an;function sn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ln=function(e){var t=function(t){if(e.value.length>1){console.log("WHOOT");var n=t.currentTarget.attributes.getNamedItem("data-index").value.split(",")[0],r=sn(e.value);r.splice(n,1),e.change(r)}else console.log("cant remove")},n=function(t){var n=t.target.attributes.getNamedItem("data-index").value.split(","),r=t.target.value,a=sn(e.value);a[n[0]]||(a[n[0]]=["",""]),a[n[0]][n[1]]=r,e.change(a)},r=e.value.map(function(r,o){return a.a.createElement("div",{className:"input-group col-sm-12 mb-1",key:o},a.a.createElement(T.h,{type:"text",className:"form-control","data-index":[o,0],placeholder:e.placeholder,value:r[0]||"",onChange:n}),a.a.createElement(T.h,{type:"text",className:"form-control","data-index":[o,1],placeholder:e.placeholder,value:r[1]||"",onChange:n}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement(T.a,{color:"danger",onClick:t,"data-index":o},a.a.createElement(h.a,{icon:g.d}))))});return a.a.createElement("div",{className:"border m-1 p-1"},a.a.createElement(T.b,{size:"sm",className:"float-right"},a.a.createElement(T.a,{color:"info",onClick:function(){var t=sn(e.value);t.push(["",""]),e.change(t)}},a.a.createElement(h.a,{icon:g.f})),a.a.createElement(T.a,{color:"danger",onClick:function(t){return e.remove(e.id.toLowerCase())}},a.a.createElement(h.a,{icon:g.c}))),a.a.createElement("div",{className:"border-bottom mb-2"},a.a.createElement("p",{className:"col-sm-4 my-1"},a.a.createElement("strong",null,e.id))),a.a.createElement("div",{className:"row m-0 indices"},r))};ln.defaultProps={id:"KeyObjectEditor",placeholder:"KeyObjectEditor",value:[],change:function(e){console.log(e)},remove:function(e){console.log(e)}};var cn=ln,un=function(e){return a.a.createElement(T.f,{row:!0,className:"border m-1 p-1"},a.a.createElement(T.i,{for:"editor-"+e.id,sm:2},a.a.createElement("strong",null,e.id)),a.a.createElement("div",{className:"input-group col-sm-10"},a.a.createElement(T.h,{type:"text",id:"editor-"+e.id,className:"form-control",placeholder:e.placeholder,value:e.value,onChange:function(t){return e.change(t.target.value)}}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement(T.a,{color:"danger",onClick:function(){return e.remove(e.id.toLowerCase())}},a.a.createElement(h.a,{icon:g.d})))))};un.defaultProps={id:"KeyValueEditor",placeholder:"KeyValueEditor",value:"",change:function(e){console.log(e)},remove:function(e){console.log(e)}};var pn=un;function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fn=function(e){var t={};e.value&&"object"===mn(e.value)&&(t={name:e.value[0]||"",type:e.value[1]||"",options:e.value[2]||[],comment:e.value[3]||""});var n=function(n){var r=n.target.placeholder.toLowerCase(),a=n.target.value;"options"===r&&(a=a.split(/,\s+?/)),t[r]=a,e.change(t,e.dataIndex)};return a.a.createElement("div",{className:"border m-1 p-1"},a.a.createElement(T.b,{size:"sm",className:"float-right"},a.a.createElement(T.a,{color:"danger",onClick:function(t){return e.remove(e.dataIndex)}},a.a.createElement(h.a,{icon:g.c}))),a.a.createElement("div",{className:"border-bottom mb-2"},a.a.createElement("h3",{className:"col-sm-10 my-1"},t.type," - ",t.name)),a.a.createElement("div",{className:"row m-0"},a.a.createElement(T.f,{className:"col-md-4"},a.a.createElement(T.i,null,"Name"),a.a.createElement(T.h,{type:"string",placeholder:"Name",value:t.name,onChange:n})),a.a.createElement(T.f,{className:"col-md-4"},a.a.createElement(T.i,null,"Options"),a.a.createElement(T.h,{type:"string",placeholder:"Options",value:t.options.join(", "),onChange:n})),a.a.createElement(T.f,{className:"col-md-4"},a.a.createElement(T.i,null,"Comment"),a.a.createElement(T.h,{type:"textarea",placeholder:"Comment",rows:1,value:t.comment,onChange:n}))))};fn.defaultProps={dataIndex:-1,values:{name:"name",type:"type",options:[],comment:""},change:function(e,t){console.log(e,t)},remove:function(e){console.log(e)}};var dn=fn;function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gn={id:1,name:"name",type:"",options:[],comment:""},vn={id:1,value:"value",comment:""},yn=function(e){var t={};e.value&&"object"===hn(e.value)&&(t.id=e.value[0]||0,e.enumerated?(t.value=e.value[1]||"",t.comment=e.value[2]||""):(t.name=e.value[1]||"",t.type=e.value[2]||"",t.options=e.value[3]||[],t.comment=e.value[4]||""));var n=function(n){var r=n.target.placeholder.toLowerCase(),a=n.target.value;if("options"===r&&(a=a.split(/,\s+?/)),t[r]=a,e.change){var o=Object.values(t);o[0]=Number(o[0]),e.change(o,e.dataIndex)}};return a.a.createElement("div",{className:"col-sm-12 border m-1 p-1"},a.a.createElement(T.b,{size:"sm",className:"float-right"},a.a.createElement(T.a,{color:"danger",onClick:function(t){return e.remove(e.dataIndex)}},a.a.createElement(h.a,{icon:g.c}))),a.a.createElement("div",{className:"border-bottom mb-2"},a.a.createElement("p",{className:"col-sm-4 my-1"},a.a.createElement("strong",null,e.enumerated?t.value:t.name))),a.a.createElement("div",{className:"row m-0"},a.a.createElement(T.f,{className:e.enumerated?"col-md-4":"col-md-3"},a.a.createElement(T.i,null,"ID"),a.a.createElement(T.h,{type:"string",placeholder:"ID",value:t.id,onChange:n})),e.enumerated?a.a.createElement(T.f,{className:"col-md-4"},a.a.createElement(T.i,null,"Value"),a.a.createElement(T.h,{type:"string",placeholder:"Value",value:t.value,onChange:n})):a.a.createElement("div",{className:"col-md-9 p-0 m-0"},a.a.createElement(T.f,{className:"col-md-4 d-inline-block"},a.a.createElement(T.i,null,"Name"),a.a.createElement(T.h,{type:"string",placeholder:"Name",value:t.name,onChange:n})),a.a.createElement(T.f,{className:"col-md-4 d-inline-block"},a.a.createElement(T.i,null,"Type"),a.a.createElement(T.h,{type:"string",placeholder:"Type",value:t.type,onChange:n})),a.a.createElement(T.f,{className:"col-md-4 d-inline-block"},a.a.createElement(T.i,null,"Options"),a.a.createElement(T.h,{type:"string",placeholder:"Options",value:t.options.join(", "),onChange:n}))),a.a.createElement(T.f,{className:e.enumerated?"col-md-4":"col-md-12"},a.a.createElement(T.i,null,"Comment"),a.a.createElement(T.h,{type:"textarea",placeholder:"Comment",rows:1,value:t.comment,onChange:n}))))};yn.defaultProps={enumerated:!1,dataIndex:-1,values:[],change:function(e,t){console.log(e,t)},remove:function(e){console.log(e)}};var bn=yn;function kn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){On(e,t,n[t])})}return e}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xn=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?Nn(e):t}(this,jn(t).call(this,e,n))).removeAll=r.removeAll.bind(Nn(Nn(r))),r.onChange=r.onChange.bind(Nn(Nn(r))),r.toggleFields=r.toggleFields.bind(Nn(Nn(r))),r.addField=r.addField.bind(Nn(Nn(r))),r.state={fieldCollapse:!1,values:{name:"",type:"",options:[],comment:"",fields:[]}},r.fieldStyles={maxHeight:"20em",overflowY:"scroll"},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,r.Component),function(e,t,n){t&&Sn(e.prototype,t)}(t,[{key:"componentDidMount",value:function(){this.initState()}},{key:"initState",value:function(){if(this.props.value&&"object"===wn(this.props.value)){var e={};this.props.value[0]!==this.state.values.name&&(e.name=this.props.value[0]),this.props.value[1]!==this.state.values.type&&(e.type=this.props.value[1]),this.props.value[2]!==this.state.values.options&&(e.options=this.props.value[2]),this.props.value[3]!==this.state.values.comment&&(e.comment=this.props.value[3]),this.props.value[4]!==this.state.values.fields&&(e.fields=this.props.value[4]),Object.keys(e).length>0&&this.setState(function(t){return{values:En({},t.values,e)}})}}},{key:"removeAll",value:function(e){this.props.remove(this.props.dataIndex)}},{key:"addField",value:function(){var e=this;console.log("Add Field",this.state.values.type);var t=Object.values("enumerated"===this.state.values.type.toLowerCase()?vn:gn);console.log(t),this.setState(function(e){var n=kn(e.values.fields).concat([t]);return console.log(n),{fieldCollapse:!0,values:En({},e.values,{fields:n})}},function(){e.props.change(e.state.values,e.props.dataIndex)})}},{key:"onChange",value:function(e){var t=this,n=e.target.placeholder.toLowerCase(),r=e.target.value;"options"===n&&(r=r.split(/,\s+?/)),this.setState(function(e){return{values:En({},e.values,On({},n,r))}},function(){t.props.change&&t.props.change(t.state.values,t.props.dataIndex)})}},{key:"toggleFields",value:function(){this.setState({fieldCollapse:!this.state.fieldCollapse})}},{key:"render",value:function(){var e=this;setTimeout(function(){return e.initState()},100);var t=(this.state.values.fields||[]).map(function(t,n){return a.a.createElement(bn,{key:n,dataIndex:n,enumerated:"enumerated"===e.state.values.type.toLowerCase(),value:t,change:function(t,n){return e.setState(function(e){var r=kn(e.values.fields);return r[n]=t,{values:En({},e.values,{fields:r})}},function(){e.props.change&&e.props.change(e.state.values,e.props.dataIndex)})},remove:function(t){e.state.values.fields.length>=t&&e.setState(function(e){var n=kn(e.values.fields);return n.splice(t,1),{values:En({},e.values,{fields:n})}},function(){e.props.change&&e.props.change(e.state.values,e.props.dataIndex)})}})});return a.a.createElement("div",{className:"border m-1 p-1"},a.a.createElement(T.b,{size:"sm",className:"float-right"},a.a.createElement(T.a,{color:"danger",onClick:this.removeAll},a.a.createElement(h.a,{icon:g.c}))),a.a.createElement("div",{className:"border-bottom mb-2"},a.a.createElement("h3",{className:"col-sm-10 my-1"},this.state.values.type," - ",this.state.values.name)),a.a.createElement("div",{className:"row m-0"},a.a.createElement(T.f,{className:"col-md-4"},a.a.createElement(T.i,null,"Name"),a.a.createElement(T.h,{type:"string",placeholder:"Name",value:this.state.values.name,onChange:this.onChange})),a.a.createElement(T.f,{className:"col-md-4"},a.a.createElement(T.i,null,"Options"),a.a.createElement(T.h,{type:"string",placeholder:"Options",value:this.state.values.options.join(", "),onChange:this.onChange})),a.a.createElement(T.f,{className:"col-md-4"},a.a.createElement(T.i,null,"Comment"),a.a.createElement(T.h,{type:"textarea",placeholder:"Comment",rows:1,value:this.state.values.comment,onChange:this.onChange})),a.a.createElement(T.f,{tag:"fieldset",className:"col-12 border"},a.a.createElement("legend",null,"Fields",a.a.createElement(T.b,{size:"sm",className:"float-right"},a.a.createElement(T.a,{color:"primary",onClick:this.addField},a.a.createElement(h.a,{icon:g.e})," Field"),a.a.createElement(T.a,{color:this.state.fieldCollapse?"warning":"success",onClick:this.toggleFields},a.a.createElement(h.a,{icon:this.state.fieldCollapse?g.b:g.e})))),a.a.createElement(T.c,{isOpen:this.state.fieldCollapse},t),!this.state.fieldCollapse&&t.length>0?a.a.createElement("p",null,"Expand to view/edit fields"):"")))}}]),t}();xn.defaultProps={dataIndex:-1,values:{name:"",type:"",options:[],comment:"",fields:[]},change:function(e,t){console.log(e,t)},remove:function(e){console.log(e)}};var _n=xn;function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Tn=function(e){var t=e.k,n=void 0===t?"key":t,r=e.v;return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,void 0===r?"":r)};function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function In(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Dn=function(e){var t=e.name,n=void 0===t?"name":t,r=e.type,a=void 0===r?"type":r,o=e.options,i=void 0===o?[]:o,s=e.comment,l=void 0===s?"":s,c=e.fields;return[n,a,i,l,void 0===c?[]:c]},Rn=function(e){var t=e.name,n=void 0===t?"name":t,r=e.type,a=void 0===r?"type":r,o=e.options,i=void 0===o?[]:o,s=e.comment;return[n,a,i,void 0===s?"":s]},Un={meta:{title:{key:"Title",edit:function(e){return Tn({k:"title",v:e})},editor:function(e){var t=An({},e);return a.a.createElement(pn,An({id:"Title"},t))}},description:{key:"Description",edit:function(e){return Tn({k:"description",v:e})},editor:function(e){var t=An({},e);return a.a.createElement(pn,An({id:"Description"},t))}},module:{key:"Module",edit:function(e){return Tn({k:"module",v:e})},editor:function(e){var t=An({},e);return a.a.createElement(pn,An({id:"Module"},t))}},version:{key:"Version",edit:function(e){return Tn({k:"version",v:e})},editor:function(e){var t=An({},e);return a.a.createElement(pn,An({id:"Version"},t))}},imports:{key:"Imports",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Tn({k:"imports",v:e})},editor:function(e){var t=An({},e);return a.a.createElement(cn,An({id:"Imports"},t))}},exports:{key:"Exports",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Tn({k:"exports",v:e})},editor:function(e){var t=An({},e);return a.a.createElement(on,An({id:"Exports"},t))}}},types:{record:{key:"Record",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"record":t,r=e.options,a=e.comment,o=e.fields;return In(e,["name","options","comment","fields"]),Dn({name:n,type:"Record",options:r,comment:a,fields:o})},editor:function(e){var t=Pn({},e);return a.a.createElement(_n,t)}},enumerated:{key:"Enumerated",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"enumerated":t,r=e.options,a=e.comment,o=e.fields;return In(e,["name","options","comment","fields"]),Dn({name:n,type:"Enumerated",options:r,comment:a,fields:o})},editor:function(e){var t=Pn({},e);return a.a.createElement(_n,t)}},choice:{key:"Choice",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"choice":t,r=e.options,a=e.comment,o=e.fields;return In(e,["name","options","comment","fields"]),Dn({name:n,type:"Choice",options:r,comment:a,fields:o})},editor:function(e){var t=Pn({},e);return a.a.createElement(_n,t)}},map:{key:"Map",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"map":t,r=e.options,a=e.comment,o=e.fields;return In(e,["name","options","comment","fields"]),Dn({name:n,type:"Map",options:r,comment:a,fields:o})},editor:function(e){var t=Pn({},e);return a.a.createElement(_n,t)}},array:{key:"Array",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"array":t,r=e.options,a=e.comment,o=e.fields;return In(e,["name","options","comment","fields"]),Dn({name:n,type:"Array",options:r,comment:a,fields:o})},editor:function(e){var t=Pn({},e);return a.a.createElement(_n,t)}},arrayof:{key:"ArrayOf",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"arrayof":t,r=e.options,a=e.comment,o=e.fields;return In(e,["name","options","comment","fields"]),Dn({name:n,type:"ArrayOf",options:r,comment:a,fields:o})},editor:function(e){var t=Pn({},e);return a.a.createElement(dn,t)}},string:{key:"String",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"string":t,r=e.options,a=e.comment;return In(e,["name","options","comment"]),Rn({name:n,type:"String",options:r,comment:a})},editor:function(e){var t=Pn({},e);return a.a.createElement(dn,t)}},binary:{key:"Binary",edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"binary":t,r=e.options,a=e.comment;return In(e,["name","options","comment"]),Rn({name:n,type:"Binary",options:r,comment:a})},editor:function(e){var t=Pn({},e);return a.a.createElement(dn,t)}}}};function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gn(e,t,n[t])})}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var zn=n(28),Kn=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?Bn(e):t}(this,Wn(t).call(this,e,n))).state={schema:{},activeOption:"meta",activeView:"editor"},r.meta={title:zn("{base} | {page}",{base:r.props.siteTitle,page:"Creator-Schema"}),canonical:zn("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},r.keys=Un,r.onDrop=r.onDrop.bind(Bn(Bn(r))),r.props.info(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(t,r.Component),function(e,t,n){t&&qn(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,r=this.state!=t;return n||r}},{key:"onDrop",value:function(e){var t=this;e.meta?e.meta in(this.state.schema.meta||{})||this.setState(function(n){return{schema:Vn({},n.schema,{meta:Vn({},n.schema.meta||{},t.keys.meta[e.meta].edit())})}}):e.types?this.setState(function(n){var r=n.schema.types||[],a=t.keys.types[e.types].edit();return 0===(r.filter(function(e){return e[0]===a[0]})||[]).length&&r.push(a),{schema:Vn({},n.schema,{types:r})}}):console.log("oops...")}},{key:"schemaEditor",value:function(){var e=this,t=Object.keys(this.state.schema.meta||{}).map(function(t,n){return e.keys.meta[t].editor({key:n,value:e.state.schema.meta[t],placeholder:t,change:function(n){return e.setState(function(r){return{schema:Vn({},r.schema,{meta:Vn({},r.schema.meta,e.keys.meta[t].edit(n))})}})},remove:function(t){t in e.state.schema.meta&&e.setState(function(e){var n=Vn({},e.schema.meta);return delete n[t],{schema:Vn({},e.schema,{meta:n})}})}})}),n=(this.state.schema.types||[]).map(function(t,n){var r=t[1].toLowerCase();return e.keys.types[r].editor({key:n,value:t,dataIndex:n,change:function(t,n){return e.setState(function(r){var a=Mn(r.schema.types);return a[n]=e.keys.types[t.type.toLowerCase()].edit(t),{schema:Vn({},r.schema,{types:a})}})},remove:function(t){e.state.schema.types.length>=t&&e.setState(function(e){var n=Mn(e.schema.types);return n.splice(t,1),{schema:Vn({},e.schema,{types:n})}})}})});return a.a.createElement("div",null,a.a.createElement("div",{className:"col-12"},a.a.createElement("h2",null,"Meta"),t),a.a.createElement("hr",null),a.a.createElement("div",{className:"col-12"},a.a.createElement("h2",null,"Types"),n))}},{key:"downloadConfig",value:function(){return{content:zn("data:application/json;charset=utf-8,{conv}",{conv:encodeURIComponent("TEST")}),file:"schema.jadn"}}},{key:"toggleOptions",value:function(e){this.state.activeOption!==e&&this.setState({activeOption:e})}},{key:"toggleViews",value:function(e){this.state.activeView!==e&&this.setState({activeView:e})}},{key:"render",value:function(){var e=this,t=Object.keys(this.keys.meta).map(function(t,n){return a.a.createElement(nn.Draggable,{type:"meta",data:t,key:n},a.a.createElement(T.k,{action:!0},e.keys.meta[t].key))}),n=Object.keys(this.keys.types).map(function(t,n){return a.a.createElement(nn.Draggable,{type:"types",data:t,key:n},a.a.createElement(T.k,{action:!0},e.keys.types[t].key))}),r=this.downloadConfig();return a.a.createElement(z.a,Ln({},this.meta,{extend:!0}),a.a.createElement("div",{className:"row mx-auto"},a.a.createElement("div",{id:"schema-options",className:"col-md-2"},a.a.createElement(T.o,{tabs:!0},a.a.createElement(T.p,null,a.a.createElement(T.q,{className:tn()({active:"meta"===this.state.activeOption}),onClick:function(){return e.toggleOptions("meta")}},"Meta")),a.a.createElement(T.p,null,a.a.createElement(T.q,{className:tn()({active:"types"===this.state.activeOption}),onClick:function(){return e.toggleOptions("types")}},"Types"))),a.a.createElement(T.r,{activeTab:this.state.activeOption},a.a.createElement(T.s,{tabId:"meta"},a.a.createElement(T.j,null,t)),a.a.createElement(T.s,{tabId:"types"},a.a.createElement(T.j,null,n))),a.a.createElement("div",{className:"col-12 m-2"}),a.a.createElement("a",{className:"btn btn-sm btn-primary ",href:r.content,download:r.file,target:"_blank"},"Download Schema")),a.a.createElement("div",{id:"schema-view",className:"col-md-10"},a.a.createElement(T.o,{tabs:!0},a.a.createElement(T.p,null,a.a.createElement(T.q,{className:tn()({active:"editor"===this.state.activeView}),onClick:function(){return e.toggleViews("editor")}},"Editor")),a.a.createElement(T.p,null,a.a.createElement(T.q,{className:tn()({active:"code"===this.state.activeView}),onClick:function(){return e.toggleViews("code")}},"Code"))),a.a.createElement(nn.Droppable,{types:["meta","types"],onDrop:this.onDrop,className:"border col-12 p-0",style:{minHeight:"20em"}},a.a.createElement(T.r,{activeTab:this.state.activeView},a.a.createElement(T.s,{tabId:"editor"},this.schemaEditor()),a.a.createElement(T.s,{tabId:"code"},a.a.createElement("div",{className:"form-control m-0 p-0",style:{minHeight:"20em"}},a.a.createElement(ye,{id:"jadn_schema",placeholder:this.state.schema,onChange:function(t){t.jsObject&&e.setState({schema:t.jsObject})},theme:"light_mitsuketa_tribute",locale:ue,height:"100%",width:"100%",viewOnly:!0}))))))))}}]),t}(),Yn=Object(s.b)(function(e){return{schemas:e.Generate.schemas,loadedSchemas:e.Util.loaded.schemas||{},validSchema:e.Validate.valid.schema||{},selectedSchema:e.Generate.selectedSchema,message:e.Generate.message,siteTitle:e.Util.site_title}},function(e){return{info:function(){return e(Ze())},loadFile:function(t,n){return e(Se(t,n))},validateSchema:function(t){return e(Oe(t))},setSchema:function(t){return e(Xe(t))}}})(Kn);function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var er=n(28),tr=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Xn(t).call(this,e,n))).meta={title:"JADN",description:"JADN",canonical:er("{origin}{path}",{origin:window.location.origin,path:window.location.pathname})},r.props.info().then(function(){r.meta=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qn(e,t,n[t])})}return e}({},r.meta,{title:r.props.siteTitle,description:r.props.siteDesc})}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(t,r.Component),function(e,t,n){t&&$n(e.prototype,t)}(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"container-fluid mt-3"},a.a.createElement("div",{className:"ribbon ribbon-top-left"},a.a.createElement("span",null,"Beta")),a.a.createElement(J,{history:this.props.history}),a.a.createElement(u.a,{history:this.props.history},a.a.createElement(p.a,null,a.a.createElement(m.a,{exact:!0,path:"/",component:He}),a.a.createElement(m.a,{exact:!0,path:"/convert",component:Ue}),a.a.createElement(m.a,{exact:!0,path:"/generate",render:function(){return a.a.createElement(f.a,{to:"/generate/message"})}}),a.a.createElement(m.a,{path:"/generate/message",component:Zt}),a.a.createElement(m.a,{path:"/generate/schema",component:Yn}),a.a.createElement(m.a,{component:w})," // This should always be last route")),a.a.createElement(d.ToastContainer,{position:d.toast.POSITION.BOTTOM_CENTER,autoClose:5e3}))}}]),t}(),nr=Object(s.b)(function(e){return{siteTitle:e.Util.site_title,siteDesc:e.Util.site_desc}},function(e){return{info:function(){return e(we({},be.RSAA,{endpoint:"/api/",method:"GET",types:["@@util/INFO_REQUEST","@@util/INFO_SUCCESS","@@util/INFO_FAILURE"]}))}}})(tr),rr=n(122),ar=n.n(rr),or=n(123),ir=n(15),sr=n(80);function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cr(e,t,n[t])})}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ur={conversions:{},converted:{},schemas:[]};function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){mr(e,t,n[t])})}return e}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr={selectedSchema:{},schemas:[],message:{},types:{schema:["Record","Enumerated","Map","Choice","ArrayOf","Array"],base:["String"]}};function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hr(e,t,n[t])})}return e}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr={site_title:"JADN Lint",site_desc:"",error:"",loaded:{messages:{},schemas:{}}};function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yr(e,t,n[t])})}return e}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br={messages:{},schemas:[],error:{},valid:{message:{},schema:{}}},kr=Object(ir.c)({Convert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"@@convert/INFO_SUCCESS":return lr({},e,{conversions:t.payload.conversions||{},schemas:t.payload.schemas||[]});case"@@convert/CONVERT_SUCCESS":return lr({},e,{converted:t.payload.schema||{}});case"@@convert/INFO_FAILURE":case"@@convert/CONVERT_FAILURE":return console.log(t.payload),lr({},e,{error:t.payload.error||"ERROR"});default:return e}},Generate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(pr({},e.message),t.type){case"@@generate/INFO_SUCCESS":return pr({},e,{schemas:t.payload.schemas||[]});case"@@generate/SCHEMA_DEFINE":return pr({},e,{selectedSchema:t.payload.schema});case"@@generate/INFO_FAILURE":case"@@generate/SCHEMA_FAILURE":default:return e}},Router:u.c,Util:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=dr({},e);switch(t.type){case"@@util/INFO_SUCCESS":return dr({},e,{site_title:t.payload.title||"JADN Lint",site_desc:t.payload.message||"JADN Schema Lint"});case"@@util/LOAD_SUCCESS":return n.loaded[t.payload.type][t.payload.file]=t.payload.data,n;case"@@util/INFO_FAILURE":case"@@util/LOAD_FAILURE":return dr({},e,{error:t.payload.valid_msg||t.payload.error||"ERROR"});default:return e}},Validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case"@@validate/INFO_SUCCESS":return vr({},e,{messages:t.payload.messages||{},schemas:t.payload.schemas||[],error:{}});case"@@validate/VALIDATE_SCHEMA_SUCCESS":return vr({},e,{valid:vr({},e.valid,{schema:t.payload})});case"@@validate/VALIDATE_MESSAGE_SUCCESS":return vr({},e,{valid:vr({},e.valid,{message:t.payload})});case"@@validate/INFO_FAILURE":case"@@validate/VALIDATE_FAILURE":return console.log(t.payload),vr({},e,{error:t.payload.valid_msg||t.payload.error||"ERROR"});default:return e}}}),Er=ar()(),Or=function(e){var t=Object(sr.a)({key:"orc_gui",storage:or.a,whitelist:[]},kr),n=[be.apiMiddleware,Object(u.b)(e)],r=Object(ir.d)(t,{},ir.a.apply(void 0,n));return Object(sr.b)(r),r}(Er);i.a.render(a.a.createElement(function(){return a.a.createElement(s.a,{store:Or},a.a.createElement(nr,{history:Er}))},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(Object({NODE_ENV:"production"}).PUBLIC_URL,window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(Object({NODE_ENV:"production"}).PUBLIC_URL,"/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e)})}}()},29:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),n(28).create({escape:function(e){return e.replace(/(\")/g,"\\$1")},upper:function(e){return e.toUpperCase()}});var r=function(e){switch(e.length){case 5:return e[3].indexOf("[0")>=0;case 4:return e[2].indexOf("[0")>=0;default:return console.log("default optional - "+e[0]+" - "+e[1]),!1}},a=function e(t,n,r){var a=(n=n.replace(/\[\]$/,"")).split(".");a.length>1?(t.hasOwnProperty(a[0])||(t[a[0]]={}),e(t[a[0]],a.slice(1).join("."),r)):t[n]=r},o=function e(t,n){var r=(n=n.replace(/\[\]$/,"")).split(".");r.length>1?e(t[r[0]],r.slice(1).join(".")):t&&t.hasOwnProperty(r[0])&&delete t[r[0]]}}).call(this,n(69))},71:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[];function a(e,t,n){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(null!==n&&i<n)y(e)&&(o=Object.keys(e)).forEach(function(r){a(e[r],t,n,i+1)});else{if(null!==n&&i==n)return 0==n?void(r=a(e,t,null,i)):void(y(e)&&r.push(a(e,t,n,i+1)));switch(O(e)){case"array":var s=[];if(o=Object.keys(e),null===t||i<t)for(var l=0,c=o.length;l<c;l++){var u=o[l],p=e[u];s[u]=a(p,t,n,i+1)}return s;case"object":var m={};if(o=Object.keys(e),null===t||i<t)for(l=0,c=o.length;l<c;l++){var f=o[l],d=e[f];m[f]=a(d,t,n,i+1)}return m;case"string":return""+e;case"number":return 0+e;case"boolean":return!!e;case"null":return null;case"undefined":return}}}return null===n?a(e,t,n,0):(a(e,t,n,0),r)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===O(t)&&""!==t){var r=[];return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(a===n&&(r[r.length]=o),null!==i&&s>=i)return!1;if(y(t))for(var l=0,c=Object.keys(t),u=c.length;l<u;l++){var p=c[l];e(t[p],n,p,(""===o?o:o+".")+p,i,s+1)}}(e,t,"","",n),0!==(r=r.map(function(e){return"boolean"===O(e)?e:""===e?e:((e=e.split(".")).pop(),e=e.join("."))})).length&&r}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===O(t)&&""!==t){var r=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(r===n)return r;var i=!1;if(null!==a&&o>=a)return i;if(y(t))for(var s=0,l=Object.keys(t),c=l.length;s<c;s++){var u=l[s],p=e(t[u],n,u,a,o+1);if(p){i=(r=""===r?r:r+".")+p;break}}return i}(e,t,"",n,0);return"boolean"===O(r)?r:""===r?r:((r=r.split(".")).pop(),r=r.join("."))}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!u(t=l(t)))return function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(v(t,[n]))return u(t[n]);if(null!==r&&a>=r)return!1;if(y(t))for(var o=0,i=Object.keys(t),s=i.length;o<s;o++)if(e(t[i[o]],n,r,a+1))return!0;return!1}(e,t,n)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!u(t=l(t)))return function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(v(t,[n]))return c(t[n]);if(null!==r&&a>=r)return!1;if(y(t))for(var o=0,i=Object.keys(t),s=i.length;o<s;o++)if(e(t[i[o]],n,r,a+1))return!0;return!1}(e,t,n,0)}function l(e){var t=p(e);return!(t>1)&&(1===t?Object.keys(e)[0]:0===t&&["string","number"].indexOf(O(e))>-1&&e)}function c(e){return!u(e)}function u(e){return!1===function(e){return y(e)?e:!(["null","undefined"].indexOf(O(e))>-1)&&!(["",0,!1].indexOf(e)>-1)&&e}(e)}function p(e){return-1===["array","object"].indexOf(O(e))?0:Object.keys(e).length}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(b(e,t))return!0;if(y(t)&&E(e,t)&&v(e,Object.keys(t))&&b(g(e,Object.keys(t)),t))return!0;if((null===n||r<n)&&y(e))for(var a=0,o=Object.keys(e),i=o.length;a<i;a++)if(m(e[o[a]],t,n,r+1))return!0;return!1}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=d(e,t,n);if(!1!==r)return r.map(function(n){if(""===n)return e;n=n.split("."),-1===["array","object"].indexOf(O(t))&&n.splice(-1,1);var r=e;return Array.isArray(n)?(n.forEach(function(e){r=r[e]}),r):r[n]})}function d(e,t){var n=[];return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(y(r)&&E(t,r)&&v(t,Object.keys(r))&&b(g(t,Object.keys(r)),r)&&(n[n.length]=a),b(t,r)&&(n[n.length]=a),null!==o&&i>=o)return!1;if(y(t))for(var s=0,l=Object.keys(t),c=l.length;s<c;s++){var u=l[s];e(t[u],r,(""===a?a:a+".")+u,o,i+1)}}(e,t,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,0),0!==n.length&&n}function h(e,t){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(y(n)&&E(t,n)&&v(t,Object.keys(n))&&b(g(t,Object.keys(n)),n))return r;if(b(t,n))return r;var i=!1;if(null!==a&&o>=a)return i;if(y(t))for(var s=0,l=Object.keys(t),c=l.length;s<c;s++){var u=l[s],p=e(t[u],n,u,a,o+1);if(p){i=(r=""===r?r:r+".")+p;break}}return i}(e,t,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,0)}function g(e,t){var n=O(e);if(-1!==["array","object"].indexOf(n)&&0!==t.length){var r;switch(n){case"object":r={},t.forEach(function(t){t in e&&(r[t]=e[t])});break;case"array":r=[],t.forEach(function(t){t in e&&r.push(e[t])})}return r}}function v(e,t){var n=t.length;if(0===n||!y(e))return!1;for(var r=Object.keys(e),a=!0,o=0;o<n;o++){var i=""+t[o];if(-1===r.indexOf(i)){a=!1;break}}return a}function y(e){return-1!==["array","object"].indexOf(O(e))&&0!==Object.keys(e).length}function b(e,t){var n=k(e,t);if(!1===n)return n;if(-1===["array","object"].indexOf(n))return e===t;for(var r=Object.keys(e),a=r.length,o=!0,i=0;i<a;i++){var s=r[i],l=b(e[s],t[s]);if(!1===l){o=l;break}}return o}function k(e,t){var n=E(e,t);if(!1===n)return!1;if(["array","object"].indexOf(n)>-1){var r=Object.keys(e),a=Object.keys(t),o=r.length;if(o!==a.length)return!1;if(0===o)return!0;for(var i=0;i<o;i++)if(r[i]!==a[i])return!1}return n}function E(e,t){var n=O(e);return n===O(t)&&n}function O(e){if(null===e)return"null";var t=n(e);return"object"===t&&Array.isArray(e)?"array":t}var w={getType:function(e){return O(e)},sameType:function(e,t){return E(e,t)},sameStructure:function(e,t){return k(e,t)},identical:function(e,t){return b(e,t)},isIterable:function(e){return y(e)},containsKeys:function(e,t){return v(e,t)},trim:function(e,t){return g(e,t)},locate:function(e,t,n){return h(e,t,n)},deepGet:function(e,t,n){return function(e,t){var n=h(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);if(!1!==n){if(""===n)return e;n=n.split("."),-1===["array","object"].indexOf(O(t))&&n.splice(-1,1);var r=e;return Array.isArray(n)?(n.forEach(function(e){r=r[e]}),r):r[n]}}(e,t,n)},locateAll:function(e,t,n){return d(e,t,n)},deepFilter:function(e,t,n){return f(e,t,n)},exists:function(e,t,n){return m(e,t,n)},onlyExisting:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("array"===O(t)){var r=[];return t.forEach(function(t){m(e,t,n)&&r.push(t)}),r}if("object"===O(t)){var a={};return Object.keys(t).forEach(function(r){var o=t[r];m(e,o,n)&&(a[r]=o)}),a}if(m(e,t,n))return t}(e,t,n)},onlyMissing:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("array"===O(t)){var r=[];return t.forEach(function(t){m(e,t,n)||r.push(t)}),r}if("object"===O(t)){var a={};return Object.keys(t).forEach(function(r){var o=t[r];m(e,o,n)||(a[r]=o)}),a}if(!m(e,t,n))return t}(e,t,n)},length:function(e){return p(e)},isFalsy:function(e){return u(e)},isTruthy:function(e){return c(e)},foundTruthy:function(e,t,n){return s(e,t,n)},onlyTruthy:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("array"===O(t)){var a=[];return t.forEach(function(t){var o=f(e,t);c(o)&&s(o,n,r)&&a.push(t)}),a}if("object"===O(t)){var o={};return Object.keys(t).forEach(function(a){var i=t[a],l=f(e,i);c(l)&&s(l,n,r)&&(o[a]=i)}),o}if(s(e,n,r))return t}(e,t,n,r)},foundFalsy:function(e,t,n){return i(e,t,n)},onlyFalsy:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("array"===O(t)){var a=[];return t.forEach(function(t){var o=f(e,t);c(o)&&i(o,n,r)&&a.push(t)}),a}if("object"===O(t)){var o={};return Object.keys(t).forEach(function(a){var s=t[a],l=f(e,s);c(l)&&i(l,n,r)&&(o[a]=s)}),o}if(i(e,n,r))return t}(e,t,n,r)},countMatches:function(e,t,n,r){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===n,o=null===r,i=d(e,t,a&&o?null:a||o?n||r:n<r?n:r);if(!1===i)return 0;if(null===n)return i.length;if("number"===O(n)){var s=0;return i.forEach(function(e){(e=e.split(".")).length===n&&s++}),s}}(e,t,n,r)},matchDepth:function(e,t,n){return function(e,t){var n=h(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return!1!==n&&(""===n?0:(n=n.split(".")).length)}(e,t,n)},maxDepth:function(e,t){return function(e){var t=0;return function e(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t<a&&(t=a),null!==r&&a>=r||y(n)&&Object.keys(n).forEach(function(t){e(n[t],r,a+1)})}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),t}(e,t)},locate_Key:function(e,t,n){return o(e,t,n)},deepGet_Key:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===O(t)&&""!==t){var r=o(e,t,n);if(!1!==r){""===r?r=t:r+="."+t,r=r.split(".");var a=e;return Array.isArray(r)?(r.forEach(function(e){a=a[e]}),a):a[r]}}}(e,t,n)},locateAll_Key:function(e,t,n){return a(e,t,n)},deepFilter_Key:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===O(t)&&""!==t){var r=a(e,t,n);if(!1!==r)return r.map(function(n){if(!1!==n){""===n?n=t:n+="."+t,n=n.split(".");var r=e;return Array.isArray(n)?(n.forEach(function(e){r=r[e]}),r):r[n]}})}}(e,t,n)},deepClone:function(e,t,n){return r(e,t,n)},renameKey:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("string"===O(t)&&"string"===O(n)&&""!==t&&""!==n){var a=!1;return function e(t,n,r,o){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;switch(O(t)){case"array":for(var l=[],c=0,u=(i=Object.keys(t)).length;c<u;c++){var p=i[c],m=t[p];l[p]=e(m,n,r,o,s+1)}return l;case"object":var f={};for(c=0,u=(i=Object.keys(t)).length;c<u;c++){var d=i[c],h=t[d];(null===o||s<o)&&(a||d===n&&(d=r,a=!0)),f[d]=e(h,n,r,o,s+1)}return f;case"string":return""+t;case"number":return 0+t;case"boolean":return!!t;case"null":return null;case"undefined":return}}(e,t,n,r,0)}}(e,t,n,r)},renameKeys:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("string"===O(t)&&"string"===O(n)&&""!==t&&""!==n)return function e(t,n,r,a){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;switch(O(t)){case"array":for(var s=[],l=0,c=(o=Object.keys(t)).length;l<c;l++){var u=o[l],p=t[u];s[u]=e(p,n,r,a,i+1)}return s;case"object":var m={};for(l=0,c=(o=Object.keys(t)).length;l<c;l++){var f=o[l],d=t[f];(null===a||i<a)&&f===n&&(f=r),m[f]=e(d,n,r,a,i+1)}return m;case"string":return""+t;case"number":return 0+t;case"boolean":return!!t;case"null":return null;case"undefined":return}}(e,t,n,r,0)}(e,t,n,r)},deepRemove_Key:function(e,t,n){return function(e,t,n){if("string"===O(t)&&""!==t){var a=r(e),i=o(a,t,n);if(!1===i)return a;""===i?i=t:i+="."+t,i=i.split(".");var s=a;return Array.isArray(i)||delete s[i],i.forEach(function(e,t){t<i.length-1?s=s[e]:delete s[e]}),a}}(e,t,n)},deepRemoveAll_Key:function(e,t,n){return function(e,t,n){if("string"===O(t)&&""!==t){var o=r(e),i=a(o,t,n);return i===[]||!1===i?o:(i.forEach(function(e){""===e?e=t:e+="."+t,e=e.split(".");var n=o;Array.isArray(e)||delete n[e];for(var r=0;r<e.length;r++){var a=e[r];if(!(a in n))break;r<e.length-1?n=n[a]:delete n[a]}}),o)}}(e,t,n)}};e.exports=w}});