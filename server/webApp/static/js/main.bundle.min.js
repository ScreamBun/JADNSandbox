!function(e){function t(t){for(var a,s,c=t[0],i=t[1],l=t[2],m=0,p=[];m<c.length;m++)s=c[m],r[s]&&p.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={0:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;o.push([245,1]),n()}({121:function(e,t,n){e.exports=n.p+"assets/img/openc2-logo.png"},122:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAAADFBMVEUAAAAGmgCDg4NdG/+JbcowAAAAAXRSTlMAQObYZgAAAEpJREFUOMtjYKAaCAUCagg40MJQ2ruDYdUqBvoKaK1CAitoJ4Cwln4C/1+t+n+A4f+qVf8ZmP+vWv2f4T8QHACTQAEQObIEBisAAF9PNI38EeP2AAAAAElFTkSuQmCC"},124:function(e,t,n){"use strict";(function(e){var a=n(1),r=n.n(a),o=n(5),s=n(3),c=n(125),i=n.n(c),l=n(51),u=n(50),m=n.n(u),p=(n(86),n(4)),f=n(7),h=n(23),d=n(13),y=n(16);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=n(112),N=n(87),_=n(227),k=function(t){function n(e,t){var a;return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(a=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}(this,O(n).call(this,e,t))).state={conv_tooltip:!1,schema_opts_dropdown:!1,schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",file:!1,url:!1,url_str:""},convert:{selected:"empty",html:!1,popup:null}},a.download_mime={proto3:"text/x-c",rng:"application/xml",html:"text/html",md:"text/plain",cddl:"text/plain",thrift:"text/plain"},a.schema_height="40em",a.selectChange=a.selectChange.bind(S(S(a))),a.fileChange=a.fileChange.bind(S(S(a))),a.props.info(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,a.Component),function(e,t,n){t&&E(e.prototype,t)}(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,a=this.state!=t;return n||a}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{n=JSON.parse(n)}catch(e){return console.log(e.message),void Object(s.toast)(r.a.createElement("p",null,e.message),{type:s.toast.TYPE.WARNING})}return this.props.validateSchema(n).then(function(){var e=t.props.validSchema;e.valid_bool?t.props.convertSchema(t.state.schema.schema,t.state.convert.selected).then(function(){console.log("CONVERT RESPONSE")}):Object(s.toast)(r.a.createElement("p",null,e.valid_msg),{type:s.toast.TYPE[e.valid_bool?"INFO":"WARNING"]})}),!1}},{key:"selectChange",value:function(t){var n=this,a=e(t.target).attr("id").split("-")[0],r=e(t.target).val(),o=(e(t.target).find("option:selected").attr("decode"),!1),s={selected:r};switch(r){case"":case null:s.file=!1,s.url=!1,o=!0;break;case"empty":s.file=!1,s.url=!1,"message"==a&&(s.format="",s.decode=""),o=!0;break;case"file":s.file=!0,s.url=!1,o=!0;break;case"url":s.file=!1,s.url=!0,o=!0;break;default:s.file=!1,s.url=!1}if(this.setState(v({},a,g({},this.state[a],s))),!o){var c={};"message"==a&&(c.format=r.split(".")[1]),-1==Object.keys(this.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"]).indexOf(r)?this.props.loadFile(a+"s",r).then(function(){n.setState(v({},a,g({},n.state[a],c,v({},a,n.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][r]))))}):this.setState(v({},a,g({},this.state[a],c,v({},a,this.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][r]))))}}},{key:"fileChange",value:function(t){var n=this,a=e(t.target).attr("id").split("-")[0],r=e(t.target).prop("files")[0],o=r.name.split(".")[1],s=new FileReader;s.onload=function(e){var t=atob(s.result.split(",")[1]);try{t=JSON.stringify(JSON.parse(t),null,2)}catch(e){switch(o){case"cbor":t=Object(f.c)(Object(f.d)(t))}}n.setState(v({},a,g({},n.state[a],v({},a,t)))),"schema"==a?n.setState({schema:g({},n.state.schema,{schema:Object(f.a)(t)})}):"message"==a&&n.setState({message:g({},n.state.message,{format:"jadn"==o?"json":o})})},s.readAsDataURL(r)}},{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if("message"==e||"message-json"==e)try{var n="message"==e?this.state.message.message:this.state.message.json;switch("message"==e?this.state.message.format:"json"){case"cbor":n=Object(f.b)(n);break;case"json":n=w.json(n," ".repeat(t));break;case"xml":n=w.xml(n," ".repeat(t));break;default:var a=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format "+this.state.message.format+" message";Object(s.toast)(r.a.createElement("p",null,a),{type:s.toast.TYPE.WARNING})}this.setState({message:g({},this.state.message,v({},"message"==e?"message":"json",n))})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,o),{type:s.toast.TYPE.WARNING})}else if("schema"==e)try{this.setState({schema:g({},this.state.schema,{schema:Object(f.a)(this.state.schema.schema)})})}catch(t){var c=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,c),{type:s.toast.TYPE.WARNING})}}},{key:"minify",value:function(e){if("message"==e||"message-json"==e)try{var t="message"==e?this.state.message.message:this.state.message.json;switch("message"==e?this.state.message.format:"json"){case"cbor":t=Object(f.c)(t);break;case"json":t=w.jsonmin(t);break;case"xml":t=w.xmlmin(t);break;default:var n=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format "+this.state.message.format+" message";Object(s.toast)(r.a.createElement("p",null,n),{type:s.toast.TYPE.WARNING})}this.setState({message:g({},this.state.message,v({},"message"==e?"message":"json",t))})}catch(t){var a=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,a),{type:s.toast.TYPE.WARNING})}else if("schema"==e)try{this.setState({schema:g({},this.state.schema,{schema:w.jsonmin(this.state.schema.schema)})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,o),{type:s.toast.TYPE.WARNING})}}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return console.log(e.message),void Object(s.toast)(r.a.createElement("p",null,e.message),{type:s.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(s.toast)(r.a.createElement("p",null,t.valid_msg),{type:s.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"readAllChunks",value:function(e){var t=e.getReader(),n=[];return function e(){return t.read().then(function(t){var a=t.value;return t.done?n:(n.push(a),e())})}()}},{key:"chunk2str",value:function(e){if(1==e.length){var t=Array.from(e[0]);return(t=t.map(function(e){return e>128?"\\x"+e.toString(16):String.fromCharCode(e)})).join("")}return""}},{key:"loadURL",value:function(e){var t=this;console.log("LOAD URL");var n=this.state[e].url_str;if(n.match(/^(https?:\/\/)?(www\.)?[0-9a-z]+([\-\.]{1}[0-9a-z]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/)){var a=n.substring(n.lastIndexOf("/")+1),o=(a.substring(0,a.lastIndexOf(".")),a.substring(a.lastIndexOf(".")+1));-1!=["json","jadn"].indexOf(o)||"schema"!=e?fetch(n).then(function(e){return t.readAllChunks(e.body)}).then(function(n){var a,c=t.chunk2str(n);switch(o){case"jadn":case"json":console.log("JADN/JSON");try{console.log(i);var i=JSON.parse(i)||{}}catch(e){Object(s.toast)(r.a.createElement("p",null,e.message),{type:s.toast.TYPE.WARNING})}break;case"cbor":console.log("CBOR"),c=Object(f.c)(Object(f.d)(c));break;case"xml":console.log("XML");break;default:console.log("UNKNOWN")}t.setState(v({},e,g({},t.state[e],(v(a={},e,c),v(a,"format","jadn"==o?"json":o),a))))}).catch(function(e){console.log("failed to load ",n,e.stack)}):Object(s.toast)(r.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:s.toast.TYPE.WARNING})}else Object(s.toast)(r.a.createElement("p",null,"Invalid url, please check what you typed"),{type:s.toast.TYPE.WARNING})}},{key:"downloadConfig",value:function(){var e=this,t={content:"",file:""};if(this.props.convertedSchema.convert){var n=this.props.convertedSchema.convert,a=this.props.convertedSchema.fmt;switch(t.file="schema."+a,a){case"jadn":t.content=N("data:application/json;charset=utf-8,{conv}",{conv:encodeURIComponent(n)});break;case"proto3":case"rng":case"html":case"md":case"cddl":case"thrift":t.content=N("data:{data};charset=utf-8,{conv}",{data:this.download_mime[a],conv:encodeURIComponent(n)});break;default:t.content=N("data:text/plain;charset=utf-8,{conv}",{conv:encodeURIComponent("Theres some issues....")})}"html"==a&&0==this.state.convert.html?setTimeout(function(){return e.setState({convert:g({},e.state.convert,{html:!0})})},100):"html"!=a&&0!=this.state.convert.html&&setTimeout(function(){return e.setState({convert:g({},e.state.convert,{html:!1})})},100)}return t}},{key:"viewPage",value:function(e){var t=this;e.preventDefault(),console.log("View schema as page");var n=_(this.props.convertedSchema.convert).props.children.filter(function(e){return"body"===e.type});n=(n=1==n.length?n[0].props.children:"").filter(function(e){return"string"!=typeof e}),this.setState({convert:g({},this.state.convert,{popup:r.a.createElement(i.a,{title:"HTML Schema",center:"screen",onUnload:function(){return t.setState({convert:g({},t.state.convert,{popup:null})})}},n)})})}},{key:"render",value:function(){var e=this,t=this.downloadConfig(),n=this.props.schemas.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}),a=Object.entries(this.props.conversions).map(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),a=n[0],o=n[1];return r.a.createElement("option",{key:t,value:o},a)});return r.a.createElement("div",{className:"row mx-auto"},r.a.createElement(p.g,{className:"mx-auto col-12",onSubmit:this.submitForm.bind(this)},r.a.createElement("div",{className:"form-row"},r.a.createElement("fieldset",{className:"col-6 p-0 float-left"},r.a.createElement("legend",null,"JADN Schema"),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement(l.a,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(t){t.jsObject&&e.setState({schema:g({},e.state.schema,{schema:t.jsObject})})},theme:"light_mitsuketa_tribute",locale:m.a,reset:!1,height:"100%",width:"100%"})),r.a.createElement("div",{className:"col-12 m-1"}),r.a.createElement(p.b,{isOpen:this.state.schema_opts_dropdown,toggle:function(){return e.setState({schema_opts_dropdown:!e.state.schema_opts_dropdown})},className:"float-right"},r.a.createElement(p.f,{caret:!0,color:"info",size:"sm"},"Schema Options"),r.a.createElement(p.e,null,r.a.createElement(p.d,{onClick:function(){return e.verifySchema()}},"Verify"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-5 pr-1 pl-1"},r.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},r.a.createElement("option",{value:"empty"},"Schema"),n,r.a.createElement("option",{disabled:""},"──────────"),r.a.createElement("option",{value:"file"},"File..."),r.a.createElement("option",{value:"url"},"URL..."))),r.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?"":" d-none")},r.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),r.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?"":" d-none")},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(p.a,{color:"info",onClick:function(){return e.loadURL("schema")}},"Load URL")),r.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(t){return e.setState({schema:g({},e.state.schema,{url_str:t.target.value})})}}))))),r.a.createElement("fieldset",{className:"col-6 p-0 float-left"},r.a.createElement("legend",null,"Converted Schema"),r.a.createElement("div",{className:"form-control border p-0",style:{height:this.schema_height}},r.a.createElement("textarea",{placeholder:"Converted JADN schema",style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},value:this.props.convertedSchema.convert||"",readOnly:!0})),r.a.createElement("div",{className:"col-12 m-1"}),r.a.createElement("a",{className:"btn btn-sm btn-primary float-right",href:t.content,download:t.file,target:"_blank"},"Download"),r.a.createElement("a",{className:"btn btn-sm btn-secondary float-right mr-2"+(this.state.convert.html?"":" d-none"),href:"#",onClick:this.viewPage.bind(this)},"View Page"),this.state.convert.popup)),r.a.createElement("div",{className:"col-12"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-group col-md-3 pr-1 pl-1"},r.a.createElement("select",{id:"convert-to",name:"convert-to",className:"form-control",default:"empty",onChange:function(t){return e.setState({convert:g({},e.state.convert,{selected:t.target.value})})}},r.a.createElement("option",{value:"empty"},"Convert To..."),a)),r.a.createElement(p.a,{outline:!0,color:"primary",type:"submit",id:"conv_tooltip"},"Convert"),r.a.createElement(p.n,{placement:"bottom",isOpen:this.state.conv_tooltip,target:"conv_tooltip",toggle:function(){return e.setState({conv_tooltip:!e.state.conv_tooltip})}},"Convert the given JADN schema to the selected format"),r.a.createElement(p.a,{outline:!0,color:"danger",type:"reset",onClick:function(){e.setState({schema:g({},e.state.schema,{schema:"",conv:""})})}},"Reset"))))}}]),n}();t.a=Object(o.b)(function(e){return{schemas:e.Convert.schemas||[],loadedSchemas:e.Util.loaded.schemas||[],validSchema:e.Validate.valid.schema||{},conversions:e.Convert.conversions||{},convertedSchema:e.Convert.converted||{}}},function(e){return{info:function(){return e(h.f())},convertSchema:function(t,n){return e(h.e(t,n))},loadFile:function(t,n){return e(y.f(t,n))},validateSchema:function(t){return e(d.h(t))}}})(k)}).call(this,n(38))},126:function(e,t,n){"use strict";(function(e){var a=n(1),r=n.n(a),o=n(5),s=n(3),c=n(51),i=n(50),l=n.n(i),u=(n(86),n(4)),m=n(7),p=n(13),f=n(16);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){y(e,t,n[t])})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=n(112),j=function(t){function n(e,t){var a;return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(a=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?E(e):t}(this,g(n).call(this,e,t))).state={val_tooltip:!1,ver_tooltip:!1,message:{message:"",json:"",format:"",decode:"",selected:"empty",file:!1,url:!1,url_str:""},schema:{schema:{placeholder:"Paste JADN schema here"},selected:"empty",decodeTypes:{all:[],exports:[]},file:!1,url:!1,url_str:""}},a.schema_height="16em",a.selectChange=a.selectChange.bind(E(E(a))),a.fileChange=a.fileChange.bind(E(E(a))),a.props.info(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,a.Component),function(e,t,n){t&&b(e.prototype,t)}(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,a=this.state!=t;return n||a}},{key:"submitForm",value:function(e){var t=this;return e.preventDefault(),this.props.validateMessage(this.state.schema.schema,this.state.message.message,this.state.message.format,this.state.message.decode).then(function(){var e=t.props.validMessage;Object(s.toast)(r.a.createElement("p",null,e.valid_msg),{type:s.toast.TYPE[e.valid_bool?"INFO":"WARNING"]}),t.setState({message:d({},t.state.message,{json:e.message_json})}),t.format("message-json",2)}),!1}},{key:"selectChange",value:function(t){var n=this,a=e(t.target).attr("id").split("-")[0],r=e(t.target).val(),o=(e(t.target).find("option:selected").attr("decode"),!1),s={selected:r};switch(r){case"":case null:s.file=!1,s.url=!1,o=!0;break;case"empty":s.file=!1,s.url=!1,"message"==a&&(s.format="",s.decode=""),o=!0;break;case"file":s.file=!0,s.url=!1,o=!0;break;case"url":s.file=!1,s.url=!0,o=!0;break;default:s.file=!1,s.url=!1}if(this.setState(y({},a,d({},this.state[a],s))),!o){var c={};"message"==a&&(c.format=r.split(".")[1]),-1==Object.keys(this.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"]).indexOf(r)?this.props.loadFile(a+"s",r).then(function(){n.setState(y({},a,d({},n.state[a],c,y({},a,n.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][r])))),"schema"==a&&n.loadDecodeTypes()}):(this.setState(y({},a,d({},this.state[a],c,y({},a,this.props["loaded"+a[0].toUpperCase()+a.slice(1)+"s"][r])))),"schema"==a&&this.loadDecodeTypes())}}},{key:"fileChange",value:function(t){var n=this,a=e(t.target).attr("id").split("-")[0],o=e(t.target).prop("files")[0],c=o.name.split(".")[1],i=new FileReader;i.onload=function(e){var t=atob(i.result.split(",")[1]);try{t=JSON.stringify(JSON.parse(t),null,2)}catch(e){switch(c){case"cbor":t=Object(m.c)(Object(m.d)(t))}}if("schema"==a)try{n.setState({schema:d({},n.state.schema,{schema:JSON.parse(t)})}),n.loadDecodeTypes()}catch(e){console.log(e.message),Object(s.toast)(r.a.createElement("p",null,"Schema cannot be loaded"),{type:s.toast.TYPE.WARNING})}else"message"==a&&n.setState({message:d({},n.state.message,{format:"jadn"==c?"json":c,message:t})})},i.readAsDataURL(o)}},{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if("message"==e||"message-json"==e)try{var n="message"==e?this.state.message.message:this.state.message.json;switch("message"==e?this.state.message.format:"json"){case"cbor":n=Object(m.b)(n);break;case"json":n=O.json(n," ".repeat(t));break;case"xml":n=O.xml(n," ".repeat(t));break;default:var a=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format "+this.state.message.format+" message";Object(s.toast)(r.a.createElement("p",null,a),{type:s.toast.TYPE.WARNING})}this.setState({message:d({},this.state.message,y({},"message"==e?"message":"json",n))})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,o),{type:s.toast.TYPE.WARNING})}else if("schema"==e)try{this.setState({schema:d({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var c=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,c),{type:s.toast.TYPE.WARNING})}}},{key:"minify",value:function(e){if("message"==e||"message-json"==e)try{var t="message"==e?this.state.message.message:this.state.message.json;switch("message"==e?this.state.message.format:"json"){case"cbor":t=Object(m.c)(t);break;case"json":t=O.jsonmin(t);break;case"xml":t=O.xmlmin(t);break;default:var n=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format "+this.state.message.format+" message";Object(s.toast)(r.a.createElement("p",null,n),{type:s.toast.TYPE.WARNING})}this.setState({message:d({},this.state.message,y({},"message"==e?"message":"json",t))})}catch(t){var a=e.charAt(0).toUpperCase()+e.slice(1)+" Error, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,a),{type:s.toast.TYPE.WARNING})}else if("schema"==e)try{this.setState({schema:d({},this.state.schema,{schema:this.state.schema.schema})})}catch(t){var o=e.charAt(0).toUpperCase()+e.slice(1)+" Invalid, cannot format: "+t.message;Object(s.toast)(r.a.createElement("p",null,o),{type:s.toast.TYPE.WARNING})}}},{key:"verifySchema",value:function(){var e=this,t=this.state.schema.schema;if("string"==typeof this.state.schema.schema)try{t=JSON.parse(t)}catch(e){return console.log(e.message),void Object(s.toast)(r.a.createElement("p",null,e.message),{type:s.toast.TYPE.WARNING})}this.props.validateSchema(t).then(function(){var t=e.props.validSchema;Object(s.toast)(r.a.createElement("p",null,t.valid_msg),{type:s.toast.TYPE[t.valid_bool?"INFO":"WARNING"]})})}},{key:"readAllChunks",value:function(e){var t=e.getReader(),n=[];return function e(){return t.read().then(function(t){var a=t.value;return t.done?n:(n.push(a),e())})}()}},{key:"chunk2str",value:function(e){if(1==e.length){var t=Array.from(e[0]);return(t=t.map(function(e){return e>128?"\\x"+e.toString(16):String.fromCharCode(e)})).join("")}return""}},{key:"loadURL",value:function(e){var t=this;console.log("LOAD URL");var n=this.state[e].url_str;if(console.log(n),n.match(/^(https?:\/\/)?(www\.)?[0-9a-z]+([\-\.]{1}[0-9a-z]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/)){var a=n.substring(n.lastIndexOf("/")+1),o=(a.substring(0,a.lastIndexOf(".")),a.substring(a.lastIndexOf(".")+1));-1!=["json","jadn"].indexOf(o)||"schema"!=e?fetch(n).then(function(e){return t.readAllChunks(e.body)}).then(function(n){var a,c=t.chunk2str(n);switch(o){case"jadn":case"json":console.log("JADN/JSON");try{var i=JSON.parse(i)}catch(e){Object(s.toast)(r.a.createElement("p",null,e.message),{type:s.toast.TYPE.WARNING})}break;case"cbor":console.log("CBOR"),c=Object(m.c)(Object(m.d)(c));break;case"xml":console.log("XML");break;default:console.log("UNKNOWN")}t.setState(y({},e,d({},t.state[e],(y(a={},e,c),y(a,"format","jadn"==o?"json":o),a)))),"schema"==e&&t.loadDecodeTypes()}).catch(function(e){console.log("failed to load ",n,e.stack)}):Object(s.toast)(r.a.createElement("p",null,"This file cannot be loaded as a schema, only JADN/JSON files are valid"),{type:s.toast.TYPE.WARNING})}else Object(s.toast)(r.a.createElement("p",null,"Invalid url, please check what you typed"),{type:s.toast.TYPE.WARNING})}},{key:"loadDecodeTypes",value:function(){var e={all:[],exports:[]},t="";void 0!=this.state.schema.schema.meta&&void 0!=this.state.schema.schema.meta.exports&&(e.exports=this.state.schema.schema.meta.exports),void 0!=this.state.schema.schema.types&&(e.all=this.state.schema.schema.types.map(function(e){return e[0]}),e.all.sort()),""!=this.state.message.decode&&-1!=e.all.indexOf(this.state.message.decode)||(e.exports.length>=1?t=e.exports[0]:e.all.length>=1&&(t=e.all[0])),this.setState({message:d({},this.state.message,{decode:t}),schema:d({},this.state.schema,{decodeTypes:e})})}},{key:"jadn",value:function(){var e=this,t=this.props.schemas.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)});return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"JADN Schema"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("div",{id:"schema-card",className:"tab-pane fade active show"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row float-left col-sm-6 pl-0"},r.a.createElement("div",{className:"form-group col-md-6 pr-0 pl-1"},r.a.createElement("select",{id:"schema-list",name:"schema-list",className:"form-control",default:"empty",onChange:this.selectChange},r.a.createElement("option",{value:"empty"},"Schema"),t,r.a.createElement("option",{value:""},"──────────"),r.a.createElement("option",{value:"file"},"File..."),r.a.createElement("option",{value:"url"},"URL..."))),r.a.createElement("div",{id:"schema-file-group",className:"form-group col-md-6 px-1"+(this.state.schema.file?"":" d-none")},r.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"schema-file",name:"schema-file",accept:".jadn",onChange:this.fileChange})),r.a.createElement("div",{id:"schema-url-group",className:"form-group col-md-6 px-1"+(this.state.schema.url?"":" d-none")},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(u.a,{color:"info",onClick:function(){return e.loadURL("schema")}},"Load URL")),r.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(t){return e.setState({schema:d({},e.state.schema,{url_str:t.target.value})})}})))),r.a.createElement(u.c,{className:"float-right"},r.a.createElement(u.a,{outline:!0,color:"secondary",onClick:function(){return e.verifySchema()},id:"ver_tooltip"},"Verify"),r.a.createElement(u.n,{placement:"bottom",isOpen:this.state.ver_tooltip,target:"ver_tooltip",toggle:function(){return e.setState({ver_tooltip:!e.state.ver_tooltip})}},"Validate the schema is valid prior to validating the message"))),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement(c.a,{id:"jadn_schema",placeholder:this.state.schema.schema,onChange:function(t){t.jsObject&&e.setState({schema:d({},e.state.schema,{schema:t.jsObject})})},theme:"light_mitsuketa_tribute",locale:l.a,reset:!1,height:"100%",width:"100%"})))))))}},{key:"message",value:function(){var e=this,t=Object.entries(this.props.messages).map(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),a=n[0],o=n[1];return r.a.createElement("option",{key:t,value:a,decode:o},a)}),n=this.state.schema.decodeTypes.exports.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}),a=this.state.schema.decodeTypes.all.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)});return"string"!=typeof this.state.message.message&&setTimeout(function(){return e.format("message")},5),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Message"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("ul",{className:"nav nav-tabs"+(this.state.message.json?"":" d-none")},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active show","data-toggle":"tab",href:"#message-card"},"Original")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#json-card"},"JSON"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{id:"message-card",className:"tab-pane fade active show"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row float-left col-sm-6 pl-0"},r.a.createElement("div",{className:"form-group col-md-6 pr-0 pl-1"},r.a.createElement("select",{id:"message-list",name:"message-list",className:"form-control",default:"empty",onChange:this.selectChange},r.a.createElement("option",{value:"empty"},"Message"),t,r.a.createElement("option",{value:""},"──────────"),r.a.createElement("option",{value:"file"},"File..."),r.a.createElement("option",{value:"url"},"URL..."))),r.a.createElement("div",{id:"message-file-group",className:"form-group col-md-6 px-1"+(this.state.message.file?"":" d-none")},r.a.createElement("input",{type:"file",className:"btn btn-light form-control-file",id:"message-file",name:"message-file",accept:".json,.jadn,.xml,.cbor",onChange:this.fileChange})),r.a.createElement("div",{id:"message-url-group",className:"form-group col-md-6 px-1"+(this.state.message.url?"":" d-none")},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(u.a,{color:"info",onClick:function(){return e.loadURL("message")}},"Load URL")),r.a.createElement("input",{type:"text",className:"form-control",default:"",onChange:function(t){return e.setState({message:d({},e.state.message,{url_str:t.target.value})})}})))),r.a.createElement(u.c,{className:"float-right"},r.a.createElement(u.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message")}},"Format"),r.a.createElement(u.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message")}},"Verbose"),r.a.createElement(u.a,{outline:!0,color:"secondary",onClick:function(){return e.minify("message")}},"Minify"))),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement("textarea",{placeholder:"Paste message to be validated here",style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},required:"",value:this.state.message.message,onChange:function(t){return e.setState({message:d({},e.state.message,{message:t.target.value})})}})))),r.a.createElement("div",{id:"json-card",className:"tab-pane fade"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(u.c,{className:"float-right"},r.a.createElement(u.a,{outline:!0,color:"secondary",onClick:function(){return e.format("message-json",2)}},"Verbose"),r.a.createElement(u.a,{outline:!0,color:"secondary",onClick:function(){return e.minify("message-json")}},"Minify"))),r.a.createElement("div",{className:"form-control border card-body p-0",style:{height:this.schema_height}},r.a.createElement("textarea",{placeholder:"Submit a message for validation to see the json version of the message",style:{resize:"none",outline:"none",width:"100%",padding:"10px",border:"none",height:"100%"},id:"message-json",rows:"10",value:this.state.message.json,readOnly:!0}))))))),r.a.createElement("div",{className:"form-row-fluid"},r.a.createElement("div",{className:"float-left form-group col-md-3 col-sm-6 pr-1 pl-1"},r.a.createElement("label",{className:"control-label",htmlFor:"message-format"},"Message Format"),r.a.createElement("select",{className:"form-control",id:"message-format",name:"message-format",required:"",value:this.state.message.format,onChange:function(t){return e.setState({message:d({},e.state.message,{format:t.target.value})})}},r.a.createElement("option",{value:""},"Message Format"),r.a.createElement("option",{value:"json"},"json"),r.a.createElement("option",{value:"cbor"},"cbor"),r.a.createElement("option",{value:"xml"},"xml"))),r.a.createElement("div",{className:"float-left form-group col-md-3 col-sm-6 pr-1 pl-1"},r.a.createElement("label",{className:"control-label",htmlFor:"message-decode"},"Message Type"),r.a.createElement("select",{className:"form-control",id:"message-decode",name:"message-decode",required:"",value:this.state.message.decode,onChange:function(t){return e.setState({message:d({},e.state.message,{decode:t.target.value})})}},r.a.createElement("optgroup",{label:"Exports"},n),r.a.createElement("optgroup",{label:"All"},a)))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row mx-auto"},r.a.createElement(u.g,{className:"mx-auto col-12 position-relative",onSubmit:this.submitForm.bind(this)},r.a.createElement("div",{className:"form-group position-absolute",style:{right:"1.25em",zIndex:100}},r.a.createElement(u.a,{outline:!0,color:"primary",id:"val_tooltip"},"Validate"),r.a.createElement(u.n,{placement:"bottom",isOpen:this.state.val_tooltip,target:"val_tooltip",toggle:function(){return e.setState({val_tooltip:!e.state.val_tooltip})}},"Validate the message against the given schema"),r.a.createElement(u.a,{outline:!0,color:"danger",type:"reset"},"Reset")),this.jadn(),this.message()))}}]),n}();t.a=Object(o.b)(function(e){return{messages:e.Validate.messages,loadedMessages:e.Util.loaded.messages||{},validMessage:e.Validate.valid.message||{},schemas:e.Validate.schemas,loadedSchemas:e.Util.loaded.schemas||{},validSchema:e.Validate.valid.schema||{}}},function(e){return{info:function(){return e(p.f())},loadFile:function(t,n){return e(f.f(t,n))},validateSchema:function(t){return e(p.h(t))},validateMessage:function(t,n,a,r){return e(p.g(t,n,a,r))}}})(j)}).call(this,n(38))},13:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return m}),n.d(t,"g",function(){return p});var a=n(10);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o="@@validate/INFO_SUCCESS",s="@@validate/INFO_FAILURE",c="@@validate/VALIDATE_SCHEMA_SUCCESS",i="@@validate/VALIDATE_MESSAGE_SUCCESS",l="@@validate/VALIDATE_FAILURE",u=function(){return r({},a.RSAA,{endpoint:"/api/validate",method:"GET",types:["@@validate/INFO_REQUEST",o,s]})},m=function(e){return r({},a.RSAA,{endpoint:"/api/validate/schema",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e}),types:["@@validate/VALIDATE_SCHEMA_REQUEST",c,l]})},p=function(e,t,n,o){return r({},a.RSAA,{endpoint:"/api/validate",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e,message:t,"message-format":n,"message-decode":o}),types:["@@validate/VALIDATE_MESSAGE_REQUEST",i,l]})}},139:function(e,t,n){},142:function(e,t,n){},16:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u});var a=n(10);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o="@@util/INFO_SUCCESS",s="@@util/INFO_FAILURE",c="@@util/LOAD_SUCCESS",i="@@util/LOAD_FAILURE",l=function(){return r({},a.RSAA,{endpoint:"/api/",method:"GET",types:["@@util/INFO_REQUEST",o,s]})},u=function(e,t){return r({},a.RSAA,{endpoint:"/api/load/"+e+"/"+t,method:"GET",types:["@@util/LOAD_REQUEST",c,i]})}},17:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return l});function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(87).create({escape:function(e){return e.replace(/(\")/g,"\\$1")},upper:function(e){return e.toUpperCase()}}),o=function(t){var n=" ".repeat(2);"string"==e.type(t)&&(t=JSON.parse(t));var o=r('{idn}"meta": {\n{obj}\n{idn}}',{idn:n,obj:e.map(t?t.meta:{},function(e,t){switch(a(e)){case"object":var o=e.map(function(e,t){return"object"==a(e)?r('{idn}["{v}"]',{idn:n.repeat(3),v:e.join('", "')}):r('{idn}"{v}"',{idn:n.repeat(3),v:e})}).join(",\n");return r('{idn}"{k}": [\n{v}\n{idn}]',{idn:n.repeat(2),k:t,v:o});default:return r('{idn}"{k}": "{v}"',{idn:n.repeat(2),k:t,v:e})}}).join(",\n")}),s=r("[{obj}\n{idn}]",{idn:n,obj:e.map(t?t.types:[],function(e){var t=e.slice(0,-1).map(function(e){switch(a(e)){case"object":return r("[{obj}]",{obj:e.map(function(e){return r('"{itm!escape}"',{itm:e})}).join(", ")});default:return r('"{itm}"',{itm:e})}}).join(", "),o=e.slice(-1).map(function(e){switch(a(e)){case"object":return e.map(function(e){switch(a(e)){case"object":return r("{idn}{idn}{idn}[{obj}]",{idn:n,obj:e.map(function(e){switch(a(e)){case"object":return r("[{obj}]",{obj:e.map(function(e){switch(a(e)){case"string":return r('"{itm!escape}"',{itm:e});default:return e}}).join(", ")});case"string":return r('"{itm!escape}"',{itm:e});default:return e}}).join(", ")});case"string":return r('"{itm!escape}"',{idn:n,itm:e});default:return e}}).join(",\n");default:return r('"{itm}"',{itm:e})}}).join(",\n");return o.match(/^\s+\[/)&&(o=r("[\n{defs}\n{idn}{idn}]",{idn:n,defs:o})),r("\n{idn}{idn}[{header}, {defs}]",{idn:n,header:t,defs:o})}).join(", ")});return r('{\n{meta},\n{idn}"types": {types}\n}',{idn:n,meta:o,types:s})},s=function(e){switch(e.length){case 5:return e[3].indexOf("[0")>=0;case 4:return e[2].indexOf("[0")>=0;default:return(void 0).alertFun("default optional - "+e[0]+" - "+e[1]),!1}},c=function(e){return e.match(/^([0-9a-fA-F]{2}\s)+[0-9a-fA-F]{2}$/)?e.split(" ").map(function(e,t){var n=parseInt(e,16);return n>128?"\\x"+e:String.fromCharCode(n)}).join("").replace(/^\s+/,""):e},i=function(e){return e.match(/^([0-9a-fA-F]{2}\s)+[0-9a-fA-F]{2}$/)?e:e.split(/\\x/g).map(function(e,t){return[e.substr(0,2)].concat(e.substr(2).split("").map(function(e){return e.charCodeAt(0).toString(16)})).join(" ")}).join(" ").replace(/^\s+/,"")},l=function(e){var t="";for(var n in e=e.toString()){var a=e.charCodeAt(n),r=e.charAt(n);t+=a>128?"\\x"+a.toString(16):r}return t}}).call(this,n(38))},20:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n(10);var a="@@cmd_gen/SCHEMA_DEFINE",r="@@cmd_gen/SCHEMA_FAILURE"},23:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return u});var a=n(10);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o="@@convert/INFO_SUCCESS",s="@@convert/INFO_FAILURE",c="@@convert/CONVERT_SUCCESS",i="@@convert/CONVERT_FAILURE",l=function(){return r({},a.RSAA,{endpoint:"/api/convert",method:"GET",types:["@@convert/INFO_REQUEST",o,s]})},u=function(e,t){return r({},a.RSAA,{endpoint:"/api/convert",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:e,"convert-to":t}),types:["@@convert/CONVERT_REQUEST",c,i]})}},245:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(12),s=n.n(o),c=n(5),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(136),n(137),n(139),n(142);var u=n(32),m=n(246),p=n(247),f=n(3);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,y(t).call(this,e)),console.log("Whoop, there's an issue here!"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a.Component),function(e,t,n){t&&d(e.prototype,t)}(t,[{key:"goBack",value:function(){1===this.props.history.length?(console.log("Cant Go Back!!"),Object(f.toast)(r.a.createElement("p",null,"Looks like this is a new tab, try closing it instead of going back"),{type:f.toast.TYPE.WARNING})):(console.log("Go Back!!"),this.props.history.goBack())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jumbotron well col-md-10 col-12 mx-auto"},r.a.createElement("h1",null,"Whoops"),r.a.createElement("h3",null,"This isn't a valid page, are you sure this is where you wanted to go?"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.goBack()}},"Go Back"))}}]),t}(),v=n(121),E=n.n(v);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,S(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.Component),function(e,t,n){t&&j(e.prototype,t)}(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row mx-auto"},r.a.createElement("div",{className:"col-12"},r.a.createElement("img",{src:E.a,alt:"OpenC2 Logo",className:"float-left col-md-4 col-xs-12 mr-3 mb-3"}),r.a.createElement("p",null,"Spicy jalapeno bacon ipsum dolor amet dolore aliquip sirloin swine quis veniam magna in ipsum voluptate reprehenderit elit velit sunt. Landjaeger laboris buffalo excepteur bacon commodo fugiat. Pastrami landjaeger rump, id dolore corned beef flank ad beef officia velit meatball ex. Qui ipsum cupim, dolore adipisicing salami est in ham hock consectetur hamburger enim pork belly. Incididunt quis shankle magna, minim occaecat ham officia consectetur landjaeger burgdoggen leberkas pastrami."),r.a.createElement("p",null,"Hamburger pork chop nostrud ea minim dolore, venison flank exercitation sausage pork sirloin. Kielbasa frankfurter consequat cupidatat shoulder short loin non eu. Doner pig in hamburger, consequat eu veniam prosciutto. Pork sint tail biltong tenderloin do nulla in swine tempor strip steak adipisicing incididunt. Pastrami in anim ham officia ut excepteur dolor cupim ground round veniam biltong meatball. Enim frankfurter swine meatloaf spare ribs capicola. Do fatback chicken rump, est id pork chop leberkas shankle shank eu esse."),r.a.createElement("p",null,"Reprehenderit landjaeger kevin ut pork loin. Leberkas sirloin deserunt voluptate, veniam andouille quis tenderloin non ground round nisi. Cupidatat culpa sausage nisi filet mignon, tempor aliquip sed bresaola qui chicken do in veniam. Dolor in tri-tip buffalo ham fugiat, mollit pariatur. Nisi ut leberkas labore, shoulder shank cow turducken nostrud non et velit ad veniam. Fatback cupidatat pancetta est laborum chuck quis flank ipsum ribeye.")))}}]),t}();Object(c.b)(function(e){return{}})(N);var _=n(4),k=n(122),C=n.n(k);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function T(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var F=function(e){function t(e,n){var a;return P(this,t),(a=T(this,U(t).call(this,e,n))).external=a.props.external||!1,a}return I(t,a.Component),R(t,[{key:"render",value:function(){var e=this.props.href===this.props.active;return r.a.createElement("li",{onClick:this.external?function(){}:this.props.click,className:e?" active":""},r.a.createElement("a",{id:this.props.id||"",href:this.props.href,target:this.props.target,onClick:this.external?function(){}:function(e){e.preventDefault()},className:"nav-link"},this.props.icon?r.a.createElement("i",{className:"fa fa-"+this.props.icon}):""," ",this.props.text))}}]),t}(),L=function(e){function t(e,n){var a;P(this,t);var r=(a=T(this,U(t).call(this,e,n))).props.history.location.pathname===a.prefix;return a.state={active:r?"/":a.props.history.location.pathname,about_modal:!1,features_modal:!1},a.toggle=a.toggle.bind(D(D(a))),a}return I(t,a.Component),R(t,[{key:"navigate",value:function(e){if(e.preventDefault(),null!==e.target.href&&void 0!==e.target.href){var t=e.target.href.replace(window.location.origin,"");this.props.history.push({pathname:t}),this.setState({active:t})}}},{key:"toggle",value:function(e){console.log(e.target)}},{key:"modals",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(_.k,{isOpen:this.state.about_modal,toggle:function(){return e.setState({about_modal:!e.state.about_modal})}},r.a.createElement(_.m,{toggle:function(){return e.setState({about_modal:!e.state.about_modal})}},"About"),r.a.createElement(_.l,null,r.a.createElement("p",null,"OpenC2 is defined using JSON Abstract Schema Notation (JADN). The JADN validator can check messages against any schema."),r.a.createElement("p",null,"Source is available from the ",r.a.createElement("a",{href:"https://github.com/OpenC2-org/jadn",target:"_blank"},"OpenC2 JADN Github")," repo."))),r.a.createElement(_.k,{isOpen:this.state.features_modal,toggle:function(){return e.setState({features_modal:!e.state.features_modal})}},r.a.createElement(_.m,{toggle:function(){return e.setState({features_modal:!e.state.features_modal})}},"Features"),r.a.createElement(_.l,null,r.a.createElement("ul",null,r.a.createElement("li",null,"JADN validation of messages in",r.a.createElement("ul",null,r.a.createElement("li",null,"JSON Format"),r.a.createElement("li",null,"CBOR Format"),r.a.createElement("li",null,"XML Format"))),r.a.createElement("li",null,"JADN Schema conversion to",r.a.createElement("ul",null,r.a.createElement("li",null,"JADN Format"),r.a.createElement("li",null,"ProtoBuf3 Format"),r.a.createElement("li",null,"Relax-NG Format"),r.a.createElement("li",null,"CDDL Format"),r.a.createElement("li",null,"MarkDown Format"),r.a.createElement("li",null,"HTML Format")))))))}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light fixed-top"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("img",{src:C.a,alt:"Logo"}),r.a.createElement("a",{href:"https://github.com/oasis-open/openc2-jadn/",target:"_blank"},"JADN")," Lint"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navMain","aria-controls":"navMain","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navMain"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement(F,{href:"/",text:"Validate",click:this.navigate.bind(this)}),r.a.createElement(F,{href:"/convert",text:"Convert",click:this.navigate.bind(this)}),r.a.createElement(F,{href:"#",text:"About",click:function(){return e.setState({about_modal:!e.state.about_modal})}}),r.a.createElement(F,{href:"#",text:"Features",click:function(){return e.setState({features_modal:!e.state.features_modal})}}))),this.modals())}}]),t}(),G=Object(c.b)(function(e){return{site_title:e.Util.site_title}},function(e){return{}})(L),J=n(124),M=n(126),W=n(16);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,B(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,a.Component),function(e,t,n){t&&Y(e.prototype,t)}(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid mt-3"},r.a.createElement(G,{history:this.props.history}),r.a.createElement(u.a,{history:this.props.history},r.a.createElement(m.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:M.a}),r.a.createElement(p.a,{exact:!0,path:"/convert",component:J.a}),r.a.createElement(p.a,{component:g})," // This should always be last route")),r.a.createElement(f.ToastContainer,{position:f.toast.POSITION.BOTTOM_CENTER,autoClose:5e3}))}}]),t}(),z=Object(c.b)(function(e){return{}},function(e){return{info:function(){return e(W.e())}}})(q),H=n(127),K=n.n(H),$=n(128),X=n(10),Z=n(15),ee=n(78),te=(n(71),n(23));function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ae(e,t,n[t])})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re={conversions:{},converted:{},schemas:[]},oe=n(20);function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ce(e,t,n[t])})}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie={schema:{},message:{},types:{schema:["Record","Enumerated","Map","Choice","ArrayOf","Array"],base:["String"]}};function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ue(e,t,n[t])})}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me={site_title:"",message:"",error:"",loaded:{messages:{},schemas:{}}},pe=n(13);function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){he(e,t,n[t])})}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de={messages:{},schemas:[],error:{},valid:{message:{},schema:{}}},ye=Object(Z.c)({Convert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case te.d:return ne({},e,{conversions:t.payload.conversions||{},schemas:t.payload.schemas||[]});case te.b:return ne({},e,{converted:t.payload.schema||{}});case te.c:case te.a:return console.log(t.payload),ne({},e,{error:t.payload.error||"ERROR"});default:return e}},Generator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(se({},e.message),t.type){case oe.a:return se({},e,{schema:t.payload.schema});case oe.b:default:return e}},Router:u.c,Util:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=le({},e);switch(t.type){case W.b:return le({},e,{site_title:t.payload.title||"ERROR",message:t.payload.message||"ERROR MESSAGE"});case W.d:return n.loaded[t.payload.type][t.payload.file]=t.payload.data,n;case W.a:case W.c:return le({},e,{error:t.payload.valid_msg||t.payload.error||"ERROR"});default:return e}},Validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(t.type){case pe.b:return fe({},e,{messages:t.payload.messages||{},schemas:t.payload.schemas||[],error:{}});case pe.e:return fe({},e,{valid:fe({},e.valid,{schema:t.payload})});case pe.d:return fe({},e,{valid:fe({},e.valid,{message:t.payload})});case pe.a:case pe.c:return console.log(t.payload),fe({},e,{error:t.payload.valid_msg||t.payload.error||"ERROR"});default:return e}}}),be=K()(),ge=function(e){var t=Object(ee.a)({key:"orc_gui",storage:$.a,whitelist:[]},ye),n=[X.apiMiddleware,Object(u.b)(e)],a=Object(Z.d)(t,{},Z.a.apply(void 0,n));return Object(ee.b)(a),a}(be);s.a.render(r.a.createElement(function(){return r.a.createElement(c.a,{store:ge},r.a.createElement(z,{history:be}))},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(Object({NODE_ENV:"production"}).PUBLIC_URL,window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(Object({NODE_ENV:"production"}).PUBLIC_URL,"/service-worker.js");i?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):l(e)})}}()},7:function(e,t,n){"use strict";var a=n(17),r=n(1),o=n.n(r),s=n(5),c=(n(160),n(4));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(20);var p=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,u(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.Component),function(e,t,n){t&&l(e.prototype,t)}(t,[{key:"inputOpts",value:function(e){switch(e){case"duration":return{type:"number",placeholder:0};case"date-time":return{type:"datetime",placeholder:"2000-01-01T00:00:00-00:00"};default:return{type:"text"}}}},{key:"render",value:function(){var e=this,t=this.props.def[1],n=this.props.def[2],r=(this.props.def[3],this.props.def[4]),s=this.props.schema.types.filter(function(e){return e[0]==e});s=1===s.length?s[0]:[];var i=this.props.parent?[this.props.parent,t]:[t];if(t>=0)return o.a.createElement($,{def:this.props.def,parent:i.join("."),optChange:this.props.optChange});var l=this.inputOpts(n);return o.a.createElement(c.h,{tag:"fieldset",className:"border border-dark p-2"},o.a.createElement("legend",null,(Object(a.e)(this.props.def)?"":"*")+t),o.a.createElement(c.j,{type:l.type||"text",placeholder:l.placeholder||"",name:t,onChange:function(t){return e.props.optChange(i.join("."),t.target.value,!!e.props.arr)}}),""!=r?o.a.createElement(c.i,{color:"muted"},r):"")}}]),t}(),f=Object(s.b)(function(e){return{schema:e.Generator.schema}},function(e){return{}})(p);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,y(t).call(this,e,n))).name=a.props.def[1],a.type=a.props.def[2],a.args=a.props.def[3],a.comment=a.props.def[4],a.typeDef=a.props.schema.types.filter(function(e){return e[0]==a.type}),a.typeDef=1===a.typeDef.length?a.typeDef[0]:[],a.msgName=(a.props.parent?[a.props.parent,a.name]:[a.name]).join("."),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.Component),function(e,t,n){t&&d(e.prototype,t)}(t,[{key:"render",value:function(){var e=this;return o.a.createElement(c.h,{tag:"fieldset",className:"border border-dark p-2"},o.a.createElement("legend",null,(Object(a.e)(this.props.def)?"":"*")+this.name),""!=this.comment?o.a.createElement(c.i,{color:"muted"},this.comment):"",o.a.createElement(c.j,{type:"select",name:this.name,title:this.name,className:"selectpicker",onChange:function(t){return e.props.optChange(e.msgName,t.target.value)}},o.a.createElement("option",{"data-subtext":this.name+" options",value:""},this.name+" options"),this.typeDef[this.typeDef.length-1].map(function(e){return o.a.createElement("option",{key:e[0],"data-subtext":e[2]},e[1])})))}}]),t}(),v=Object(s.b)(function(e){return{schema:e.Generator.schema}},function(e){return{}})(g);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,j(t).call(this,e,n))).name=a.props.def[1],a.type=a.props.def[2],a.args=a.props.def[3],a.comment=a.props.def[4],a.typeDef=a.props.schema.types.filter(function(e){return e[0]==a.type}),a.typeDef=1===a.typeDef.length?a.typeDef[0]:[],a.state={selected:-1},a.msgName=(a.props.parent?[a.props.parent,a.name]:[a.name]).join("."),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r.Component),function(e,t,n){t&&O(e.prototype,t)}(t,[{key:"render",value:function(){var e=this,t=this.typeDef[this.typeDef.length-1].filter(function(t){return t[0]==e.state.selected});return t=1===t.length?t[0]:[],o.a.createElement(c.h,{tag:"fieldset",className:"border border-dark p-2"},o.a.createElement("legend",null,(Object(a.e)(this.props.def)?"":"*")+this.name),""!=this.comment?o.a.createElement(c.i,{color:"muted"},this.comment):"",o.a.createElement("div",{className:"col-12 my-1 px-0"},o.a.createElement(c.j,{type:"select",name:this.name,title:this.name,className:"selectpicker",onChange:function(t){return e.setState({selected:t.target.value})},default:-1},o.a.createElement("option",{"data-subtext":this.name+" options",value:-1},this.name," options"),this.typeDef[this.typeDef.length-1].map(function(e){return o.a.createElement("option",{key:e[0],"data-subtext":e[2],value:e[0]},e[1])})),o.a.createElement("div",{className:"col-12 py-2"},this.state.selected>=0?o.a.createElement($,{def:t,parent:this.msgName,optChange:this.props.optChange}):"")))}}]),t}(),N=Object(s.b)(function(e){return{schema:e.Generator.schema}},function(e){return{}})(w);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,C(t).call(this,e,n))).name=a.props.def[1],a.type=a.props.def[2],a.args=a.props.def[3],a.comment=a.props.def[4],a.typeDef=a.props.schema.types.filter(function(e){return e[0]==a.type}),a.typeDef=1===a.typeDef.length?a.typeDef[0]:[],a.msgName=(a.props.parent?[a.props.parent,a.name]:[a.name]).join("."),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,r.Component),function(e,t,n){t&&k(e.prototype,t)}(t,[{key:"render",value:function(){var e=this;return o.a.createElement(c.h,{tag:"fieldset",className:"border border-dark p-2"},o.a.createElement("legend",null,(Object(a.e)(this.props.def)?"":"*")+this.name),""!=this.comment?o.a.createElement(c.i,{color:"muted"},this.comment):"",o.a.createElement("div",{className:"col-12 my-1 px-0"},this.typeDef[this.typeDef.length-1].map(function(t,n){return o.a.createElement($,{key:n,def:t,parent:e.msgName,optChange:e.props.optChange})})))}}]),t}(),x=Object(s.b)(function(e){return{schema:e.Generator.schema}},function(e){return{}})(P);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,T(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,x),t}(),I=Object(s.b)(function(e){return{schema:e.Generator.schema}},function(e){return{}})(U),F=n(75),L=n(77);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,W(t).call(this,e,n))).name=a.props.def[1],a.type=a.props.def[2],a.args=a.props.def[3],a.comment=a.props.def[4],a.opts={},a.typeDef=a.props.schema.types.filter(function(e){return e[0]==a.type}),a.typeDef=1===a.typeDef.length?a.typeDef[0]:[],a.msgName=(a.props.parent?[a.props.parent,a.name]:[a.name]).join("."),a.state={min:!1,max:!1,count:1,opts:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,r.Component),function(e,t,n){t&&M(e.prototype,t)}(t,[{key:"opts2arr",value:function(e){var t=this;this.opts={};var n={"=":"compact","[":"min","]":"max","*":"rtype",$:"pattern","@":"format"};e.forEach(function(e){var a=e.charAt(0),r=e.substr(1);n.hasOwnProperty(a)?t.opts[n[a]]=r:console.log("Unknown option",a)})}},{key:"addOpt",value:function(e){e.preventDefault(),console.log("Add Option");var t=this.opts.hasOwnProperty("max")?this.opts.max:1e3;this.state.count<t?this.setState({count:++this.state.count,max:!1}):this.setState({max:!0})}},{key:"removeOpt",value:function(e){e.preventDefault(),console.log("Remove Option");var t=this.opts.hasOwnProperty("min")?this.opts.min:0,n=this.state.opts||{};this.state.count>t?(delete n[Math.max.apply(Math,Object.keys(n))],this.setState({count:--this.state.count,min:!1,opts:n}),this.props.optChange(this.msgName,Array.from(new Set(Object.values(n))))):this.setState({min:!0})}},{key:"optChange",value:function(e,t,n){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){J(e,t,n[t])})}return e}({},this.state.opts,J({},n,t));this.setState({opts:a}),this.props.optChange(this.msgName,Array.from(new Set(Object.values(a))))}},{key:"render",value:function(){var e=this;this.opts2arr(this.typeDef[2]);var t=this.props.schema.types.filter(function(t){return t[0]==e.opts.rtype});t=1===t.length?[0,(t=t[0])[0].toLowerCase(),t[0],[],t[t.length-2]]:[0,t[1],"String",[],""];for(var n=[],r=0;r<this.state.count;++r)n.push(o.a.createElement($,{key:r,def:t,parent:this.msgName,optChange:this.optChange.bind(this),idx:r}));return o.a.createElement(c.h,{tag:"fieldset",className:"border border-dark p-2"},o.a.createElement("legend",null,(Object(a.e)(this.props.def)?"":"*")+this.name,o.a.createElement(c.a,{color:"danger",className:"float-right p-1"+(this.state.min?" disabled":""),onClick:this.removeOpt.bind(this)},o.a.createElement(F.a,{icon:L.a,size:"lg"})),o.a.createElement(c.a,{color:"primary",className:"float-right p-1"+(this.state.max?" disabled":""),onClick:this.addOpt.bind(this)},o.a.createElement(F.a,{icon:L.b,size:"lg"}))),""!=this.comment?o.a.createElement(c.i,{color:"muted"},this.comment):"",n)}}]),t}(),B=Object(s.b)(function(e){return{schema:e.Generator.schema,baseTypes:e.Generator.types.base}},function(e){return{}})(Y);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,z(t).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,r.Component),function(e,t,n){t&&q(e.prototype,t)}(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props!=e,a=this.state!=t;return n||a}},{key:"render",value:function(){var e=this,t=this.props.schema.types.filter(function(t){return t[0]==e.props.def[2]});t=1===t.length?t[0]:[];var n=this.props.parent||"";switch(t[1]){case"Enumerated":return o.a.createElement(v,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Choice":return o.a.createElement(N,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Record":return o.a.createElement(I,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Map":return o.a.createElement(x,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"ArrayOf":return o.a.createElement(B,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}});case"Array":return o.a.createElement(c.i,null,"Array: ",this.props.def[1]);default:return o.a.createElement(f,{def:this.props.def,parent:n,optChange:function(t,n){return e.props.optChange(t,n,e.props.idx)}})}}}]),t}(),$=Object(s.b)(function(e){return{schema:e.Generator.schema}},function(e){return{}})(K);n.d(t,"b",function(){return a.b}),n.d(t,"c",function(){return a.c}),n.d(t,"a",function(){return a.a}),n.d(t,"d",function(){return a.d}),n.d(t,"e",function(){return a.e})}});