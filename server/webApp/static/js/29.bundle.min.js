"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[29],{6709:(e,t,n)=>{n.r(t),n.d(t,{default:()=>wn});var a,o,i,r,l,c,s,d=n(2928),u=n(885),m=n(7294),v=n(743),p=n(405),f=n(9417),b=n(982),y=n(8343),g=n(897),Z=n(3519),h=n(7921),N=n(3935),O=function(e){return e.sm="modal-sm",e.md="modal-md",e.lg="modal-lg",e.xl="modal-xl",e}({}),C=function(e){var t=e.isOpen,n=e.title,a=void 0===n?"Confirm":n,o=e.message,i=void 0===o?"Are you sure?":o,r=e.modalSize,l=void 0===r?O.sm:r,c=e.confirm_value,s=e.onResponse;return m.createElement(m.Fragment,null,(0,N.createPortal)((0,d.Z)("div",{id:"confirmationModal",className:"modal fade ".concat(t?"show d-block":"d-none"),tabIndex:-1,role:"dialog"},void 0,(0,d.Z)("div",{className:"modal-dialog modal-dialog-centered ".concat(l),role:"document"},void 0,(0,d.Z)("div",{className:"modal-content"},void 0,(0,d.Z)("div",{className:"modal-header"},void 0,(0,d.Z)("h5",{className:"modal-title"},void 0,a),(0,d.Z)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:function(e){e.preventDefault(),s(!1,c)}})),(0,d.Z)("div",{className:"modal-body"},void 0,(0,d.Z)("p",{},void 0,i)),(0,d.Z)("div",{className:"modal-footer"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-success",onClick:function(e){e.preventDefault(),s(!0,c)}},void 0,"Yes"),(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:function(e){e.preventDefault(),s(!1,c)}},void 0,"No")))),(0,d.Z)("div",{className:"modal-backdrop fade ".concat(t?"show":""),style:{zIndex:-1}})),document.body))},w=n(2982),S=n(2167),x=n(1710),k=n(9142),E=n(7462),j=n(6683),I=["name","type","options","comment","fields"],D=["id","name","type","options","comment"],F=["id","value","comment"],T={$MaxBinary:{type:"number",description:"Schema default maximum number of octets"},$MaxString:{type:"number",description:"Schema default maximum number of characters"},$MaxElements:{type:"number",description:"Schema default maximum number of items/properties"},$Sys:{description:"System character for TypeName"},$TypeName:{description:"TypeName regex"},$FieldName:{description:"FieldName regex"},$NSID:{description:"Namespace Identifier regex"}},P=n(9569);const M=(0,m.memo)((function(e){var t=e.id,n=e.name,v=e.value,p=void 0===v?"":v,y=e.description,g=void 0===y?"":y,Z=e.options,N=void 0===Z?[]:Z,O=e.placeholder,C=e.type,w=void 0===C?"text":C,S=e.change,x=e.remove,k=e.required,j=e.removable,I=e.labelColumns,D=void 0===I?2:I,F=e.fieldColumns,T=void 0===F?10:F,M=(0,m.useState)(p),R=(0,u.Z)(M,2),A=R[0],B=R[1],L=(0,m.useState)(!1),z=(0,u.Z)(L,2),V=z[0],G=z[1],U=(0,m.useState)(!1),$=(0,u.Z)(U,2),H=$[0],J=$[1];(0,m.useEffect)((function(){p||("checkbox"==w?B(!1):"SBSelect"==w||"SBCreatableSelect"==w?K(p?{value:p,label:p}:""):B(p))}),[p]);var _=(0,m.useState)(p?{value:p,label:p}:""),W=(0,u.Z)(_,2),q=W[0],K=W[1],X={value:A,onChange:function(e){B(e.target.value),J(!1)},onBlur:function(e){B(e.target.value),S(e.target.value)}},Q=function(e){null==e?(K(""),S("")):(K(e),S(e.value))};return"SBCreatableSelect"===w&&N?m.createElement(m.Fragment,null,j?(0,d.Z)("div",{className:"row form-group",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("div",{className:"col-md-".concat(D)},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"pl-2 col-form-label font-weight-bold"},void 0,(0,d.Z)("span",{title:g},void 0,n,k?"*":""))),(0,d.Z)("div",{className:"col-md-".concat(T)},void 0,(0,d.Z)("div",{className:"input-group"},void 0,(0,d.Z)(P.ZP,{id:"editor-".concat(O,"-").concat(t),placeholder:"Please select a ".concat(O,"..."),data:N,onChange:Q,value:q,isGrouped:!Array.isArray(N),isCreatable:!0,isClearable:!0}),(0,d.Z)("button",{type:"button",title:"Remove ".concat(O),className:"btn btn-sm btn-danger ",onClick:function(){return x(n)}},void 0,a||(a=(0,d.Z)(b.G,{icon:f.El_})))))):(0,d.Z)("div",{className:"row form-group",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"col-md-".concat(D," col-form-label font-weight-bold")},void 0,(0,d.Z)("span",{title:g},void 0,n,k?"*":"")),(0,d.Z)("div",{className:"col-md-".concat(T)},void 0,(0,d.Z)(P.ZP,{id:"editor-".concat(O,"-").concat(t),placeholder:"Please select a ".concat(O,"..."),data:N,onChange:Q,value:q,isGrouped:!Array.isArray(N),isCreatable:!0,isClearable:!0})))):"SBSelect"===w&&N?m.createElement(m.Fragment,null,j?(0,d.Z)("div",{className:"row form-group",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("div",{className:"col-md-".concat(D)},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"pl-2 col-form-label font-weight-bold"},void 0,(0,d.Z)("span",{title:g},void 0,n,k?"*":""))),(0,d.Z)("div",{className:"col-md-".concat(T)},void 0,(0,d.Z)("div",{className:"input-group"},void 0,(0,d.Z)(P.ZP,{id:"editor-".concat(O,"-").concat(t),placeholder:"Please select a ".concat(O,"..."),data:N,onChange:Q,value:q,isGrouped:!Array.isArray(N),isClearable:!0}),(0,d.Z)("button",{type:"button",title:"Remove ".concat(O),className:"btn btn-sm btn-danger",onClick:function(){return x(n)}},void 0,o||(o=(0,d.Z)(b.G,{icon:f.El_})))))):(0,d.Z)("div",{className:"row form-group",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"col-md-".concat(D," col-form-label font-weight-bold")},void 0,(0,d.Z)("span",{title:g},void 0,n,k?"*":"")),(0,d.Z)("div",{className:"col-md-".concat(T)},void 0,(0,d.Z)(P.ZP,{id:"editor-".concat(O,"-").concat(t),placeholder:"Please select a ".concat(O,"..."),data:N,onChange:Q,value:q,isGrouped:!Array.isArray(N),isClearable:!0})))):"WithRegex"===w&&N?(0,d.Z)("div",{className:"row form-group",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("div",{className:"col-md-".concat(D)},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"pl-2 col-form-label font-weight-bold"},void 0,(0,d.Z)("span",{title:g},void 0,n,k?"*":""))),(0,d.Z)("div",{className:"col-md-".concat(T)},void 0,(0,d.Z)("div",{className:"input-group"},void 0,m.createElement("input",(0,E.Z)({id:t+"_input",name:t+"_input",type:w,className:"form-control"},X,{placeholder:"Enter regex string"})),(0,d.Z)("button",{id:"check_regex",type:"button",title:"check pattern validity",className:"btn btn-sm btn-primary",onClick:function(e){e.preventDefault();try{new RegExp(A.toString()),(0,h.T9)("Valid regex"),G(!0),J(!0)}catch(e){return(0,h.gz)("Invalid ECMAScript Regex: ".concat(e.message)),G(!1),void J(!0)}}},void 0,H?V?i||(i=(0,d.Z)(b.G,{icon:f.LEp})):r||(r=(0,d.Z)(b.G,{icon:f.g82})):l||(l=(0,d.Z)(b.G,{icon:f.Psp})))))):["checkbox","radio"].includes(w)?(X.checked=w&&A,X.onChange=function(e){B(e.target.checked)},X.onBlur=function(e){B(e.target.value),S(e.target.checked)},m.createElement(m.Fragment,null,j?(0,d.Z)("div",{className:"row",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"col-md-".concat(D," col-form-label font-weight-bold")},void 0,(0,d.Z)("span",{title:g},void 0,n," ",k?"*":"")),(0,d.Z)("div",{className:"col-md-".concat(T," col-form-label d-flex align-items-start")},void 0,m.createElement("input",(0,E.Z)({type:w,id:"editor-".concat(O,"-").concat(t),className:"w-auto"},X)),(0,d.Z)("button",{type:"button",title:"Remove ".concat(O),className:"btn btn-sm btn-danger ms-2",onClick:function(){return x(n)}},void 0,c||(c=(0,d.Z)(b.G,{icon:f.El_}))))))):(0,d.Z)("div",{className:"row",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"col-md-".concat(D," col-form-label font-weight-bold")},void 0,(0,d.Z)("span",{title:g},void 0,n," ",k?"*":"")),(0,d.Z)("div",{className:"col-md-".concat(T," col-form-label d-flex align-items-start")},void 0,m.createElement("input",(0,E.Z)({type:w,id:"editor-".concat(O,"-").concat(t),className:"w-auto"},X)))))))):m.createElement(m.Fragment,null,j?(0,d.Z)("div",{className:"row form-group",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("div",{className:"col-md-".concat(D)},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"pl-2 col-form-label font-weight-bold"},void 0,(0,d.Z)("span",{title:g},void 0,n,k?"*":""))),(0,d.Z)("div",{className:"col-md-".concat(T)},void 0,(0,d.Z)("div",{className:"input-group"},void 0,m.createElement("input",(0,E.Z)({type:w,className:"form-control",id:"editor-".concat(O,"-").concat(t)},X)),(0,d.Z)("button",{type:"button",title:"Remove ".concat(O),className:"btn btn-sm btn-danger",onClick:function(){return x(n)}},void 0,s||(s=(0,d.Z)(b.G,{icon:f.El_})))))):(0,d.Z)("div",{className:"row form-group",id:"".concat(n,"-").concat(t)},void 0,(0,d.Z)("label",{htmlFor:"editor-".concat(O),className:"col-md-".concat(D," col-form-label font-weight-bold")},void 0,(0,d.Z)("span",{title:g},void 0,n,k?"*":"")),(0,d.Z)("div",{className:"col-md-".concat(T)},void 0,m.createElement("input",(0,E.Z)({type:w,className:"form-control",id:"editor-".concat(O,"-").concat(t)},X)))))}));var R;function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const L=(0,m.memo)((function(e){var t=e.name,n=e.description,a=void 0===n?"":n,o=e.value,i=e.change,r=e.remove,l=e.config,c=(0,m.useState)(!1),s=(0,u.Z)(c,2),v=s[0],p=s[1],y=function(e,t){var n=B({},o);if(""===t)n[e]=l[e],(0,h.D)("Resetting config value "+e+" to default"),i(n);else{var a=/\d+$/.test(t)?parseInt(t):t;n[e]=a,i(n)}},g=Object.keys(T).map((function(e){var t=e,n=B(B({},T[t]),{},{placeholder:t,value:o[t],change:function(t){return y(e,t)},removable:!1,required:!1,id:"config-props",labelColumns:2,fieldColumns:10});return m.createElement(M,(0,E.Z)({key:e,name:e},n))}));return m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"card mb-2",id:t.toLowerCase()},void 0,(0,d.Z)("div",{className:"card-header px-2 py-2"},void 0,(0,d.Z)("div",{className:"row no-gutters"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{},void 0,t," ",(0,d.Z)("small",{style:{fontSize:"10px"}},void 0," ",a," "))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-danger float-end",onClick:function(e){e.preventDefault(),p(!0)}},void 0,R||(R=(0,d.Z)(b.G,{icon:f.uMC})))))),(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,(0,d.Z)("div",{className:"row m-0"},void 0,(0,d.Z)("div",{className:"col-12 m-0"},void 0,g)))),(0,d.Z)(C,{isOpen:v,title:"Remove Config",message:"Are you sure you want to remove the configuration values for this module?",onResponse:function(e){p(!1),1==e&&r(t.toLowerCase())}}))}));var z=n(5064);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e){var t=e.name,n=void 0===t?"":t,a=e.type,o=void 0===a?"":a,i=e.options,r=void 0===i?[]:i,l=e.comment,c=void 0===l?"":l,s=e.fields;return[n,o,r,c,void 0===s?[]:s]},$=function(e){var t=e.name,n=void 0===t?"":t,a=e.type,o=void 0===a?"":a,i=e.options,r=void 0===i?[]:i,l=e.comment;return[n,o,r,void 0===l?"":l]};const H={record:{key:"Record",edit:function(e){return U(G(G({},e),{},{type:"Record"}))},btneditor:function(e){return m.createElement(Ae,e)},dndeditor:function(e){return m.createElement(et,e)},type:"structure"},enumerated:{key:"Enumerated",edit:function(e){return U(G(G({},e),{},{type:"Enumerated"}))},btneditor:function(e){return m.createElement(Ae,e)},dndeditor:function(e){return m.createElement(et,e)},type:"structure"},choice:{key:"Choice",edit:function(e){return U(G(G({},e),{},{type:"Choice"}))},btneditor:function(e){return m.createElement(Ae,e)},dndeditor:function(e){return m.createElement(et,e)},type:"structure"},map:{key:"Map",edit:function(e){return U(G(G({},e),{},{type:"Map"}))},btneditor:function(e){return m.createElement(Ae,e)},dndeditor:function(e){return m.createElement(et,e)},type:"structure"},array:{key:"Array",edit:function(e){return U(G(G({},e),{},{type:"Array"}))},btneditor:function(e){return m.createElement(Ae,e)},dndeditor:function(e){return m.createElement(et,e)},type:"structure"},mapof:{key:"MapOf",edit:function(e){return $(G(G({},e),{},{type:"MapOf"}))},btneditor:function(e){return m.createElement(it,e)},dndeditor:function(e){return m.createElement(rt,e)},type:"structure"},arrayof:{key:"ArrayOf",edit:function(e){return $(G(G({},e),{},{type:"ArrayOf"}))},btneditor:function(e){return m.createElement(it,e)},dndeditor:function(e){return m.createElement(rt,e)},type:"structure"},binary:{key:"Binary",edit:function(e){return $(G(G({},e),{},{type:"Binary"}))},btneditor:function(e){return m.createElement(it,e)},dndeditor:function(e){return m.createElement(rt,e)},type:"primitive"},boolean:{key:"Boolean",edit:function(e){return $(G(G({},e),{},{type:"Boolean"}))},btneditor:function(e){return m.createElement(it,e)},dndeditor:function(e){return m.createElement(rt,e)},type:"primitive"},integer:{key:"Integer",edit:function(e){return $(G(G({},e),{},{type:"Integer"}))},btneditor:function(e){return m.createElement(it,e)},dndeditor:function(e){return m.createElement(rt,e)},type:"primitive"},number:{key:"Number",edit:function(e){return $(G(G({},e),{},{type:"Number"}))},btneditor:function(e){return m.createElement(it,e)},dndeditor:function(e){return m.createElement(rt,e)},type:"primitive"},string:{key:"String",edit:function(e){return $(G(G({},e),{},{type:"String"}))},btneditor:function(e){return m.createElement(it,e)},dndeditor:function(e){return m.createElement(rt,e)},type:"primitive"}};var J,_,W,q,K;const X=(0,m.memo)((function(e){var t=e.name,n=e.description,a=e.placeholder,o=e.value,i=e.config,r=e.change,l=e.addTypeChange,c=e.remove,s=(0,m.useState)(o),p=(0,u.Z)(s,2),y=p[0],g=p[1],Z=(0,m.useState)(null),N=(0,u.Z)(Z,2),S=N[0],x=N[1],k=(0,m.useState)(""),E=(0,u.Z)(k,2),D=E[0],F=E[1],T=(0,z.C)((function(e){return Object.keys(e.Util.types.schema)}),v.wU),M=(0,z.C)((function(e){return{base:e.Util.types.base}}),v.wU),R=0!=y.length?T.filter((function(e){return!y.includes(e)})):T,A=(0,m.useState)(!1),B=(0,u.Z)(A,2),L=B[0],V=B[1],G=(0,m.useState)(!1),$=(0,u.Z)(G,2),X=$[0],Q=$[1],Y=function(e){if(y.length>1){var t=e.currentTarget.dataset,n=parseInt(t.index||"",10),a=(0,w.Z)(y);a.splice(n,1),g(a),r(a)}else g([]),r([])},ee=function(e){e.preventDefault(),(0,h.wu)(),Q(!1)},te=y.map((function(e,t){return(0,d.Z)("div",{className:"input-group mb-1"},t,(0,d.Z)(P.ZP,{id:"keyArrayEditor-".concat(t),placeholder:a,value:e?{value:e,label:e}:null,onChange:function(e){return function(e,t){(0,h.wu)();var n=(0,w.Z)(y),a=new RegExp(i.$TypeName,"g"),o=M.base.map((function(e){return e.toLowerCase()}));if(null==e)n[t]="";else{if(o.includes(e.value.toLowerCase()))return void(0,h.gz)("Error: Export TypeName MUST NOT be a JADN predefined type");if(e.value.length>=64)return void(0,h.gz)("Error: Export Character Max length reached");if(e.value.includes(i.$Sys))return void(0,h.gz)("Error: Export TypeNames SHOULD NOT contain the System character");if(!a.test(e.value))return void(0,h.gz)("Error: Export TypeName format is not permitted");if(n.includes(e.value))return void(0,h.gz)("Export ".concat(e.value," already exists."));n[t]=e.value}g(n),r(n)}(e,t)},data:R,isSmStyle:!0,isCreatable:!0,customNoOptionMsg:"Begin typing to add an Export..."}),(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-danger",onClick:Y,"data-index":t},void 0,J||(J=(0,d.Z)(b.G,{icon:f.El_}))),e&&!T.includes(e)&&(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(){return function(e){Q(!0),F(e)}(e)},"data-index":t,title:"Add Export to Types"},void 0,_||(_=(0,d.Z)(b.G,{icon:f.CPW}))))}));return m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"card mb-2",id:t.toLowerCase()},void 0,(0,d.Z)("div",{className:"card-header px-2 py-2"},void 0,(0,d.Z)("div",{className:"row no-gutters"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{},void 0,t," ",(0,d.Z)("small",{style:{fontSize:"10px"}},void 0," ",n," "))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("div",{className:"btn-group float-end",role:"group","aria-label":"button group"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(e){e.preventDefault(),g([].concat((0,w.Z)(y),[""]))}},void 0,W||(W=(0,d.Z)(b.G,{icon:f.KtF}))),(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-danger",onClick:function(e){e.preventDefault(),V(!0)}},void 0,q||(q=(0,d.Z)(b.G,{icon:f.uMC}))))))),(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,(0,d.Z)("div",{className:"row m-0"},void 0,(0,d.Z)("div",{className:"col-12 m-0"},void 0,te)))),(0,d.Z)(C,{isOpen:L,title:"Remove ".concat(t),message:"Are you sure you want to remove ".concat(t,"?"),onResponse:function(e){V(!1),1==e&&c(t.toLowerCase())}}),(0,d.Z)("div",{id:"addtoTypesModal",className:"modal fade ".concat(X?"show d-block":"d-none"),tabIndex:-1,role:"dialog"},void 0,(0,d.Z)("div",{className:"modal-dialog modal-dialog-centered ".concat(O.sm),role:"document"},void 0,(0,d.Z)("div",{className:"modal-content"},void 0,(0,d.Z)("div",{className:"modal-header"},void 0,(0,d.Z)("h5",{className:"modal-title"},void 0,"Add Export ",D,"  to Types"),(0,d.Z)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:ee})),(0,d.Z)("div",{className:"modal-body"},void 0,K||(K=(0,d.Z)("p",{},void 0,"Please specify Type")),(0,d.Z)(P.ZP,{id:"newExportType",name:"type",value:S,onChange:function(e){x(null==e?null:e)},data:M,isGrouped:!0,isCreatable:!0,isClearable:!0})),(0,d.Z)("div",{className:"modal-footer"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-success",onClick:function(e){return function(e,t){e.preventDefault();var n=null==t?void 0:t.value;if(null!=t){var a;if("structure"==H[n.toLowerCase()].type){var o=U({type:n,name:D,options:[],comment:""});a=(0,j.$R)(I,o)}else{var i=U({type:n,name:D,options:[],comment:""});a=(0,j.$R)(I,i)}l(a),Q(!1)}else(0,h.gz)("Please select a type")}(e,S)}},void 0,"Create"),(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:ee},void 0,"Cancel")))),(0,d.Z)("div",{className:"modal-backdrop fade ".concat(X?"show":""),style:{zIndex:-1}})))}));var Q,Y,ee;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ae=(0,m.memo)((function(e){var t=e.value,n=e.description,a=e.name,o=e.change,i=e.config,r=Object.keys(t).map((function(e){return{key:e,value:t[e]}})),l=(0,m.useState)(r),c=(0,u.Z)(l,2),s=c[0],v=c[1],p=(0,m.useState)(!1),y=(0,u.Z)(p,2),g=y[0],Z=y[1],N=function(e){var t=e.target,n=t.dataset,a=t.value,o=parseInt(n.index||"",10),i=n.type,r=(0,w.Z)(s);r[o][i]=a,v(r)},O=function(e){var t=e.target,n=t.dataset,a=t.value,l=parseInt(n.index||"",10),c=n.type;"key"==c&&a&&(new RegExp(i.$NSID,"g").test(a)||(0,h.gz)("Error: Namespace Identifier format is not permitted"));var d=(0,w.Z)(s);d[l][c]=a,JSON.stringify(r)!=JSON.stringify(d)&&(v(d),o(x(d)))},x=function(e){return(e||s).reduce((function(e,t){return ne(ne({},e),{},(0,S.Z)({},t.key,t.value))}),{})},k=function(t){if(Z(!1),1==t){var n=e.name;(0,e.remove)(n.toLowerCase())}},E=function(e){if(s.length>1){var t=e.currentTarget.dataset,n=parseInt(t.index||"",10),a=(0,w.Z)(s.filter((function(e,t){return t!==n})));v(a),o(x(a))}else k(!0)},j=s.map((function(e,t){return(0,d.Z)("div",{className:"input-group mb-1 p-0"},t,(0,d.Z)("input",{id:"keyObjectEditorKey-".concat(t),type:"text",className:"form-control","data-index":t,"data-type":"key",placeholder:"NSID",value:e.key,onChange:N,onBlur:O}),(0,d.Z)("input",{id:"keyObjectEditorValue-".concat(t),type:"text",className:"form-control","data-index":t,"data-type":"value",placeholder:"Namespace",value:e.value,onChange:N,onBlur:O}),(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-danger",onClick:E,"data-index":t},void 0,Q||(Q=(0,d.Z)(b.G,{icon:f.El_}))))}));return m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"card mb-2",id:a.toLowerCase()},void 0,(0,d.Z)("div",{className:"card-header px-2 py-2"},void 0,(0,d.Z)("div",{className:"row no-gutters"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{},void 0,a," ",(0,d.Z)("small",{style:{fontSize:"10px"}},void 0," ",n," "))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("div",{className:"btn-group float-end",role:"group","aria-label":"button group"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(){if(r.some((function(e){return""===e.key})))(0,h.gz)("Cannot add more: Enter namespace");else{var e=[].concat((0,w.Z)(s),[{key:"",value:""}]);v(e),o(x(e))}}},void 0,Y||(Y=(0,d.Z)(b.G,{icon:f.KtF}))),(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-danger",onClick:function(t){if(t.preventDefault(),"Namespaces"==a)Z(!0);else{var n=e.name;(0,e.remove)(n.toLowerCase())}}},void 0,ee||(ee=(0,d.Z)(b.G,{icon:f.uMC}))))))),(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,(0,d.Z)("div",{className:"row m-0"},void 0,(0,d.Z)("div",{className:"col-12 m-0"},void 0,j)))),(0,d.Z)(C,{isOpen:g,title:"Remove ".concat(a),message:"Are you sure you want to remove ".concat(a,"?"),onResponse:k}))}));var oe=n(2849),ie=n(5239);function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw i}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ce=(0,m.memo)((function(e){var t=e.change,n=e.deserializedState,a=e.id,o=e.optionType,i=void 0===o?"":o,r=(0,z.C)((function(e){return e.Util.types.base}),v.wU),l=(0,z.C)((function(e){return e.Util.types.schema}),v.wU),c=(0,v.v9)(ie.o),s={base:r,schema:Object.keys(l)},d=function(e){switch(e){case"ktype":return Object.values(l).filter((function(e){return"enumerated"==e[1].toLowerCase()||"string"==e[1].toLowerCase()})).map((function(e){return e[0]}));case"vtype":return s;case"enum":return Object.values(l).filter((function(e){return 5==e.length&&Array.isArray(e[4])&&0!=e[4].length})).map((function(e){return e[0]}));case"format":var t,n=[],a=re(c);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.type.toLowerCase()==(null==i?void 0:i.toLowerCase())&&n.push(o.name)}}catch(e){a.e(e)}finally{a.f()}return n;default:return[]}},u=function(){return(0,j.DV)(oe.dp,i,[]).map((function(e){return m.createElement(M,(0,E.Z)({key:e,id:a,name:e,labelColumns:2,fieldColumns:10,placeholder:e,removable:!1,options:d(e),change:function(n){return t([e,n],"type")},value:n[e],required:!!oe.XQ[i].includes(e)},oe.tx[e]))}))};return 0!=u().length?m.createElement(m.Fragment,null,u()):"Boolean"==i?m.createElement(m.Fragment,null,"No type options available"):""}));const se=ce;const de=(0,m.memo)((function(e){var t=e.id,n=e.change,a=e.deserializedState;return e.fieldOptions?m.createElement(m.Fragment,null,Object.keys(oe.D9).map((function(e){return m.createElement(M,(0,E.Z)({key:e,id:t,name:e},oe.D9[e],{placeholder:e,removable:!1,change:function(t){return n([e,t],"field")},value:a[e]}))}))):""}));var ue;function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){var t=(0,oe.tr)(e),n=oe.My.field.filter((function(e){return e in t})).map((function(e){return[e,t[e]]})),a=oe.My.type.filter((function(e){return e in t})).map((function(e){return[e,t[e]]}));return{field:j.r3.apply(void 0,(0,w.Z)(n)),type:j.r3.apply(void 0,(0,w.Z)(a))}};const fe=(0,m.memo)((function(e){var t=e.id,n=e.optionValues,a=e.saveModal,o=e.fieldOptions,i=void 0!==o&&o,r=e.isOpen,l=e.optionType,c=void 0===l?"":l,s=e.toggleModal,v=e.modalSize,p=void 0===v?O.md:v,f=(0,m.useState)(pe(n)),b=(0,u.Z)(f,2),y=b[0],g=b[1],Z=ve({},pe(n)),C=function(e,t){var n;n=""==e[1]?void 0:e[1];var a=ve(ve({},y),{},(0,S.Z)({},t,ve(ve({},y[t]),{},(0,S.Z)({},e[0],n))));g(a)},x=function(){g(Z),s()};return m.createElement(m.Fragment,null,(0,N.createPortal)((0,d.Z)("div",{id:"optionsModal",className:"modal fade ".concat(r?"show d-block":"d-none"),tabIndex:-1,role:"dialog"},void 0,(0,d.Z)("div",{className:"modal-dialog modal-dialog-centered ".concat(p),role:"document"},void 0,(0,d.Z)("div",{className:"modal-content p-2"},void 0,(0,d.Z)("div",{className:"modal-header"},void 0,(0,d.Z)("h5",{className:"modal-title"},void 0,i?"Field":"Type"," Options"),(0,d.Z)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:x})),(0,d.Z)("div",{className:"modal-body"},void 0,(0,d.Z)(de,{id:t,deserializedState:y.field,change:C,fieldOptions:i}),(0,d.Z)(se,{id:t,deserializedState:y.type,change:C,optionType:c})),ue||(ue=(0,d.Z)("hr",{})),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-sm-12 p2"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-secondary float-start",onClick:function(){g(pe([]));pe([]);console.log("8888")}},void 0,"Clear"),(0,d.Z)("button",{type:"button",className:"btn btn-success float-end",onClick:function(e){e.preventDefault();var t=0;if(oe.XQ[c]&&c in oe.XQ)for(var n=0;n<oe.XQ[c].length;n++)(!Object.keys(y.type).includes(oe.XQ[c][n])||Object.keys(y.type).includes(oe.XQ[c][n])&&null==y.type[oe.XQ[c][n]])&&((0,h.gz)(oe.XQ[c][n]+" is required"),t+=1);if(!(t>=1)){var o,i,r=["unique","set","unordered"],l=0;if("ArrayOf"==c)for(var s=0;s<r.length;s++)if(r[s]in y.type&&1==y.type[r[s]]&&(l+=1)>1)return void(0,h.gz)("MUST NOT include more than one collection option (set, unique, or unordered)");if(Object.keys(y.type).includes("format")&&Object.keys(y.type).includes("pattern")&&null!=y.type.pattern&&"regex"==y.type.format)(0,h.gz)("May only allow one of the following type options: pattern or format of regex.");else a((o=y.type,i=y.field,[].concat((0,w.Z)((0,oe.pL)(o)),(0,w.Z)((0,oe.pL)(i)))))}}},void 0,"Save"),(0,d.Z)("button",{type:"button",className:"btn btn-secondary float-end mx-2","data-bs-dismiss":"modal",onClick:x},void 0,"Close"))))),(0,d.Z)("div",{className:"modal-backdrop fade ".concat(r?"show":""),style:{zIndex:-1}})),document.body))}));var be,ye,ge,Ze,he=n(2708);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){function t(t){var n=t.value,a=t.dataIndex,o=t.config,i=t.setFieldCollapse,r=t.customStyle,l=t.setRowHeight,c=t.change,s=t.remove,p=t.setIsVisible,y=(0,z.C)((function(e){return(0,w.Z)(e.Util.types.base)}),v.wU),g=(0,he.YD)({fallbackInView:!0,threshold:1}),Z=g.ref,x=g.inView,k=g.entry,D=(0,m.useState)(!1),F=(0,u.Z)(D,2),T=F[0],P=F[1],M=(0,m.useState)(!1),R=(0,u.Z)(M,2),A=R[0],B=R[1],L=(0,j.$R)(I,n),V=(0,m.useState)(L),G=(0,u.Z)(V,2),U=G[0],$=G[1],H="Record"!=U.type&&"Array"!=U.type,J=U.name,_=(0,m.useRef)();(0,m.useEffect)((function(){_.current&&0!=_.current.getBoundingClientRect().height&&l(a,_.current.getBoundingClientRect().height+5)}),[]),(0,m.useEffect)((function(){x&&p(a)}),[k]);var W=function(e,t){var n=null;return e.props&&e.props.item&&e.props.item.props&&e.props.item.props.value&&e.props.item.props.value[t]&&(n=e.props.item.props.value[t]),n},q=function(e){var t=e.target,n=t.placeholder,a=t.value,o=n.toLowerCase();$(Oe(Oe({},U),{},(0,S.Z)({},o,a)))},K=function(e){e.preventDefault();var t=e.target,n=t.placeholder,i=t.value;if("Name"==n){if(y.includes(i.toLowerCase())&&(0,h.gz)("Error: TypeName MUST NOT be a JADN predefined type"),i.length>=64)return void(0,h.gz)("Error: Max length reached");i.includes(o.$Sys)&&(0,h.gz)("Error: TypeNames SHOULD NOT contain the System character"),new RegExp(o.$TypeName,"g").test(i)||(0,h.gz)("Error: TypeName format is not permitted")}var r=n.toLowerCase(),l=Oe(Oe({},U),{},(0,S.Z)({},r,i));JSON.stringify(L)!=JSON.stringify(l)&&($(l),c(l,a))},X=function(e){e.preventDefault(),B(!0)},Q=function(e){Y(),(0,h.wu)();var t=(0,w.Z)(U.options);if(JSON.stringify(t)!==JSON.stringify(e)){var n=Oe(Oe({},U),{},{options:e});("Enumerated"==n.type&&n.options.find((function(e){return e.startsWith("#")}))||n.options.find((function(e){return e.startsWith(">")})))&&(n=Oe(Oe({},n),{},{fields:[]})),$(n),c(n,a)}},Y=function(){P((function(e){return!e}))};return U.options&&(U.options.find((function(e){return e.startsWith("#")}))||U.options.find((function(e){return e.startsWith(">")})))?m.createElement(m.Fragment,null,m.createElement("div",{className:"card mb-3",ref:_,style:r},m.createElement("div",{className:"card-header px-2 py-2",ref:Z},(0,d.Z)("span",{id:U.name,className:"col-sm-10 px-1 my-1"},void 0,"".concat(U.name," (").concat(U.type,")")),(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-danger float-end",onClick:X},void 0,be||(be=(0,d.Z)(b.G,{icon:f.uMC})))),(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"name-".concat(a),className:"mb-0"},void 0,"Name")),(0,d.Z)("div",{className:"col-md-6 offset-md-2"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(a),className:"mb-0"},void 0,"Comment"))),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("input",{id:"name-".concat(a),name:"name",type:"text",placeholder:"Name",className:"form-control",maxLength:64,value:U.name,onChange:q,onBlur:K})),(0,d.Z)("div",{className:"col-md-2 text-center px-0"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-primary btn-sm p-2","data-bs-toggle":"modal","data-bs-target":"#optionsModal",onClick:Y},void 0,"Type Options"),(0,d.Z)(fe,{id:"".concat(a),optionValues:U.options,isOpen:T,optionType:U.type,toggleModal:Y,saveModal:Q,modalSize:O.lg})),(0,d.Z)("div",{className:"col-md-6"},void 0,(0,d.Z)("input",{id:"comment-".concat(a),name:"comment",type:"textarea",placeholder:"Comment",className:"form-control text-area-w100",value:U.comment,onChange:q,onBlur:K})))))))):m.createElement(m.Fragment,null,m.createElement(e,(0,E.Z)({isEditableID:H,rowRef:_,inViewRef:Z,valueObj:U,setValueObj:$,onRemoveItemClick:X,onChange:q,onBlur:K,modal:T,toggleModal:Y,saveModal:Q,sortFields:function(e){e.preventDefault();var t=(0,w.Z)(U.fields);t.sort((function(e,t){return e[0]-t[0]}));var n=Oe(Oe({},U),{},{fields:t});$(n),c(n,a)},fieldChange:function(e,t){if(U.fields.filter((function(t){var n=W(t,0);return n?n==e[0]:null})).length>1)(0,h.gz)("Error: FieldID must be unique");else if(U.fields.filter((function(t){var n=W(t,1);return n?n==e[1]:null})).length>1)(0,h.gz)("Error: FieldName must be unique");else{"number"!=typeof e[0]&&(e[0]=parseInt(e[0]));var n=(0,w.Z)(U.fields);n[t]=e;var o=Oe(Oe({},U),{},{fields:n});$(o),c(o,a)}},onFieldRemoval:function(e){var t,n=(0,w.Z)(U.fields);e+1==(null===(t=U.fields)||void 0===t?void 0:t.length)?n.pop():n.splice(e,1),H||(n=n.map((function(e,t){return e[0]=t+1,e})));var o=Oe(Oe({},U),{},{fields:n});$(o),c(o,a)},onAddField:function(e){var t,n,r,l,s;if(e.preventDefault(),o.$MaxElements&&(null===(t=U.fields)||void 0===t?void 0:t.length)>o.$MaxElements)(0,h.gz)("Error: Field count exceeds $MaxElements. Please remove ".concat((null===(s=U.fields)||void 0===s?void 0:s.length)-o.$MaxElements," field(s)."));else if(o.$MaxElements&&(null===(n=U.fields)||void 0===n?void 0:n.length)==o.$MaxElements)(0,h.gz)("Error: Field count meets $MaxElements. Cannot add more fields.");else{var d=(null===(r=U.fields)||void 0===r?void 0:r.length)+1,u=U.fields.map((function(e){return e[0]}));if(u.includes(d))d=Math.max.apply(Math,(0,w.Z)(u))+1;var m="field_value_"+d;l="enumerated"===U.type.toLowerCase()?[d,m,""]:[d,m,"String",[],""];var v=[].concat((0,w.Z)(U.fields),[l]),p=Oe(Oe({},U),{},{fields:v});(0,N.flushSync)((function(){$(p)})),c(p,a),i(!1,a)}}},t,{structureEditor:!0})),(0,d.Z)(C,{isOpen:A,title:"Remove ".concat(J),message:"Are you sure you want to remove ".concat(J,"?"),confirm_value:a,onResponse:function(e,t){B(!1),1==e&&s(t)}}))}var n=e.displayName||e.name||"Component";return t.displayName="withStructureEditor(".concat(n,")"),t}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){function t(t){var n=t.enumerated,a=t.value,o=t.dataIndex,i=t.change,r=t.config,l=t.remove,c=(0,z.C)((function(e){return Object.keys(e.Util.types.schema)}),v.wU),s={base:(0,z.C)((function(e){return e.Util.types.base})).filter((function(e){return"primitive"==H[e.toLowerCase()].type||"ArrayOf"==H[e.toLowerCase()].key||"MapOf"==H[e.toLowerCase()].key})),schema:c},p=(0,m.useState)(!1),f=(0,u.Z)(p,2),b=f[0],y=f[1],g=(0,m.useState)(!1),Z=(0,u.Z)(g,2),N=Z[0],O=Z[1],x=n?F:D,k=(0,j.$R)(x,a),I=(0,m.useState)(k),T=(0,u.Z)(I,2),P=T[0],M=T[1],R=(0,m.useState)({value:P.type,label:P.type}),A=(0,u.Z)(R,2),B=A[0],L=A[1],V=n?P.value:P.name,G=function(){y(!b)};return m.createElement(m.Fragment,null,m.createElement(e,(0,E.Z)({onBlur:function(e){var t=e.target,n=t.placeholder,a=t.value;if("Name"==n){if(a.includes("/"))return void(0,h.gz)('Error: FieldNames MUST NOT contain the JSON Pointer field separator "/", which is reserved for use in the Pointers extension.');if(a.length>=64)return void(0,h.gz)("Error: Max length reached");new RegExp(r.$FieldName,"g").test(a)||(0,h.gz)("Error: FieldName format is not permitted")}var l=n.toLowerCase(),c=Se(Se({},P),{},(0,S.Z)({},l,a));JSON.stringify(k)!=JSON.stringify(c)&&(M(c),i((0,j.TT)(c),o))},onSelectChange:function(e){var t;null==e?(L({value:"String",label:"String"}),t=Se(Se({},P),{},(0,S.Z)({options:[]},"type","String"))):(L(e),t=Se(Se({},P),{},(0,S.Z)({options:[]},"type",e.value))),M(t),i((0,j.TT)(t),o)},onChange:function(e){var t=e.target,a=t.placeholder,o=t.value;n&&(o||(0,h.gz)("Value required for Enum"));var i=a.toLowerCase();M(Se(Se({},P),{},(0,S.Z)({},i,o)))},onRemoveItemClick:function(e){e.preventDefault(),O(!0)},modal:b,saveModal:function(e){G(),(0,h.wu)();var t=(0,w.Z)(P.options);if(JSON.stringify(t)!==JSON.stringify(e)){var n=Se(Se({},P),{},{options:e});M(n),i((0,j.TT)(n),o)}},toggleModal:G,valueObj:P,valType:B,types:s,enumerated:n},t)),(0,d.Z)(C,{isOpen:N,title:"Remove ".concat(V),message:"Are you sure you want to remove ".concat(V,"?"),confirm_value:o,onResponse:function(e,t){O(!1),1==e&&l(t)}}))}var n=e.displayName||e.name||"Component";return t.displayName="withFieldEditor(".concat(n,")"),t}var ke,Ee,je,Ie,De,Fe=xe((0,m.memo)((function(e){var t,n=e.enumerated,a=e.valueObj,o=e.valType,i=e.value,r=e.parentIndex,l=e.dataIndex,c=e.isFirst,s=e.isLast,u=e.changeIndex,v=e.onChange,p=e.onBlur,y=e.onSelectChange,g=e.editableID,Z=e.types,h=e.modal,N=e.saveModal,C=e.toggleModal,w=e.onRemoveItemClick;return m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"card mb-2"},void 0,(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,(0,d.Z)("div",{className:"btn-group float-end",role:"group","aria-label":"first button group"},void 0,!c&&(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(){return u(i,l,l-1)},title:"Move Field Up"},void 0,ye||(ye=(0,d.Z)(b.G,{icon:f.NB}))),!s&&(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(){return u(i,l,l+1)},title:"Move Field Down"},void 0,ge||(ge=(0,d.Z)(b.G,{icon:f.ytj})))),(0,d.Z)("button",{type:"button",className:"btn btn-danger btn-sm float-end",onClick:w,title:"Delete Field"},void 0,Ze||(Ze=(0,d.Z)(b.G,{icon:f.uMC}))),n?(0,d.Z)("div",{className:"row m-0"},void 0,(0,d.Z)("div",{className:"col-md-2"},void 0,(0,d.Z)("label",{htmlFor:"id-".concat(r,"-").concat(l)},void 0,"ID"),(0,d.Z)("input",{id:"id-".concat(r,"-").concat(l),name:"id",type:"number",placeholder:"ID",className:"form-control",value:a.id,onChange:v,onBlur:p})),(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"value-".concat(r,"-").concat(l)},void 0,"Value"),(0,d.Z)("input",{id:"value-".concat(r,"-").concat(l),name:"value",type:"text",placeholder:"Value",className:"form-control",value:a.value,onChange:v,onBlur:p})),(0,d.Z)("div",{className:"col-md-6"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(r,"-").concat(l)},void 0,"Comment"),(0,d.Z)("input",{id:"comment-".concat(r,"-").concat(l),name:"comment",type:"textarea",className:"form-control",placeholder:"Comment",value:a.comment,onChange:v,onBlur:p}))):m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-2"},void 0,(0,d.Z)("label",{htmlFor:"id-".concat(r,"-").concat(l),className:"mb-0"},void 0,"ID"),(0,d.Z)("input",{id:"id-".concat(r,"-").concat(l),name:"id",type:"number",placeholder:"ID",className:g?"form-control":"form-control-plaintext",value:a.id,onChange:v,onBlur:p,readOnly:!g,title:"".concat(g?"":"If BaseType is Array or Record, FieldID MUST be the ordinal position of the field within the type, numbered consecutively starting at 1.")})),(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"name-".concat(r,"-").concat(l),className:"mb-0"},void 0,"Name"),(0,d.Z)("input",{id:"name-".concat(r,"-").concat(l),name:"name",type:"text",placeholder:"Name",className:"form-control",maxLength:64,value:a.name,onChange:v,onBlur:p})),(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"type-".concat(r,"-").concat(l),className:"mb-0"},void 0,"Type"),(0,d.Z)(P.ZP,{id:"type-".concat(r,"-").concat(l),name:"type",value:o,onChange:y,data:Z,isGrouped:!0,isCreatable:!0,isClearable:!0})),(0,d.Z)("div",{className:"col-md-2 d-flex"},void 0,t||(t=(0,d.Z)("button",{type:"button",className:"btn btn-primary btn-sm p-2 mt-auto","data-bs-toggle":"modal","data-bs-target":"#optionsModal",onClick:C},void 0,"Field Options")),(0,d.Z)(fe,{id:"".concat(r,"-").concat(l),optionValues:a.options||[],isOpen:h,saveModal:N,toggleModal:C,optionType:a.type,modalSize:O.lg,fieldOptions:!0}))),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(r,"-").concat(l),className:"mb-0"},void 0,"Comment"),(0,d.Z)("input",{id:"comment-".concat(r,"-").concat(l),name:"comment",type:"textarea",placeholder:"Comment",className:"form-control",value:a.comment,onChange:v,onBlur:p})))))))})));function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me,Re,Ae=Ce((0,m.memo)((function(e){var t=e.dataIndex,n=e.config,a=e.customStyle,o=e.change,i=e.valueObj,r=e.setValueObj,l=e.isEditableID,c=e.fieldChange,s=e.onFieldRemoval,u=e.onAddField,v=e.rowRef,p=e.inViewRef,y=e.saveModal,g=e.toggleModal,Z=e.modal,N=e.onRemoveItemClick,O=e.onChange,C=e.onBlur,S=e.fieldCollapse,x=e.setFieldCollapse,k=e.sortFields,E=function(e,n,a){var c=(0,w.Z)(i.fields);if(a<0)(0,h.gz)("Error: Cannot move Type up anymore");else if(a>=c.length)(0,h.gz)("Error: Cannot move Type down anymore");else{var s=c[a];if(!l){var d=e[0],u=s[0];s[0]=d,e[0]=u}c[n]=s,c[a]=e;var m=Pe(Pe({},i),{},{fields:c});r(m),o(m,t)}},j=[];if(i.fields)for(var I=0;I<i.fields.length;++I)j.push((0,d.Z)(Fe,{enumerated:"enumerated"===i.type.toLowerCase(),parentIndex:t,dataIndex:I,value:i.fields[I],change:c,remove:s,config:n,editableID:l,changeIndex:E,isFirst:0==I,isLast:I==i.fields.length-1},i.fields[I][0]));return m.createElement("div",{className:"card mb-3",id:"".concat(t),ref:v,style:a},m.createElement("div",{className:"card-header px-2 py-2",ref:p},(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{className:"badge rounded-pill text-bg-secondary me-2",title:"index"},void 0,t),(0,d.Z)("span",{id:i.name,className:"card-title pt-1"},void 0,"".concat(i.name," (").concat(i.type,")"))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-danger btn-sm float-end",onClick:N,title:"Delete ".concat(i.type)},void 0,ke||(ke=(0,d.Z)(b.G,{icon:f.uMC})))))),(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"name-".concat(t),className:"mb-0"},void 0,"Name"),(0,d.Z)("input",{id:"name-".concat(t),name:"name",type:"text",placeholder:"Name",maxLength:64,className:"form-control",value:i.name,onChange:O,onBlur:C})),(0,d.Z)("div",{className:"col-md-2 mt-4 text-center"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-primary btn-sm p-2","data-bs-toggle":"modal","data-bs-target":"#optionsModal",onClick:g},void 0,"Type Options"),(0,d.Z)(fe,{id:"".concat(t),optionValues:i.options,isOpen:Z,optionType:i.type,toggleModal:g,saveModal:y})),(0,d.Z)("div",{className:"col-md-6"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(t),className:"mb-0"},void 0,"Comment"),(0,d.Z)("input",{id:"comment-".concat(t),name:"comment",type:"textarea",placeholder:"Comment",className:"form-control",value:i.comment,onChange:O,onBlur:C}))),(0,d.Z)("div",{className:"row pt-2"},void 0,(0,d.Z)("div",{className:"col-12"},void 0,(0,d.Z)("span",{},void 0,"Enumerated"==i.type?"Items":"Fields"," ",(0,d.Z)("span",{className:"badge rounded-pill text-bg-secondary"},void 0,j.length),(0,d.Z)("span",{className:"badge rounded-pill text-bg-primary cursor-pointer",title:"Add Field",onClick:u},void 0,Ee||(Ee=(0,d.Z)(b.G,{icon:f.CPW}))),(0,d.Z)("a",{href:"#",role:"button",onClick:function(){return x(!S,t)}},void 0,(0,d.Z)(b.G,{icon:S?f.dWM:f.XSi,className:"float-end btn btn-sm",title:S?" Show Fields":" Hide Fields"})),l?(0,d.Z)("a",{href:"#",role:"button",onClick:k},void 0,je||(je=(0,d.Z)(b.G,{icon:f.DlO,className:"float-end btn btn-sm",title:"Sort Fields by ID"}))):""),(0,d.Z)("div",{},void 0,!S&&j),S||0!=j.length?"":Ie||(Ie=(0,d.Z)("p",{className:"mb-2"},void 0," No fields to show")),!S&&(0,d.Z)("button",{type:"button",onClick:u,className:"btn btn-sm btn-primary btn-block rounded-pill",title:"Add Field"},void 0,De||(De=(0,d.Z)(b.G,{icon:f.CPW})))))))}))),Be=n(5109),Le=n(6224),ze=n(994),Ve=n(7145),Ge=n.n(Ve),Ue=n(6487),$e=xe((0,m.memo)((function(e){var t,n=e.editableID,a=e.enumerated,o=e.value,i=e.parentIndex,r=e.dataIndex,l=e.acceptableType,c=e.moveCard,s=e.id,v=e.dropCard,p=e.isDragging,y=e.valueObj,g=e.valType,Z=e.onChange,h=e.onBlur,N=e.onSelectChange,C=e.modal,w=e.saveModal,S=e.toggleModal,x=e.onRemoveItemClick,k=e.types,E=(0,m.useRef)(null),j=(0,m.useRef)(null),I=r,D=(0,Ue.c)((function(){return{type:l,item:function(){return{id:s,originalIndex:I,dataIndex:r,value:o}},collect:function(e){return{item:e.getItem(),handlerId:e.getHandlerId()}},end:function(e,t){t.didDrop()?v(e):c(e.value,e.originalIndex)}}}),[l,s,I,r,o]),F=(0,u.Z)(D,3),T=F[0].handlerId,M=F[1],R=F[2],A=(0,ze.L)({accept:l,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var n;if(j.current){var a=e.dataIndex,o=r;if(a!==o){var i=null===(n=j.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(i.bottom-i.top)/2,s=t.getClientOffset().y-i.top;a<o&&s<l||a>o&&s>l||(c(e.value,o),e.dataIndex=o)}}}}),B=(0,u.Z)(A,2)[1];M(E),B(R(j));var L=(0,m.useMemo)((function(){return{opacity:p?.4:1}}),[p]);return m.createElement(m.Fragment,null,m.createElement("div",{className:"card mb-2",ref:j,"data-handler-id":T,style:L},(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,m.createElement("div",{ref:E,style:{cursor:"move"}},Me||(Me=(0,d.Z)(b.G,{className:"float-end pt-1 pl-2 m-1",title:"Drag and drop to reorder",icon:f.QR4})),(0,d.Z)("a",{href:"#",role:"button",onClick:x},void 0,Re||(Re=(0,d.Z)(b.G,{className:"float-end pt-1 m-1",color:"red",title:"Delete Field",icon:f.uMC})))),a?(0,d.Z)("div",{className:"row m-0"},void 0,(0,d.Z)("div",{className:"col-md-2"},void 0,(0,d.Z)("label",{htmlFor:"id-".concat(i,"-").concat(r)},void 0,"ID"),(0,d.Z)("input",{id:"id-".concat(i,"-").concat(r),name:"id",type:"number",placeholder:"ID",className:"form-control",value:y.id,onChange:Z,onBlur:h})),(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"value-".concat(i,"-").concat(r)},void 0,"Value"),(0,d.Z)("input",{id:"value-".concat(i,"-").concat(r),name:"value",type:"text",placeholder:"Value",className:"form-control",value:y.value,onChange:Z,onBlur:h})),(0,d.Z)("div",{className:"col-md-6"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(i,"-").concat(r)},void 0,"Comment"),(0,d.Z)("input",{id:"comment-".concat(i,"-").concat(r),name:"comment",type:"textarea",className:"form-control",placeholder:"Comment",value:y.comment,onChange:Z,onBlur:h}))):m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-2"},void 0,(0,d.Z)("label",{htmlFor:"id-".concat(i,"-").concat(r),className:"mb-0"},void 0,"ID"),(0,d.Z)("input",{id:"id-".concat(i,"-").concat(r),name:"id",type:"number",placeholder:"ID",className:n?"form-control":"form-control-plaintext",value:y.id,onChange:Z,onBlur:h,readOnly:!n,title:"".concat(n?"":"If BaseType is Array or Record, FieldID MUST be the ordinal position of the field within the type, numbered consecutively starting at 1.")})),(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"name-".concat(i,"-").concat(r),className:"mb-0"},void 0,"Name"),(0,d.Z)("input",{id:"name-".concat(i,"-").concat(r),name:"name",type:"text",placeholder:"Name",className:"form-control",maxLength:64,value:y.name,onChange:Z,onBlur:h})),(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"type-".concat(i,"-").concat(r),className:"mb-0"},void 0,"Type"),(0,d.Z)(P.ZP,{id:"type-".concat(i,"-").concat(r),name:"type",value:g,onChange:N,data:k,isGrouped:!0,isCreatable:!0,isClearable:!0})),(0,d.Z)("div",{className:"col-md-2 d-flex"},void 0,t||(t=(0,d.Z)("button",{type:"button",className:"btn btn-primary btn-sm p-2 mt-auto","data-bs-toggle":"modal","data-bs-target":"#optionsModal",onClick:S},void 0,"Field Options")),(0,d.Z)(fe,{id:"".concat(i,"-").concat(r),optionValues:y.options||[],isOpen:C,saveModal:w,toggleModal:S,optionType:y.type,modalSize:O.lg,fieldOptions:!0}))),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(i,"-").concat(r),className:"mb-0"},void 0,"Comment"),(0,d.Z)("input",{id:"comment-".concat(i,"-").concat(r),name:"comment",type:"textarea",placeholder:"Comment",className:"form-control",value:y.comment,onChange:Z,onBlur:h})))))))})));const He=function(e){var t=e.id,n=e.items,a=void 0===n?[]:n,o=e.fieldChange,i=e.fieldRemove,r=e.onDrop,l=e.acceptableType,c=e.isEnumerated,s=(0,m.useState)(a.map((function(e){return{id:self.crypto.randomUUID(),value:e}}))),d=(0,u.Z)(s,2),v=d[0],p=d[1],f=(0,m.useState)(!1),b=(0,u.Z)(f,2),y=b[0],g=b[1],Z=(0,Be.N)().getMonitor(),h=(0,m.useRef)(),N=(0,m.useRef)(),O=function(e,t){h.current=setInterval((function(){t.scrollBy(0,e)}),1)};(0,m.useEffect)((function(){y?N.current=Z.subscribeToOffsetChange((function(){var e=Z.getClientOffset(),n=document.getElementById(t);e&&n&&(e.y<n.clientHeight/2-200?(h.current&&clearInterval(h.current),O(-5,n)):e.y>n.clientHeight/2+200?(h.current&&clearInterval(h.current),O(5,n)):e.y>n.clientHeight/2-200&&e.y<n.clientHeight/2+200&&h.current&&clearInterval(h.current))})):N.current&&(h.current&&clearInterval(h.current),N.current())}),[y,Z]),(0,m.useEffect)((function(){var e=Z.subscribeToStateChange((function(){Z.isDragging()?g((function(){return!0})):Z.isDragging()||g((function(){return!1}))}));return function(){e()}}),[Z]);var C=(0,m.useCallback)((function(e){r(e)}),[v]),w=(0,m.useCallback)((function(e,t){var n=v.findIndex((function(t){return t.value==e}));p((function(e){return Ge()(e,{$splice:[[n,1],[t,0,e[n]]]})}))}),[v,p]),S=(0,Le.f)((function(e){return{isDragging:e.isDragging(),item:e.getItem()}})),x=S.isDragging,k=S.item,j=(0,ze.L)((function(){return{accept:l,collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}}),[]),I=(0,u.Z)(j,2),D=I[0],F=D.canDrop,T=D.isOver,P=I[1],M=(0,m.useCallback)((function(t,n){return m.createElement($e,(0,E.Z)({key:t.id,dataIndex:n,value:t.value,change:o,remove:i,isDragging:k&&k.dataIndex==n,moveCard:w,dropCard:C,enumerated:c},e))}),[x,k,v]);return m.createElement("div",{id:t,className:"sb-outline mt-2",ref:P,style:{backgroundColor:F?T?"lightgreen":"rgba(0,0,0,.5)":"inherit",padding:"5px"}},v.map((function(e,t){return M(e,t)})))};var Je,_e,We,qe,Ke;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye,et=Ce((0,m.memo)((function(e){var t,n,a=e.dataIndex,o=e.config,i=e.customStyle,r=e.change,l=e.valueObj,c=e.setValueObj,s=e.isEditableID,u=e.fieldChange,v=e.onFieldRemoval,p=e.onAddField,y=e.rowRef,g=e.inViewRef,Z=e.saveModal,h=e.toggleModal,N=e.modal,C=e.onRemoveItemClick,S=e.onChange,x=e.onBlur,k=e.fieldCollapse,E=e.setFieldCollapse,j=e.sortFields;return m.createElement("div",{className:"card mb-2",id:"".concat(a),ref:y,style:i},m.createElement("div",{className:"card-header px-2 py-2",ref:g},(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{id:l.name,className:"card-title"},void 0," ","".concat(l.name," (").concat(l.type,")"))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("button",{type:"button",className:"float-end btn btn-danger btn-sm",onClick:C,title:"Delete ".concat(l.type)},void 0,Je||(Je=(0,d.Z)(b.G,{icon:f.uMC})))))),(0,d.Z)("div",{className:"card-body px-2 pt-2 pb-3"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"name-".concat(a),className:"mb-0"},void 0," Name ")),(0,d.Z)("div",{className:"col-md-6 offset-md-2"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(a),className:"mb-0"},void 0," Comment "))),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("input",{id:"name-".concat(a),name:"name",type:"text",className:"form-control",placeholder:"Name",maxLength:64,value:l.name,onChange:S,onBlur:x})),(0,d.Z)("div",{className:"col-md-2 text-center px-0"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-primary btn-sm p-2","data-bs-toggle":"modal","data-bs-target":"#optionsModal",onClick:h},void 0," Type Options "),(0,d.Z)(fe,{id:"".concat(a),optionValues:l.options,isOpen:N,optionType:l.type,toggleModal:h,saveModal:Z,modalSize:O.lg})),(0,d.Z)("div",{className:"col-md-6"},void 0,(0,d.Z)("input",{id:"comment-".concat(a),name:"comment",type:"textarea",placeholder:"Comment",className:"form-control",value:l.comment,onChange:S,onBlur:x}))))),(0,d.Z)("div",{className:"row pt-2"},void 0,(0,d.Z)("div",{className:"col-12"},void 0,(0,d.Z)("span",{},void 0,"Enumerated"==l.type?"Items":"Fields"," ",(0,d.Z)("span",{className:"badge rounded-pill text-bg-secondary"},void 0," ",null===(t=l.fields)||void 0===t?void 0:t.length," "),(0,d.Z)("span",{className:"badge rounded-pill text-bg-primary ms-1 cursor-pointer",title:"Add Field",onClick:p},void 0,_e||(_e=(0,d.Z)(b.G,{icon:f.CPW}))),(0,d.Z)("a",{href:"#",role:"button",onClick:function(){return E(!k,a)}},void 0,(0,d.Z)(b.G,{icon:k?f.dWM:f.XSi,className:"float-end btn btn-sm",title:k?" Show Fields":" Hide Fields"})),s?(0,d.Z)("a",{href:"#",role:"button",onClick:j},void 0,We||(We=(0,d.Z)(b.G,{icon:f.DlO,className:"float-end btn btn-sm",title:"Sort Fields by ID"}))):m.createElement(m.Fragment,null)),k?m.createElement(m.Fragment,null):0==(null===(n=l.fields)||void 0===n?void 0:n.length)?qe||(qe=(0,d.Z)("p",{},void 0,"No fields to show ")):(0,d.Z)("div",{},void 0,(0,d.Z)(He,{id:"fields-outline",items:l.fields,onDrop:function(e){var t=(0,w.Z)(l.fields);t.splice(e.originalIndex,1),t.splice(e.dataIndex,0,e.value),s||(t=t.map((function(e,t){return e[0]=t+1,e})));var n=Qe(Qe({},l),{},{fields:t});c(n),r(n,a)},isEnumerated:"enumerated"===l.type.toLowerCase(),fieldChange:u,fieldRemove:v,editableID:s,config:o,acceptableType:"".concat(a),parentIndex:a})),k?m.createElement(m.Fragment,null):(0,d.Z)("button",{type:"button",onClick:p,className:"btn btn-sm btn-primary btn-block rounded-pill",title:"Add Field"},void 0,Ke||(Ke=(0,d.Z)(b.G,{icon:f.CPW})))))))})));function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e){function t(t){var n,a=t.value,o=t.dataIndex,i=t.config,r=t.setRowHeight,l=t.change,c=t.setIsVisible,s=(0,he.YD)({fallbackInView:!0,threshold:1}),v=s.ref,p=s.inView,f=s.entry,b=(0,m.useState)(!1),y=(0,u.Z)(b,2),g=y[0],Z=y[1],N=(0,m.useState)(!1),O=(0,u.Z)(N,2),x=O[0],k=O[1];n=Number.isInteger(a[0])?(0,j.$R)(D,a):(0,j.$R)(I,a);var F=(0,m.useState)(n),T=(0,u.Z)(F,2),P=T[0],M=T[1],R=n.name,A=(0,m.useRef)();(0,m.useEffect)((function(){A.current&&0!=A.current.getBoundingClientRect().height&&r(o,A.current.getBoundingClientRect().height+5)}),[]),(0,m.useEffect)((function(){p&&c(o)}),[f]);var B=function(){Z((function(e){return!e}))};return m.createElement(m.Fragment,null,m.createElement(e,(0,E.Z)({valueObj:P,rowRef:A,inViewRef:v,onChange:function(e){var t=e.target,n=t.placeholder,a=t.value,o=n.toLowerCase();M(nt(nt({},P),{},(0,S.Z)({},o,a)))},onBlur:function(e){var t=e.target,a=t.placeholder,r=t.value;if("Name"==a){if(r.length>=64)return void(0,h.gz)("Error: Max length reached");r.includes(i.$Sys)&&(0,h.gz)("Error: TypeNames SHOULD NOT contain the System character"),new RegExp(i.$TypeName,"g").test(r)||(0,h.gz)("Error: TypeName format is not permitted")}var c=a.toLowerCase(),s=nt(nt({},P),{},(0,S.Z)({},c,r));JSON.stringify(n)!=JSON.stringify(s)&&(M(s),l(s,o))},modal:g,saveModal:function(e){B(),(0,h.wu)();var t=(0,w.Z)(P.options);if(JSON.stringify(t)!==JSON.stringify(e)){var n=nt(nt({},P),{},{options:e});M(n),l(n,o)}},toggleModal:B,onRemoveItemClick:function(e){e.preventDefault(),k(!0)}},t,{primitiveEditor:!0})),(0,d.Z)(C,{isOpen:x,title:"Remove ".concat(R),message:"Are you sure you want to remove ".concat(R,"?"),confirm_value:o,onResponse:function(e){if(k(!1),1==e){var n=t.dataIndex;(0,t.remove)(n)}}}))}var n=e.displayName||e.name||"Component";return t.displayName="withPrimitiveEditor(".concat(n,")"),t}var ot,it=at((0,m.memo)((function(e){var t=e.valueObj,n=e.dataIndex,a=e.customStyle,o=e.rowRef,i=e.inViewRef,r=e.onChange,l=e.onBlur,c=e.modal,s=e.toggleModal,u=e.saveModal,v=e.onRemoveItemClick;return m.createElement("div",{className:"card mb-3",id:"".concat(n),ref:o,style:a},m.createElement("div",{className:"card-header px-2 py-2",ref:i},(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{className:"badge rounded-pill text-bg-secondary me-2",title:"index"},void 0,n),(0,d.Z)("span",{id:t.name,className:"card-title pt-1"},void 0,"".concat(t.name," (").concat(t.type,")"))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-danger float-end",onClick:v,title:"Delete ".concat(t.type)},void 0,Ye||(Ye=(0,d.Z)(b.G,{icon:f.uMC})))))),(0,d.Z)("div",{className:"card-body px-2 py-2"},void 0,(0,d.Z)("div",{className:"row m-0"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"name-".concat(n),className:"mb-0"},void 0,"Name"),(0,d.Z)("input",{id:"name-".concat(n),name:"name",type:"text",placeholder:"Name",maxLength:64,className:"form-control",value:t.name,onChange:r,onBlur:l})),(0,d.Z)("div",{className:"col-md-2 mt-4 text-center"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-primary btn-sm p-2","data-bs-toggle":"modal","data-bs-target":"#optionsModal",onClick:s},void 0,"Type Options"),(0,d.Z)(fe,{id:"".concat(n),optionValues:t.options,isOpen:c,optionType:t.type,toggleModal:s,saveModal:u})),(0,d.Z)("div",{className:"col-md-6"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(n),className:"mb-0"},void 0,"Comment"),(0,d.Z)("input",{id:"comment-".concat(n),name:"comment",type:"textarea",placeholder:"Comment",className:"form-control",value:t.comment,onChange:r,onBlur:l})))))}))),rt=at((0,m.memo)((function(e){var t=e.valueObj,n=e.dataIndex,a=e.customStyle,o=e.rowRef,i=e.inViewRef,r=e.onChange,l=e.onBlur,c=e.modal,s=e.toggleModal,u=e.saveModal,v=e.onRemoveItemClick;return m.createElement(m.Fragment,null,m.createElement("div",{className:"card mb-3",id:"".concat(n),ref:o,style:a},m.createElement("div",{className:"card-header px-2 py-2",ref:i},(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{id:t.name,className:"card-title"},void 0,"".concat(t.name," (").concat(t.type,")"))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("button",{type:"button",className:"float-end btn btn-danger btn-sm",onClick:v,title:"Delete ".concat(t.type)},void 0,ot||(ot=(0,d.Z)(b.G,{icon:f.uMC})))))),(0,d.Z)("div",{className:"card-body px-2 pt-2 pb-3"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("label",{htmlFor:"name-".concat(n),className:"mb-0"},void 0,"Name")),(0,d.Z)("div",{className:"col-md-6 offset-md-2"},void 0,(0,d.Z)("label",{htmlFor:"comment-".concat(n),className:"mb-0"},void 0,"Comment"))),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-4"},void 0,(0,d.Z)("input",{id:"name-".concat(n),name:"name",type:"text",className:"form-control",placeholder:"Name",maxLength:64,value:t.name,onChange:r,onBlur:l})),(0,d.Z)("div",{className:"col-md-2 text-center px-0"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-primary btn-sm p-2","data-bs-toggle":"modal","data-bs-target":"#optionsModal",onClick:s},void 0,"Type Options"),(0,d.Z)(fe,{id:"".concat(n),optionValues:t.options,isOpen:c,optionType:t.type,toggleModal:s,saveModal:u})),(0,d.Z)("div",{className:"col-md-6"},void 0,(0,d.Z)("input",{id:"comment-".concat(n),name:"comment",type:"textarea",placeholder:"Comment",className:"form-control",value:t.comment,onChange:r,onBlur:l}))))))))}))),lt=function(e){var t=e.k,n=void 0===t?"key":t,a=e.v,o=void 0===a?"":a;return(0,S.Z)({},n,o)};const ct={package:{key:"Package*",edit:function(e){return lt({k:"package",v:e})},editor:function(e){return m.createElement(M,(0,E.Z)({},e,{id:"Package",name:"Package",description:"Unique name/version",fieldColumns:10,required:!0,removable:!0}))}},version:{key:"Version",edit:function(e){return lt({k:"version",v:e})},editor:function(e){return m.createElement(M,(0,E.Z)({},e,{id:"Version",name:"Version",fieldColumns:10,required:!1,removable:!0}))}},title:{key:"Title",edit:function(e){return lt({k:"title",v:e})},editor:function(e){return m.createElement(M,(0,E.Z)({},e,{id:"Title",name:"Title",fieldColumns:10,required:!1,removable:!0}))}},description:{key:"Description",edit:function(e){return lt({k:"description",v:e})},editor:function(e){return m.createElement(M,(0,E.Z)({},e,{id:"Description",name:"Description",fieldColumns:10,required:!1,removable:!0}))}},comment:{key:"Comment",edit:function(e){return lt({k:"comment",v:e})},editor:function(e){return m.createElement(M,(0,E.Z)({},e,{id:"Comment",name:"Comment",fieldColumns:10,required:!1,removable:!0}))}},copyright:{key:"Copyright",edit:function(e){return lt({k:"copyright",v:e})},editor:function(e){return m.createElement(M,(0,E.Z)({},e,{id:"Copyright",name:"Copyright",fieldColumns:10,required:!1,removable:!0}))}},license:{key:"License",edit:function(e){return lt({k:"license",v:e})},editor:function(e){return m.createElement(M,(0,E.Z)({},e,{id:"License",name:"License",fieldColumns:10,required:!1,removable:!0}))}},namespaces:{key:"Namespaces",edit:function(){return lt({k:"namespaces",v:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})},editor:function(e){return m.createElement(ae,(0,E.Z)({},e,{id:"Namespaces",name:"Namespaces",description:"Referenced packages"}))}},exports:{key:"Exports",edit:function(){return lt({k:"exports",v:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})},editor:function(e){return m.createElement(X,(0,E.Z)({},e,{id:"Exports",name:"Exports",description:"Type definitions exported by this module"}))}},config:{key:"Config",edit:function(){return lt({k:"config",v:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})},editor:function(e){return m.createElement(L,(0,E.Z)({},e,{id:"Config",name:"Config",description:"Configuration values for this module"}))}}};var st,dt=n(5861),ut=n(4687),mt=n.n(ut),vt=n(6477),pt=n(3432),ft=n(9460),bt=n(4371),yt=n(500),gt=n(1144),Zt=n(2016),ht=n(3820),Nt=n(5559);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt={$MaxBinary:bt.kK,$MaxString:bt.D3,$MaxElements:bt.BV,$Sys:bt.Zh,$TypeName:bt.rR,$FieldName:bt.iM,$NSID:bt.gH};function St(e){function t(t){var n=(0,v.I0)(),a=t.selectedFile,o=t.setSelectedFile,i=t.generatedSchema,r=t.setGeneratedSchema,l=t.setCardsState,c=t.fieldCollapseState,s=t.setFieldCollapseState,p=t.allFieldsCollapse,f=t.setAllFieldsCollapse,b=t.fieldCollapseStateRef;(0,m.useEffect)((function(){var e;i||(R(!1),s([])),n((0,g.LN)(i)),null===(e=ee.current)||void 0===e||e.resetAfterIndex(0,!0)}),[i]);var y=(0,m.useState)(wt),O=(0,u.Z)(y,2),C=O[0],w=O[1],x=(0,m.useState)({name:"",ext:ft.yA}),k=(0,u.Z)(x,2),j=k[0],I=k[1],D=(0,v.v9)(Z._r),F=(0,m.useRef)(null),T=(0,m.useState)(!1),P=(0,u.Z)(T,2),M=P[0],R=P[1],A=(0,m.useState)(!1),B=(0,u.Z)(A,2),L=B[0],z=B[1],V=(0,m.useState)(!1),G=(0,u.Z)(V,2),U=G[0],$=G[1],J=(0,m.useState)("creator"),_=(0,u.Z)(J,2),W=_[0],q=_[1],K=(0,m.useState)("info"),X=(0,u.Z)(K,2),Q=X[0],Y=X[1],ee=(0,m.useRef)(null),te=(0,m.useRef)({}),ne=(0,m.useCallback)((function(e,t){var n;te.current=Ct(Ct({},te.current),{},(0,S.Z)({},e,t)),null===(n=ee.current)||void 0===n||n.resetAfterIndex(0,!1)}),[]);(0,m.useEffect)((function(){b.current=c}),[c]),(0,m.useEffect)((function(){var e;if(b.current=c,null===(e=ee.current)||void 0===e||e.resetAfterIndex(0,!0),c.length>0){var t=0,n=0;for(var a in c)1!=c[a]&&0!=c[a]||(t++,1==c[a]&&n++);0==n&&0!=p?f(!1):0!=n&&n==t&&1!=p&&f(!0)}}),[c]);var ae=function(){var e=(0,dt.Z)(mt().mark((function e(t,n){var a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=16;break}if("string"!=typeof t){e.next=10;break}e.prev=2,t=JSON.parse(t),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),(0,h.gz)("Schema cannot be loaded: Invalid JSON"),e.abrupt("return");case 10:return e.next=12,oe(t);case 12:1==e.sent?($(!0),o(n),a={name:(0,pt.uP)(n.label),ext:(0,pt.B_)(n.label)},I(a),(0,N.flushSync)((function(){r(t),t.types?(l(t.types.map((function(e,t){return{id:self.crypto.randomUUID(),index:t,text:e[0],value:e,isStarred:!1,isVisibleInOutline:!0}}))),s(t.types.map((function(e){var t=e[1].toLowerCase();return"structure"!=H[t].type&&void 0})))):(l([]),s([]))}))):(0,h.gz)("Schema cannot be loaded: Invalid JADN"),e.next=17;break;case 16:(0,h.gz)("Schema cannot be loaded: Empty File");case 17:$(!1);case 18:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(e){return(0,h.wu)(),R(!1),e?(z(!0),n((0,vt.Fv)(e,ft.yA)).then((function(t){return z(!1),1==t.payload.valid_bool?(n((0,g.LN)(e)),R(!0),(0,h.T9)(t.payload.valid_msg),!0):((0,h.gz)(t.payload.valid_msg),t.payload.valid_syntax)})).catch((function(e){return z(!1),(0,h.gz)(e.payload.valid_msg),e.payload.valid_syntax}))):((0,h.gz)("Validation Error: No Schema to validate"),!1)};return(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-header p-2"},void 0,(0,d.Z)("div",{className:"row no-gutters"},void 0,(0,d.Z)("div",{className:"col-sm-3 align-self-center"},void 0,m.createElement(Nt.Z,{opts:D,selectedOpt:a,loadedFileData:i,fileName:j,setSelectedFile:o,onCancelFileUpload:function(e){e&&e.preventDefault(),(0,h.wu)(),R(!1),z(!1),$(!1),I({name:"",ext:ft.yA}),o(null),r(""),l([]),s([]),F.current&&(F.current.value="")},onFileChange:ae,ref:F,placeholder:"Select a schema...",loc:"schemas",isSaveable:!0})),(0,d.Z)("div",{className:"col-sm-9 align-self-center"},void 0,(0,d.Z)(yt.Z,{buttonId:"copyMessage",data:i,customClass:"float-end"}),(0,d.Z)(ht.ZP,{buttonId:"schemaDownload",filename:j.name,data:i,customClass:"float-end me-1"}),(0,d.Z)("button",{type:"button",onClick:function(){return q("schema")},className:"float-end btn btn-primary btn-sm me-1 ".concat("schema"==W?" d-none":""),title:"View in JSON"},void 0,"View JSON"),(0,d.Z)("button",{type:"button",onClick:function(){return q("creator")},className:"float-end btn btn-primary btn-sm me-1 ".concat("creator"==W?" d-none":""),title:"View via Input Form"},void 0,"View Form"),L?st||(st=(0,d.Z)(gt.Z,{action:"Validating",color:"primary"})):(0,d.Z)(Zt.Z,{isValid:M,setIsValid:R,setIsValidating:z,schemaData:i,schemaFormat:ft.yA,customClass:"float-end"})))),(0,d.Z)("div",{className:"card-body p-2"},void 0,m.createElement(e,(0,E.Z)({},t,{schemaCreator:!0,setIsValidating:z,setIsValidJADN:R,isLoading:U,setIsLoading:$,activeView:W,activeOpt:Q,setActiveOpt:Y,getItemSize:function(e){return te.current[e]||0},setRowHeight:ne,listRef:ee,configOpt:C,setConfigOpt:w,collapseAllFields:function(e){if(e.preventDefault(),1==!p&&c.length>0){var t=c.map((function(e){return!1===e||e}));s(t)}else if(0==!p&&c.length>0){var n=c.map((function(e){return!0!==e&&e}));s(n)}f(!p)}}))))}var n=e.displayName||e.name||"Component";return t.displayName="withSchemaCreator(".concat(n,")"),t}var xt,kt,Et,jt=n(2325),It=n(613),Dt=n(4288);function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Pt=function(e){var t=e.id,n=void 0===t?"sb-outline":t,a=e.title,o=e.visibleCard,i=e.cards,r=void 0===i?[]:i,l=e.onStarClick,c=e.onScrollToCard,s=e.changeIndex,v=(0,m.useState)(""),p=(0,u.Z)(v,2),y=p[0],g=p[1],Z=(0,m.useState)(r),h=(0,u.Z)(Z,2),N=h[0],O=h[1];(0,m.useEffect)((function(){O(C(r))}),[r,o,y]);var C=function(e){return e.map((function(e){return e.text.toLowerCase().includes(y.toLowerCase())?Tt(Tt({},e),{},{isVisibleInOutline:!0}):Tt(Tt({},e),{},{isVisibleInOutline:!1})}))},w=N.map((function(e,t){if(e.isVisibleInOutline){var n=t==o?"highlight-color":"",a=function(e){e.preventDefault(),c(t)};return""==y?(0,d.Z)("div",{className:"card ".concat(n)},t,(0,d.Z)("div",{className:"card-body list-group-item d-flex justify-content-between align-items-center"},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)("span",{onClick:function(){return l(t)}},void 0,(0,d.Z)(b.G,{className:"me-1",icon:1==e.isStarred?f.Tab:Dt.Tab})),(0,d.Z)("a",{title:"Click to view",href:"#".concat(t),onClick:a},void 0,e.text)),(0,d.Z)("div",{className:"btn-group",role:"group","aria-label":"button group"},void 0,0==t?"":(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(){return s(e.value,t,t-1)},title:"Move ".concat(e.text," Up")},void 0,xt||(xt=(0,d.Z)(b.G,{icon:f.NB}))),t==N.length-1?"":(0,d.Z)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:function(){return s(e.value,t,t+1)},title:"Move ".concat(e.text," Down")},void 0,kt||(kt=(0,d.Z)(b.G,{icon:f.ytj})))))):(0,d.Z)("div",{className:"card ".concat(n)},t,(0,d.Z)("div",{className:"card-body list-group-item d-flex justify-content-between align-items-center"},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)("span",{onClick:function(){return l(t)}},void 0,(0,d.Z)(b.G,{className:"me-1",icon:1==e.isStarred?f.Tab:Dt.Tab})),(0,d.Z)("a",{title:"Click to view",href:"#".concat(t),onClick:a},void 0,e.text))))}return null}));return(0,d.Z)("div",{id:"outlineScrollContainer"},void 0,N&&N.length>0?(0,d.Z)("div",{id:n},void 0,(0,d.Z)("ul",{className:"nav nav-pills"},void 0,(0,d.Z)("li",{className:"nav-item pb-0"},void 0,(0,d.Z)("a",{title:"An outline view of all the schema types",className:"active nav-link bg-primary"},void 0,a))),(0,d.Z)("div",{className:"input-group search",style:{paddingTop:"5px"}},void 0,Et||(Et=(0,d.Z)("span",{className:"input-group-text icon",id:"basic-addon1"},void 0,(0,d.Z)(b.G,{icon:f.Y$T}))),(0,d.Z)("input",{type:"search",id:"typesSearchBar",className:"form-control",placeholder:"Search...","aria-label":"Search",onChange:function(e){return g(e.target.value.trim())}})),(0,d.Z)("div",{className:"sb-outline mt-2"},void 0,(0,d.Z)("div",{},void 0,w))):m.createElement(m.Fragment,null))};var Mt,Rt,At,Bt,Lt,zt,Vt,Gt,Ut,$t,Ht=(0,m.memo)((function(e){var t=e.indexOpts,n=e.onSelectChange,a=e.insertAt;return(0,d.Z)("div",{className:"col"},void 0,Mt||(Mt=(0,d.Z)("ul",{className:"nav nav-pills"},void 0,(0,d.Z)("li",{className:"nav-item pb-0 mb-2"},void 0,(0,d.Z)("a",{className:"active nav-link bg-primary",title:"Enter numeric index to specify where to insert Type"},void 0,"Insert Type at Index")))),(0,d.Z)(P.ZP,{id:"addAtIndex",name:"addAtIndex",value:a,placeholder:"Select index to insert Types",onChange:n,data:t}),Rt||(Rt=(0,d.Z)("small",{className:"text-muted"},void 0,"(Default: end)")))}));function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt,qt={label:"end",value:"end"},Kt=(0,m.memo)((function(e){var t,n=e.selectedFile,a=e.generatedSchema,o=e.setGeneratedSchema,i=e.cardsState,r=e.setCardsState,l=e.getItemSize,c=e.listRef,s=e.setRowHeight,v=e.setIsValidJADN,p=e.setIsValidating,y=e.isLoading,g=e.activeOpt,Z=e.setActiveOpt,O=e.activeView,C=e.configOpt,S=e.setConfigOpt,E=e.fieldCollapseState,j=e.setFieldCollapseState,D=e.infoCollapse,F=e.setInfoCollapse,T=e.typesCollapse,P=e.setTypesCollapse,M=e.allFieldsCollapse,R=e.collapseAllFields,A=e.fieldCollapseStateRef,B=(0,m.useState)(null),L=(0,u.Z)(B,2),z=L[0],V=L[1],G=(0,m.useState)(qt),U=(0,u.Z)(G,2),$=U[0],J=U[1],_=a.types?1==a.types.length?[{value:"0",label:"".concat(a.types[0][0]," (beginning)")},{value:"end",label:"end"}]:a.types.map((function(e,t){return 0==t?{value:"0",label:"".concat(e[0]," (beginning)")}:t==a.types.length-1?{value:"end",label:"".concat(e[0]," (end)")}:{value:"".concat(t),label:"".concat(e[0]," (index: ").concat(t,")")}})):[qt];if((0,m.useEffect)((function(){_=a.types?1==a.types.length?[{value:"0",label:"".concat(a.types[0][0]," (beginning)")},{value:"end",label:"end"}]:a.types.map((function(e,t){return 0==t?{value:"0",label:"".concat(e[0]," (beginning)")}:t==a.types.length-1?{value:"end",label:"".concat(e[0]," (end)")}:{value:"".concat(t),label:"".concat(e[0]," (index: ").concat(t,")")}})):[qt];var e=a.types&&$?$.value:qt.value,t=_.filter((function(t){return t.value==e}));J(t?t[0]:qt)}),[a]),a.info){var W=Object.keys(ct).filter((function(e){return!Object.keys(a.info).includes(e)})),q=Object.fromEntries(Object.entries(ct).filter((function(e){var t=(0,u.Z)(e,1)[0];return W.includes(t)})));t=Object.keys(q).map((function(e){return(0,d.Z)("div",{className:"list-group-item  d-flex justify-content-between align-items-center p-2"},e,ct[e].key,(0,d.Z)("button",{type:"button",onClick:function(){return X(e)},className:"btn btn-sm btn-outline-primary",disabled:"file"==(null==n?void 0:n.value),title:"Add to Schema"},void 0,At||(At=(0,d.Z)(b.G,{icon:f.CPW}))))}))}else t=Object.keys(ct).map((function(e){return(0,d.Z)("div",{className:"list-group-item d-flex justify-content-between align-items-center p-2"},e,ct[e].key,(0,d.Z)("button",{type:"button",onClick:function(){return X(e)},className:"btn btn-sm btn-outline-primary",disabled:"file"==(null==n?void 0:n.value),title:"Add to Schema"},void 0,Bt||(Bt=(0,d.Z)(b.G,{icon:f.CPW}))))}));var K=Object.keys(H).map((function(e){return(0,d.Z)("div",{className:"list-group-item d-flex justify-content-between align-items-center p-2"},e,H[e].key,(0,d.Z)("button",{type:"button",onClick:function(){return X(e)},className:"btn btn-sm btn-outline-primary",disabled:"file"==(null==n?void 0:n.value),title:"Add to Schema"},void 0,Lt||(Lt=(0,d.Z)(b.G,{icon:f.CPW}))))})),X=function(e){if(Object.keys(ct).includes(e)){var t="config"==e?ct[e].edit(wt):ct[e].edit(),n=a.types?{info:_t(_t({},a.info||{}),t),types:(0,w.Z)(a.types)}:{info:_t(_t({},a.info||{}),t)};(0,N.flushSync)((function(){o(n)})),v(!1),p(!1);var l=document.getElementById("".concat(e));null==l||l.scrollIntoView()}else if(Object.keys(H).includes(e)){var c,s=a.types?(0,w.Z)(a.types):[],d=(0,w.Z)(i),u=(0,w.Z)(E),m=(0,pt.z$)(s,"".concat(H[e].key,"-Name")),f=H[e].edit({name:m}),b=(null===(c=a.types)||void 0===c?void 0:c.length)||0,y={id:self.crypto.randomUUID(),index:b,text:m,value:f,isStarred:!1};if(!$||$&&"end"==$.value)s.push(f),d.push(y),u="structure"==H[e].type?[].concat((0,w.Z)(E),[!1]):[].concat((0,w.Z)(E),[void 0]);else if("0"==$.value)y.index=0,s.unshift(f),d.unshift(y),u="structure"==H[e].type?[!1].concat((0,w.Z)(E)):[void 0].concat((0,w.Z)(E));else{var g=parseInt($.value);y.index=g,s=[].concat((0,w.Z)(s.slice(0,g)),[f],(0,w.Z)(s.slice(g))),d=[].concat((0,w.Z)(d.slice(0,g)),[y],(0,w.Z)(d.slice(g))),u="structure"==H[e].type?[].concat((0,w.Z)(E.slice(0,g)),[!1],(0,w.Z)(E.slice(g))):[].concat((0,w.Z)(E.slice(0,g)),[void 0],(0,w.Z)(E.slice(g)))}var Z=_t(_t({},a),{},{types:s});(0,N.flushSync)((function(){o(Z),r(d),j(u)})),v(!1),p(!1),Q(y.index)}else console.log("Error: OnDrop() in client/src/components/generate/schema/SchemaCreator.tsx")},Q=function(e){c.current.scrollToItem(e)},Y=Object.keys(ct).map((function(e,t){var n=e;return a.info&&e in a.info?ct[n].editor({key:self.crypto.randomUUID(),value:a.info[n],dataIndex:t,placeholder:e,change:function(e){"config"==n&&S(e);var t=_t(_t({},a),{},{info:_t(_t({},a.info),ct[n].edit(e))});o(t),v(!1),p(!1)},addTypeChange:function(e){var t=a.types.length,n=(0,w.Z)(a.types);n[t]=H[e.type.toLowerCase()].edit(e);var l=Object.values(e),c=[].concat((0,w.Z)(i),[{id:self.crypto.randomUUID(),index:t,isStarred:!1,text:e.name,value:l}]);0!=n.length?o((function(e){return _t(_t({},e),{},{types:n})})):a.info?o((function(e){return{info:_t({},e.info)}})):o({}),r(c),(0,h.T9)("Successfully added Export ".concat(e.name," to Types")),Q(t)},remove:function(e){if(a.info&&e in a.info){"config"==e&&S(wt);var t,n=_t({},a.info);if(delete n[e],0==Object.keys(n).length){var i=_t({},a);delete i.info,t=i}else t=_t(_t({},a),{},{info:n});o(t),v(!1),p(!1)}},config:C}):null})),ee=function(e){var t=e.data,n=e.index,l=e.style,c=t[n],d=c[1].toLowerCase();return Object.keys(H).includes(d)||((0,h.gz)("Error: ".concat(d," in Type definition [").concat(c,"] is not a valid type. Changing type to String.")),c[1]="String",d="string"),H[d].btneditor({key:self.crypto.randomUUID(),value:c,dataIndex:n,customStyle:_t(_t({},l),{},{height:"auto"}),setRowHeight:s,fieldCollapse:E[n],setFieldCollapse:function(e,t){var n=E.map((function(n,a){return a===t?e:n}));j(n)},setIsVisible:V,change:function(e,t){var n=(0,w.Z)(a.types);n[t]=H[e.type.toLowerCase()].edit(e);var l=Object.values(e),c=i.map((function(n,a){return a===t?_t(_t({},n),{},{text:e.name,value:l}):n}));0!=n.length?o((function(e){return _t(_t({},e),{},{types:n})})):a.info?o((function(e){return{info:_t({},e.info)}})):o({}),r(c),v(!1),p(!1)},remove:function(e){var t,n,l=a.types[e],c=a.types.filter((function(t,n){return n!=e})),s=i.filter((function(t,n){return n!=e}));if(0!=c.length?o((function(e){return _t(_t({},e),{},{types:c})})):a.info?o((function(e){return{info:_t({},e.info)}})):o({}),null!=a&&null!==(t=a.info)&&void 0!==t&&null!==(n=t.exports)&&void 0!==n&&n.includes(l[0])){var d=a.info.exports.filter((function(e){return e!=l[0]}));o((function(e){return _t(_t({},e),{},{info:_t(_t({},e.info),{},{exports:d})})}))}r(s),j(E.filter((function(t,n){return n!==e}))),v(!1),p(!1)},config:C})};return m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"tab-content mb-2"},void 0,(0,d.Z)("div",{className:"tab-pane fade ".concat("creator"==O?"show active":""),id:"creator",role:"tabpanel","aria-labelledby":"creator-tab",tabIndex:0},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{id:"schema-options",className:"col-sm-3 pr-1 card-body-scroller"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("ul",{className:"nav nav-pills pb-2",id:"editorKeys",role:"tablist"},void 0,(0,d.Z)("li",{className:"nav-item me-2"},void 0,(0,d.Z)("a",{className:"nav-link \n                                                    ".concat("info"!=g||"file"==(null==n?void 0:n.value)&&!a?"":" active bg-primary","\n                                                    ").concat("file"!=(null==n?void 0:n.value)||a?"":"disabled"),onClick:function(){return Z("info")},title:"meta data (about a schema package)","data-bs-toggle":"pill"},void 0,"Info")),(0,d.Z)("li",{className:"nav-item"},void 0,(0,d.Z)("a",{className:"nav-link \n                                                    ".concat("types"!=g||"file"==(null==n?void 0:n.value)&&!a?"":" active bg-primary","\n                                                    ").concat("file"!=(null==n?void 0:n.value)||a?"":"disabled"),onClick:function(){return Z("types")},title:"schema content (the information model)","data-bs-toggle":"pill"},void 0,"Types*"))),(0,d.Z)("div",{className:"tab-content mb-2"},void 0,(0,d.Z)("div",{className:"tab-pane fade ".concat("info"==g?"show active":""),id:"info",role:"tabpanel","aria-labelledby":"info-tab",tabIndex:0},void 0,(0,d.Z)("ul",{className:"list-group"},void 0,0!=t.length?t:zt||(zt=(0,d.Z)("div",{className:"col"},void 0,"No Info to add")))),(0,d.Z)("div",{className:"tab-pane fade ".concat("types"==g?"show active":""),id:"types",role:"tabpanel","aria-labelledby":"types-tab",tabIndex:0},void 0,(0,d.Z)("ul",{className:"list-group"},void 0,K))))),(0,d.Z)("div",{className:"row mt-2"},void 0,(0,d.Z)(Ht,{insertAt:$,indexOpts:_,onSelectChange:function(e){(null==e||parseInt(e.value)<0||parseInt(e.value)>a.types.length)&&((0,h.gz)("Invalid Index. Setting index to default: end."),e=qt),J(e)}})),(0,d.Z)("div",{className:"row mt-2"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)(Pt,{id:"schema-outline",cards:i,title:"Outline",visibleCard:z,changeIndex:function(e,t,n){var l=(0,pt.$R)(I,e),c=l.type.toLowerCase();if(n<0)(0,h.gz)("Error: Cannot move Type up anymore");else if(n>=a.types.length)(0,h.gz)("Error: Cannot move Type down anymore");else{var s=(0,w.Z)(a.types);s=s.filter((function(e,n){return n!==t})),s=[].concat((0,w.Z)(s.slice(0,n)),[H[c].edit(l)],(0,w.Z)(s.slice(n)));var d=_t(_t({},a),{},{types:s}),u=(0,w.Z)(i),m=u[t];u=u.filter((function(e,n){return n!==t})),u=[].concat((0,w.Z)(u.slice(0,n)),[m],(0,w.Z)(u.slice(n)));var f=A.current,b=f[t];f=f.filter((function(e,n){return n!==t})),f=[].concat((0,w.Z)(f.slice(0,n)),[b],(0,w.Z)(f.slice(n))),j(f),o(d),r(u),v(!1),p(!1),Q(t)}},onStarClick:function(e){var t=i.map((function(t,n){return n===e?_t(_t({},t),{},{isStarred:!t.isStarred}):t}));r(t)},onScrollToCard:Q})))),(0,d.Z)("div",{id:"schema-editor",className:"col-md-9 px-2 card-body-scroller"},void 0,y?Vt||(Vt=(0,d.Z)(gt.Z,{action:"Loading",isDiv:!0})):m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col pt-2"},void 0,(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-header bg-primary"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("h5",{id:"info",className:"card-title text-light"},void 0,"Info ",(0,d.Z)("small",{style:{fontSize:"10px"}},void 0," metadata "))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{},void 0,(0,d.Z)(b.G,{icon:D?f.dWM:f.XSi,className:"float-end btn btn-sm text-light",onClick:function(){return F(!D)},title:D?" Show Info":" Hide Info"}))))),(0,d.Z)("div",{className:"card-body"},void 0,!D&&(0,d.Z)("div",{},void 0,a.info?m.createElement(m.Fragment,null,Y):m.createElement(m.Fragment,null,Gt||(Gt=(0,d.Z)("p",{},void 0,"To add metadata info make a selection from Info")))))))),(0,d.Z)("div",{className:"row mt-2"},void 0,(0,d.Z)("div",{className:"col pt-2"},void 0,(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-header bg-primary"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("h6",{id:"types",className:"mb-0 pt-1 text-light"},void 0,"Types* ",(0,d.Z)("small",{style:{fontSize:"10px"}},void 0," schema content "))),(0,d.Z)("div",{className:"col"},void 0,a.types&&m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"btn-group btn-group-sm float-end",role:"group","aria-label":"Basic example"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return P(!T)}},void 0,T?"Show Types":" Hide Types",(0,d.Z)(b.G,{icon:T?f.dWM:f.XSi,className:"float-end btn btn-sm",title:T?"Show Types":"Hide Types"})),(0,d.Z)("button",{type:"button",className:"btn btn-secondary",onClick:R},void 0,M?"Show Fields":"Hide Fields",(0,d.Z)(b.G,{icon:M?f.dWM:f.XSi,className:"float-end btn btn-sm",title:M?"Show Fields":"Hide Fields"}))))))),(0,d.Z)("div",{className:"card-body"},void 0,!T&&(0,d.Z)("div",{},void 0,a.types?(0,d.Z)("div",{style:{height:"65vh"}},void 0,(0,d.Z)(k.ZP,{disableWidth:!0},void 0,(function(e){var t=e.height;return m.createElement(x.S_,{className:"List",height:t,itemCount:a.types.length||0,itemData:a.types,itemSize:l,width:"100%",ref:c},ee)}))):m.createElement(m.Fragment,null,Ut||(Ut=(0,d.Z)("p",{},void 0,"To add schema content make a selection from Types")))))))))))),(0,d.Z)("div",{className:"tab-pane fade ".concat("schema"==O?"show active":""),id:"schema",role:"tabpanel","aria-labelledby":"schema-tab",tabIndex:0},void 0,(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-body p-0"},void 0,(0,d.Z)(jt.Z,{data:a,isReadOnly:!0})))),$t||($t=(0,d.Z)(It.Z,{divID:"schema-editor"}))))})),Xt=St(Kt),Qt=n(8721);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn,nn={cursor:"move"},an="card",on=function(e){var t=e.id,n=e.text,a=e.index,o=e.value,i=e.isStarred,r=e.isVisible,l=e.isDraggable,c=e.scrollToCard,s=e.handleStarToggle,v=e.moveCard,p=e.addCard,y=e.dropCard,g=a,Z=(0,m.useState)(i),h=(0,u.Z)(Z,2),N=h[0],O=h[1],C=(0,m.useRef)(null),w=(0,ze.L)({accept:[an,"TypesKeys"],collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var n;if(C.current){var o=e.index,i=a;if(o!==i){var r=null===(n=C.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(r.bottom-r.top)/2,c=t.getClientOffset().y-r.top;o<i&&c<l||o>i&&c>l||(-1==e.index?p(e,i):v(e,o,i),e.index=i)}}}}),S=(0,u.Z)(w,2),x=S[0].handlerId,k=S[1],E=(0,Ue.c)({type:an,item:function(){return{id:t,originalIndex:g,index:a,text:n,value:o,isStarred:N}},end:function(e,t){t.didDrop()?(y(e,e.index,e.originalIndex),c(e.index)):v(e,e.index,e.originalIndex)},collect:function(e){return{isDragging:e.isDragging()}}}),j=(0,u.Z)(E,2),I=j[0].isDragging?0:1,D=r?"highlight-color":"";(0,j[1])(k(C));var F=function(e){e.preventDefault(),O((function(e){return!e})),s(a)},T=function(e){e.preventDefault(),c(a)};return l?(0,d.Z)("div",{className:"card"},void 0,m.createElement("div",{className:"card-body list-group-item d-flex justify-content-between align-items-center ".concat(D),ref:C,style:en(en({},nn),{},{opacity:I}),"data-handler-id":x},(0,d.Z)("div",{},void 0,(0,d.Z)("span",{onClick:F},void 0,(0,d.Z)(b.G,{className:"me-1",icon:N?f.Tab:Dt.Tab})),(0,d.Z)("a",{title:"Click to view",href:"#".concat(a),onClick:T},void 0,n)),Wt||(Wt=(0,d.Z)("div",{},void 0,(0,d.Z)(b.G,{className:"pt-1",title:"Drag and drop to reorder",icon:f.QR4}))))):(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-body list-group-item d-flex justify-content-between align-items-center ".concat(D),style:en(en({},nn),{},{opacity:I}),"data-handler-id":x},void 0,(0,d.Z)("div",{},void 0,(0,d.Z)("span",{onClick:F},void 0,(0,d.Z)(b.G,{className:"me-1",icon:N?f.Tab:Dt.Tab})),(0,d.Z)("a",{title:"Click to view",href:"#".concat(a),onClick:T},void 0,n))))};function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const cn=function(e){var t=e.id,n=void 0===t?"sb-outline":t,a=e.title,o=e.visibleCard,i=e.onDrop,r=e.onStarToggle,l=e.onScrollToCard,c=e.cards,s=void 0===c?[]:c,v=(0,m.useState)(s),p=(0,u.Z)(v,2),y=p[0],g=p[1],Z=(0,m.useRef)(y),h=(0,m.useState)(""),N=(0,u.Z)(h,2),O=N[0],C=N[1];(0,m.useEffect)((function(){g(H(s))}),[s,o,O]),(0,m.useEffect)((function(){Z.current=y}),[y]);var w=(0,m.useState)(!1),S=(0,u.Z)(w,2),x=S[0],k=S[1],E=(0,Be.N)().getMonitor(),j=(0,m.useRef)(),I=(0,m.useRef)(),D=(0,ze.L)((function(){return{accept:[an,"TypesKeys"],drop:function(e,t){return{item:e,location:"outline"}},collect:function(e){return{handlerId:e.getHandlerId(),canDrop:e.canDrop(),isOver:e.isOver()}}}}),[]),F=(0,u.Z)(D,2),T=F[0],P=T.handlerId,M=T.isOver,R=T.canDrop,A=F[1],B=function(e,t){j.current=setInterval((function(){t.scrollBy(0,e)}),1)};(0,m.useEffect)((function(){x?I.current=E.subscribeToOffsetChange((function(){var e=E.getClientOffset(),t=document.getElementById("outlineScrollContainer");e&&t&&(e.y<t.clientHeight/2-200?(j.current&&clearInterval(j.current),B(-5,t)):e.y>t.clientHeight/2+200?(j.current&&clearInterval(j.current),B(5,t)):e.y>t.clientHeight/2-200&&e.y<t.clientHeight/2+200&&j.current&&clearInterval(j.current))})):I.current&&(j.current&&clearInterval(j.current),I.current())}),[x,E]),(0,m.useEffect)((function(){var e=E.subscribeToStateChange((function(){E.isDragging()?k((function(){return!0})):E.isDragging()||k((function(){return!1}))}));return function(){e()}}),[E]);var L=function(e){l(e)},z=(0,m.useCallback)((function(e){var t=Z.current.map((function(t,n){return n===e?ln(ln({},t),{},{isStarred:!t.isStarred}):t}));g(t),r(t)}),[]),V=function(e,t,n){i(Z.current,t,n)},G=(0,m.useCallback)((function(e,t,n){g((function(e){return Ge()(e,{$splice:[[t,1],[n,0,e[t]]]})}))}),[]),U=(0,m.useCallback)((function(e,t){g((function(n){return Ge()(n,{$splice:[[t,0,e]]})}))}),[]),$=(0,m.useCallback)((function(e,t,n){return(0,d.Z)(on,{index:t,id:e.id,text:e.text,value:e.value,isVisible:t==o,isStarred:e.isStarred,isDraggable:!n,scrollToCard:L,addCard:U,moveCard:G,dropCard:V,handleStarToggle:z},e.id)}),[o]),H=function(e){return e.map((function(e){return e.text.toLowerCase().includes(O.toLowerCase())?ln(ln({},e),{},{isVisibleInOutline:!0}):ln(ln({},e),{},{isVisibleInOutline:!1})}))};return(0,d.Z)("div",{id:"outlineScrollContainer"},void 0,y&&y.length>0?(0,d.Z)("div",{id:n},void 0,(0,d.Z)("ul",{className:"nav nav-pills"},void 0,(0,d.Z)("li",{className:"nav-item pt-2"},void 0,(0,d.Z)("a",{title:"An outline view of all the schema types",className:"bg-primary nav-link text-light"},void 0,a))),(0,d.Z)("div",{className:"input-group search",style:{paddingTop:"5px"}},void 0,tn||(tn=(0,d.Z)("span",{className:"input-group-text icon",id:"basic-addon1"},void 0,(0,d.Z)(b.G,{icon:f.Y$T}))),(0,d.Z)("input",{type:"search",id:"typesSearchBar",className:"form-control",placeholder:"Search...","aria-label":"Search",onChange:function(e){return C(e.target.value.trim())}})),m.createElement("div",{className:"sb-outline",ref:A,"data-handler-id":P,style:{minHeight:"10em",backgroundColor:R?M?"lightgreen":"rgba(0,0,0,.5)":"inherit",paddingTop:"5px"}},(0,d.Z)("div",{},void 0,y.map((function(e,t){return e.isVisibleInOutline?$(e,t,""!=O):null}))))):m.createElement(m.Fragment,null))};var sn,dn,un,mn,vn,pn,fn=(0,m.memo)((function(e){var t=e.onDrop,n=e.acceptableType,a=e.children,o=(0,ze.L)((function(){return{accept:["".concat(n)],drop:function(e){if(t)return t(e),e},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}}),[t]),i=(0,u.Z)(o,2),r=i[0],l=r.isOver,c=r.canDrop,s=i[1],d=(0,m.useState)(!1),v=(0,u.Z)(d,2),p=v[0],f=v[1],b=(0,Be.N)().getMonitor(),y=(0,m.useRef)(),g=(0,m.useRef)(),Z=function(e,t){y.current=setInterval((function(){t.scrollBy(0,e)}),1)};return(0,m.useEffect)((function(){p?g.current=b.subscribeToOffsetChange((function(){var e=b.getClientOffset(),t=document.getElementById("DroppableScrollContainer");e&&t&&(e.y<t.clientHeight/2-200?(y.current&&clearInterval(y.current),Z(-5,t)):e.y>t.clientHeight/2+200?(y.current&&clearInterval(y.current),Z(5,t)):e.y>t.clientHeight/2-200&&e.y<t.clientHeight/2+200&&y.current&&clearInterval(y.current))})):g.current&&(y.current&&clearInterval(y.current),g.current())}),[p,b]),(0,m.useEffect)((function(){var e=b.subscribeToStateChange((function(){b.isDragging()?f((function(){return!0})):b.isDragging()||f((function(){return!1}))}));return function(){e()}}),[b]),m.createElement("div",{ref:s,style:{minHeight:"10em",backgroundColor:c?l?"lightgreen":"rgba(0,0,0,.5)":"inherit",opacity:l?.4:1,padding:"5px"},id:"DroppableScrollContainer"},a)})),bn=(0,m.memo)((function(e){var t=e.item,n=e.acceptableType,a=e.id,o=e.index,i=e.text,r=e.isDraggable,l=void 0===r||r,c=e.onTypesDrop,s=(0,Ue.c)((function(){return{type:n,item:{id:a,index:o,text:i},canDrag:l,end:function(e,t){var a=t.getDropResult();t.didDrop()&&"outline"==a.location&&"TypesKeys"==n&&c&&c(e)},collect:function(e){return{item:e.getItem(),isDragging:e.isDragging()}}}}),[t,n,l,c]),v=(0,u.Z)(s,2),p=v[0].isDragging,y=v[1],g=(0,m.useMemo)((function(){return{opacity:p||!l?.4:1,cursor:l?"move":"default"}}),[p,l]);return m.createElement("div",{ref:y,style:g},(0,d.Z)("li",{className:"list-group-item d-flex justify-content-between align-items-center p-2",title:"Drag and drop to add"},void 0,t,sn||(sn=(0,d.Z)(b.G,{icon:f.hx$}))))}));function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn,hn,Nn,On=(0,m.memo)((function(e){var t,n=e.selectedFile,a=e.generatedSchema,o=e.setGeneratedSchema,i=e.cardsState,r=e.setCardsState,l=e.getItemSize,c=e.listRef,s=e.setRowHeight,v=e.setIsValidJADN,p=e.setIsValidating,y=e.isLoading,g=e.activeOpt,Z=e.setActiveOpt,O=e.activeView,C=e.configOpt,S=e.setConfigOpt,E=e.fieldCollapseState,j=e.setFieldCollapseState,I=e.infoCollapse,D=e.setInfoCollapse,F=e.typesCollapse,T=e.setTypesCollapse,P=e.allFieldsCollapse,M=e.collapseAllFields,R=e.fieldCollapseStateRef,A=(0,m.useState)(null),B=(0,u.Z)(A,2),L=B[0],z=B[1],V=function(e){var t=e.text;if(Object.keys(ct).includes(t)){var n="config"==t?ct[t].edit(wt):ct[t].edit(),i=a.types?{info:gn(gn({},a.info||{}),n),types:(0,w.Z)(a.types)}:{info:gn(gn({},a.info||{}),n)};(0,N.flushSync)((function(){o(i)})),v(!1),p(!1);var l=document.getElementById("".concat(t));null==l||l.scrollIntoView()}else if(Object.keys(H).includes(t)){var c,s=a.types?(0,w.Z)(a.types):[],d=(0,pt.z$)(s,"".concat(H[t].key,"-Name")),u=H[t].edit({name:d});s.push(u);var m=(null===(c=a.types)||void 0===c?void 0:c.length)||0,f={id:self.crypto.randomUUID(),index:m,text:d,value:u,isStarred:!1};(0,N.flushSync)((function(){o((function(e){return gn(gn({},e),{},{types:s})})),r((function(e){return[].concat((0,w.Z)(e),[f])})),"structure"==H[t].type?j((function(e){return[].concat((0,w.Z)(e),[!1])})):j((function(e){return[].concat((0,w.Z)(e),[void 0])}))})),v(!1),p(!1),G(m)}},G=function(e){var t;null===(t=c.current)||void 0===t||t.scrollToItem(e)},U=function(e){var t,n=e.text,l=e.index,c=a.types?(0,w.Z)(a.types):[],s=(0,pt.z$)(c,"".concat(H[n].key,"-Name")),d=H[n].edit({name:s}),u=[].concat((0,w.Z)(c.slice(0,l)),[d],(0,w.Z)(c.slice(l))),m={id:self.crypto.randomUUID(),index:l,text:s,value:d,isStarred:!1},v=[].concat((0,w.Z)(i.slice(0,l)),[m],(0,w.Z)(i.slice(l)));t="structure"==H[n].type?[].concat((0,w.Z)(E.slice(0,l)),[!1],(0,w.Z)(E.slice(l))):[].concat((0,w.Z)(E.slice(0,l)),[void 0],(0,w.Z)(E.slice(l))),(0,N.flushSync)((function(){o((function(e){return gn(gn({},e),{},{types:u})})),r(v),j(t)})),p(!1),G(l)};if(a.info){var $=Object.keys(ct).filter((function(e){return!Object.keys(a.info).includes(e)})),J=Object.fromEntries(Object.entries(ct).filter((function(e){var t=(0,u.Z)(e,1)[0];return $.includes(t)})));t=Object.keys(J).map((function(e){return(0,d.Z)(bn,{item:ct[e].key,acceptableType:"InfoKeys",id:(0,Qt.Z)(),index:-1,text:e,isDraggable:"file"!=(null==n?void 0:n.value)},(0,Qt.Z)())}))}else t=Object.keys(ct).map((function(e){return(0,d.Z)(bn,{item:ct[e].key,acceptableType:"InfoKeys",id:(0,Qt.Z)(),index:-1,text:e,isDraggable:"file"!=(null==n?void 0:n.value)},(0,Qt.Z)())}));var _=Object.keys(H).map((function(e){return(0,d.Z)(bn,{item:H[e].key,acceptableType:"TypesKeys",id:(0,Qt.Z)(),index:-1,text:e,isDraggable:"file"!=(null==n?void 0:n.value),onTypesDrop:U},(0,Qt.Z)())})),W=Object.keys(ct).map((function(e,t){var n=e;return a.info&&e in a.info?ct[n].editor({key:self.crypto.randomUUID(),value:a.info[n],dataIndex:t,placeholder:e,change:function(e){"config"==n&&S(e),o((function(t){return gn(gn({},t),{},{info:gn(gn({},t.info),ct[n].edit(e))})})),v(!1),p(!1)},addTypeChange:function(e){var t,n=(null===(t=a.types)||void 0===t?void 0:t.length)||0,l=a.types?(0,w.Z)(a.types):[];l[n]=H[e.type.toLowerCase()].edit(e);var c=Object.values(e),s=[].concat((0,w.Z)(i),[{id:self.crypto.randomUUID(),index:n,isStarred:!1,text:e.name,value:c}]);0!=l.length?o((function(e){return gn(gn({},e),{},{types:l})})):a.info?o((function(e){return{info:gn({},e.info)}})):o({}),r(s),(0,h.T9)("Successfully added Export ".concat(e.name," to Types")),G(n)},remove:function(e){if(a.info&&e in a.info){"config"==e&&S(wt);var t,n=gn({},a.info);if(delete n[e],0==Object.keys(n).length){var i=gn({},a);delete i.info,t=i}else t=gn(gn({},a),{},{info:n});o(t),v(!1),p(!1)}},config:C}):null})),q=function(e){var t=e.data,n=e.index,l=e.style,c=t[n],d=c[1].toLowerCase();return Object.keys(H).includes(d)||((0,h.gz)("Error: ".concat(d," in Type definition [").concat(c,"] is not a valid type. Changing type to String.")),c[1]="String",d="string"),H[d].dndeditor({key:self.crypto.randomUUID(),value:c,dataIndex:n,customStyle:gn(gn({},l),{},{height:"auto"}),fieldCollapse:E[n],setFieldCollapse:function(e,t){var n=E.map((function(n,a){return a===t?e:n}));j(n)},setRowHeight:s,setIsVisible:z,change:function(e,t){var n=(0,w.Z)(a.types);n[t]=H[e.type.toLowerCase()].edit(e);var l=Object.values(e),c=i.map((function(n,a){return a===t?gn(gn({},n),{},{text:e.name,value:l}):n}));0!=n.length?o((function(e){return gn(gn({},e),{},{types:n})})):a.info?o((function(e){return{info:gn({},e.info)}})):o({}),r(c),v(!1),p(!1)},remove:function(e){var t,n,l=a.types[e],c=a.types.filter((function(t,n){return n!=e})),s=i.filter((function(t,n){return n!=e}));if(0!=c.length?o((function(e){return gn(gn({},e),{},{types:c})})):a.info?o((function(e){return{info:gn({},e.info)}})):o({}),null!=a&&null!==(t=a.info)&&void 0!==t&&null!==(n=t.exports)&&void 0!==n&&n.includes(l[0])){var d=a.info.exports.filter((function(e){return e!=l[0]}));o((function(e){return gn(gn({},e),{},{info:gn(gn({},e.info),{},{exports:d})})}))}r(s),j(E.filter((function(t,n){return n!==e}))),v(!1),p(!1)},config:C})};return m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"tab-content mb-2"},void 0,(0,d.Z)("div",{className:"container-fluid tab-pane fade ".concat("creator"==O?"show active":""),id:"creator",role:"tabpanel","aria-labelledby":"creator-tab",tabIndex:0},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{id:"schema-options",className:"col-sm-3 ps-0 card-body-scroller"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("ul",{className:"nav nav-pills pb-2",id:"editorKeys",role:"tablist"},void 0,(0,d.Z)("li",{className:"nav-item me-2"},void 0,(0,d.Z)("a",{className:"nav-link \n                                                    ".concat("info"!=g||"file"==(null==n?void 0:n.value)&&!a?"":" active bg-primary","\n                                                    ").concat("file"!=(null==n?void 0:n.value)||a?"":"disabled"),onClick:function(){return Z("info")},title:"meta data (about a schema package)","data-bs-toggle":"pill"},void 0,"Info")),(0,d.Z)("li",{className:"nav-item"},void 0,(0,d.Z)("a",{className:"nav-link \n                                                    ".concat("types"!=g||"file"==(null==n?void 0:n.value)&&!a?"":" active bg-primary","\n                                                    ").concat("file"!=(null==n?void 0:n.value)||a?"":"disabled"),onClick:function(){return Z("types")},title:"schema content (the information model)","data-bs-toggle":"pill"},void 0,"Types*"))),(0,d.Z)("div",{className:"tab-content mb-2"},void 0,(0,d.Z)("div",{className:"tab-pane fade ".concat("info"==g?"show active":""),id:"info",role:"tabpanel","aria-labelledby":"info-tab",tabIndex:0},void 0,(0,d.Z)("ul",{className:"list-group"},void 0,0!=t.length?t:dn||(dn=(0,d.Z)("div",{className:"col"},void 0,"No Info to add")))),(0,d.Z)("div",{className:"tab-pane fade ".concat("types"==g?"show active":""),id:"types",role:"tabpanel","aria-labelledby":"types-tab",tabIndex:0},void 0,(0,d.Z)("ul",{className:"list-group"},void 0,_))))),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)(cn,{id:"schema-outline",cards:i,title:"Outline",onDrop:function(e,t,n){var a,i=e.map((function(e){return e.value}));o((function(e){return gn(gn({},e),{},{types:i})})),r(e);var l=R.current,s=l[n];l=l.filter((function(e,t){return t!==n})),l=[].concat((0,w.Z)(l.slice(0,t)),[s],(0,w.Z)(l.slice(t))),j(l),null===(a=c.current)||void 0===a||a.resetAfterIndex(0,!1)},onStarToggle:function(e){r(e)},onScrollToCard:G,visibleCard:L})))),(0,d.Z)("div",{id:"schema-editor",className:"col-md-9 px-1 card-body-scroller"},void 0,y?un||(un=(0,d.Z)(gt.Z,{action:"Loading",isDiv:!0})):m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-header text-light bg-primary",style:{justifyContent:"center",display:"flex",flexDirection:"column"}},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("h5",{id:"info",className:"card-title text-light"},void 0,"Info ",(0,d.Z)("small",{style:{fontSize:"10px"}},void 0," metadata "))),(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("span",{},void 0,(0,d.Z)(b.G,{icon:I?f.dWM:f.XSi,className:"float-end btn btn-sm text-light",onClick:function(){return D(!I)},title:I?" Show Info":" Hide Info"}))))),(0,d.Z)("div",{className:"card-body"},void 0,!I&&(0,d.Z)(fn,{onDrop:V,acceptableType:"InfoKeys"},void 0,a.info?m.createElement(m.Fragment,null,W):m.createElement(m.Fragment,null,mn||(mn=(0,d.Z)("p",{},void 0,"To add metadata info click and drag items from Info")))))))),(0,d.Z)("div",{className:"row mt-2"},void 0,(0,d.Z)("div",{className:"col pt-2"},void 0,(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-header bg-primary"},void 0,(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col"},void 0,(0,d.Z)("h6",{id:"types",className:"pt-1 text-light"},void 0,"Types* ",(0,d.Z)("small",{style:{fontSize:"10px"}},void 0," schema content "))),(0,d.Z)("div",{className:"col"},void 0,a.types&&m.createElement(m.Fragment,null,(0,d.Z)("div",{className:"btn-group btn-group-sm float-end",role:"group","aria-label":"Basic example"},void 0,(0,d.Z)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return T(!F)}},void 0,F?"Show Types":" Hide Types",(0,d.Z)(b.G,{icon:F?f.dWM:f.XSi,className:"float-end btn btn-sm text-light",title:F?"Show Types":"Hide Types"})),(0,d.Z)("button",{type:"button",className:"btn btn-secondary",onClick:M},void 0,P?"Show Fields":"Hide Fields",(0,d.Z)(b.G,{icon:P?f.dWM:f.XSi,className:"float-end btn btn-sm text-light",title:P?"Show Fields":"Hide Fields"}))))))),(0,d.Z)("div",{className:"card-body"},void 0,!F&&(0,d.Z)(fn,{onDrop:V,acceptableType:"TypesKeys"},void 0,a.types?(0,d.Z)("div",{style:{height:"65vh"}},void 0,(0,d.Z)(k.ZP,{disableWidth:!0},void 0,(function(e){var t=e.height;return m.createElement(x.S_,{className:"List",height:t,itemCount:a.types.length||0,itemData:a.types,itemSize:l,width:"100%",ref:c,itemKey:function(){return self.crypto.randomUUID()}},q)}))):m.createElement(m.Fragment,null,vn||(vn=(0,d.Z)("p",{},void 0,"To add schema content click and drag items from Types")))))))))))),(0,d.Z)("div",{className:"tab-pane fade ".concat("schema"==O?"show active":""),id:"schema",role:"tabpanel","aria-labelledby":"schema-tab",tabIndex:0},void 0,(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-body p-0"},void 0,(0,d.Z)(jt.Z,{data:a,isReadOnly:!0})))),pn||(pn=(0,d.Z)(It.Z,{divID:"schema-editor"}))))})),Cn=St(On);const wn=function(){var e=(0,v.I0)(),t=(0,m.useState)(),n=(0,u.Z)(t,2),a=n[0],o=n[1],i=(0,m.useState)(""),r=(0,u.Z)(i,2),l=r[0],c=r[1],s=(0,m.useState)([]),N=(0,u.Z)(s,2),O=N[0],w=N[1],S=(0,m.useState)(!1),x=(0,u.Z)(S,2),k=x[0],E=x[1],j=(0,m.useState)(!1),I=(0,u.Z)(j,2),D=I[0],F=I[1],T=(0,m.useState)(!1),P=(0,u.Z)(T,2),M=P[0],R=P[1],A=(0,m.useState)(!1),B=(0,u.Z)(A,2),L=B[0],z=B[1],V=(0,m.useState)(!1),G=(0,u.Z)(V,2),U=G[0],$=G[1],H=(0,m.useState)(!1),J=(0,u.Z)(H,2),_=J[0],W=J[1],q=(0,m.useState)([]),K=(0,u.Z)(q,2),X=K[0],Q=K[1],Y=(0,m.useRef)(X),ee=(0,v.v9)(Z.pz)+" | Schema Creation",te="".concat(window.location.origin).concat(window.location.pathname);(0,m.useEffect)((function(){e((0,g.um)()),e((0,y.KK)()),(0,h.wu)()}),[e]);return m.createElement(m.Fragment,null,(0,d.Z)("div",{},void 0,(0,d.Z)(p.ql,{},void 0,(0,d.Z)("title",{},void 0,ee),(0,d.Z)("link",{rel:"canonical",href:te})),(0,d.Z)("div",{className:"row"},void 0,(0,d.Z)("div",{className:"col-md-12"},void 0,(0,d.Z)("div",{className:"card"},void 0,(0,d.Z)("div",{className:"card-header bg-secondary p-2"},void 0,(0,d.Z)("h5",{className:"m-0",style:{display:"inline"}},void 0,Zn||(Zn=(0,d.Z)("span",{className:"align-middle"},void 0,"Schema Creation"))),(0,d.Z)("div",{className:"btn-toolbar float-end",role:"toolbar","aria-label":"Toolbar with button groups"},void 0,(0,d.Z)("div",{className:"btn-group me-2",role:"group","aria-label":"First group"},void 0,(0,d.Z)("button",{type:"reset",className:"btn btn-sm btn-danger",onClick:function(e){e.preventDefault(),F(!0)}},void 0,"Reset")),(0,d.Z)("div",{className:"btn-group",role:"group","aria-label":"Third group"},void 0,(0,d.Z)("div",{className:"dropdown"},void 0,(0,d.Z)("button",{className:"btn btn-sm btn-primary",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","data-bs-display":"static","aria-haspopup":"true","aria-expanded":"false",title:"More Options...",onClick:function(){return E((function(e){return!e}))}},void 0,hn||(hn=(0,d.Z)(b.G,{icon:f.iV1}))),(0,d.Z)("ul",{className:"dropdown-menu dropdown-menu-end ".concat(k?"show":""),"aria-labelledby":"dropdownMenuButton"},void 0,Nn||(Nn=(0,d.Z)("li",{},void 0,(0,d.Z)("h6",{className:"dropdown-header"},void 0,"Editor Style"))),(0,d.Z)("li",{},void 0,(0,d.Z)("a",{href:"#",onClick:function(){R(!1),E(!1)},className:"dropdown-item ".concat(0==M?"active":"")},void 0,"Drag and Drop")),(0,d.Z)("li",{},void 0,(0,d.Z)("a",{href:"#",onClick:function(){R(!0),E(!1)},className:"dropdown-item ".concat(1==M?"active":"")},void 0,"Button"))))))),(0,d.Z)("div",{className:"card-body p-2"},void 0,M?(0,d.Z)(Xt,{selectedFile:a,setSelectedFile:o,generatedSchema:l,setGeneratedSchema:c,cardsState:O,setCardsState:w,fieldCollapseState:X,setFieldCollapseState:Q,allFieldsCollapse:_,setAllFieldsCollapse:W,infoCollapse:L,setInfoCollapse:z,typesCollapse:U,setTypesCollapse:$,fieldCollapseStateRef:Y}):(0,d.Z)(Cn,{selectedFile:a,setSelectedFile:o,generatedSchema:l,setGeneratedSchema:c,cardsState:O,setCardsState:w,fieldCollapseState:X,setFieldCollapseState:Q,allFieldsCollapse:_,setAllFieldsCollapse:W,infoCollapse:L,setInfoCollapse:z,typesCollapse:U,setTypesCollapse:$,fieldCollapseStateRef:Y})))))),(0,d.Z)(C,{isOpen:D,title:"Reset Schema",message:"Are you sure you want to reset the Schema?",onResponse:function(e){F(!1),1==e&&((0,h.wu)(),o(null),c(""),w([]))}}))}}}]);
//# sourceMappingURL=29.bundle.min.js.map