"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[17],{3820:(e,t,n)=>{n.d(t,{ZP:()=>k});var a,o,i,l,r,c,d,s=n(2928),u=n(1002),m=n(885),p=n(7294),v=n(9417),f=n(982),y=n(7921),b=n(1144),h=n(6683),g=n(3162),x=n.n(g),Z=n(9460);const k=function(e){var t,n=e.buttonId,g=e.data,k=e.customClass,N=e.filename,w=e.ext,O=void 0===w?Z.yA:w,D=(0,p.useState)(N),E=(0,m.Z)(D,2),F=E[0],C=E[1],S=(0,p.useState)(!1),z=(0,m.Z)(S,2),A=z[0],I=z[1],j=(0,p.useState)(!1),L=(0,m.Z)(j,2),T=L[0],B=L[1];t=O==Z.X1?a||(a=(0,s.Z)(f.G,{icon:v.gSj})):O==Z.Tx||O==Z.dK?o||(o=(0,s.Z)(f.G,{icon:v.Oi0})):i||(i=(0,s.Z)(f.G,{icon:v.kwI}));var R=function(e,t){if(e.preventDefault(),""!=F&&null!=F)if(Z.VN.test(F)){switch(t){case Z.X1:!function(e){e.preventDefault();var t="".concat(F,".pdf");B(!0);try{fetch("/api/convert/pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schema:g})}).then((function(e){return e.blob()})).then((function(e){var n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t,document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(n.href)})).catch((function(e){console.log(e),(0,y.gz)("PDF cannot be downloaded")}))}catch(e){console.log(e),(0,y.gz)("PDF cannot be downloaded")}(0,y.T9)("PDF downloaded successfully")}(e);break;case Z.Tx:!function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"graphviz";e.preventDefault();var a=null===(t=document.getElementById("fullGV"))||void 0===t?void 0:t.innerHTML;if(a){var o=new Blob([a],{type:"image/svg+xml"});x()(o,"".concat(n,".svg"))}else(0,y.gz)("Error: Unable to download GraphViz file.")}(e,F);break;case Z.dK:!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plantuml";x()(e,"".concat(t,".png"))}(g,F);break;default:!function(e,t){if(e.preventDefault(),g){B(!0);try{var n="".concat(F,".").concat(t),a="object"==(0,u.Z)(g)?(0,h.ny)(g):g,o=new Blob([a],{type:"application/json"}),i=document.createElement("a");i.href=URL.createObjectURL(o),i.download=n,document.body.appendChild(i),i.click(),setTimeout((function(){i.remove(),URL.revokeObjectURL(i.href)}),0),(0,y.T9)("File downloaded")}catch(e){console.log(e),(0,y.gz)("File cannot be downloaded")}}else(0,y.gz)("No data to download")}(e,O)}B(!1),I(!1)}else(0,y.e)("Please do not use special characters in file name.");else(0,y.e)("Please enter a file name.")};return p.createElement(p.Fragment,null,T?l||(l=(0,s.Z)(b.Z,{color:"primary"})):(0,s.Z)("button",{id:n||"downloadBtn",type:"button",title:"Download ".concat(O," File"),className:"btn btn-sm btn-primary "+k,onClick:function(e){e.preventDefault(),I(!0)}},void 0,t),(0,s.Z)("div",{id:"downloadFileModal",className:"modal fade ".concat(A?"show d-block":"d-none"),tabIndex:-1,role:"dialog"},void 0,(0,s.Z)("div",{className:"modal-dialog modal-dialog-centered",role:"document"},void 0,(0,s.Z)("div",{className:"modal-content"},void 0,(0,s.Z)("div",{className:"modal-header"},void 0,r||(r=(0,s.Z)("div",{className:"form col"},void 0,(0,s.Z)("div",{className:"form row"},void 0,(0,s.Z)("h5",{className:"modal-title"},void 0,"Download As...")),(0,s.Z)("div",{className:"form row"},void 0,(0,s.Z)("small",{className:"text-muted"},void 0," ","Download file to local computer")))),(0,s.Z)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",title:"Close",onClick:function(){return I(!1)}})),(0,s.Z)("div",{className:"modal-body"},void 0,(0,s.Z)("div",{className:"row"},void 0,c||(c=(0,s.Z)("label",{htmlFor:"filenameDownload",className:"col-sm-4 col-label"},void 0,"File name:")),(0,s.Z)("div",{className:"col-sm-8"},void 0,(0,s.Z)("input",{id:"filenameDownload",className:"form-control",type:"text",autoFocus:!0,value:F,onChange:function(e){C(e.target.value)}}))),(0,s.Z)("div",{className:"row"},void 0,d||(d=(0,s.Z)("label",{htmlFor:"downloadFileAsType",className:"col-sm-4 col-label"},void 0,"Save as type:")),(0,s.Z)("div",{className:"col-sm-8"},void 0,(0,s.Z)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",id:"downloadFileAsType",value:O})))),(0,s.Z)("div",{className:"modal-footer"},void 0,(0,s.Z)("button",{type:"button",className:"btn btn-sm btn-success",onClick:function(e){return R(e,O)}},void 0,"Download"),(0,s.Z)("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:function(){B(!1),I(!1)}},void 0,"Cancel")))),(0,s.Z)("div",{className:"modal-backdrop fade ".concat(A?"show":""),style:{zIndex:-1}})))}},5559:(e,t,n)=>{n.d(t,{Z:()=>b});var a,o=n(2928),i=n(5861),l=n(4687),r=n.n(l),c=n(7294),d=n(4858),s=n(9569),u=n(743),m=n(897),p=n(7921),v=n(9417),f=n(982),y=n(9460);const b=(0,c.forwardRef)((function(e,t){var n=(0,u.I0)(),l=e.customClass,b=e.opts,h=e.selectedOpt,g=e.loadedFileData,x=e.setSelectedFile,Z=e.placeholder,k=e.loc,N=e.acceptableExt,w=e.onCancelFileUpload,O=e.onFileChange,D=e.isSaveable,E=e.fileName,F=e.fileExt,C=void 0===F?y.yA:F;return c.createElement(c.Fragment,null,(0,o.Z)("div",{className:"d-flex + ".concat(l)},void 0,(0,o.Z)(s.ZP,{id:"file-select",data:b,onChange:function(e){var a;null!=e?"file"==e.value?(t.current.value="",null===(a=t.current)||void 0===a||a.click()):n((0,m.xl)(k,e.value)).then(function(){var t=(0,i.Z)(r().mark((function t(n){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.error){t.next=3;break}return(0,p.gz)(n.payload.response),t.abrupt("return");case 3:a=n.payload.data,O(a,e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){(0,p.gz)(e.payload.data),O()})):w(null)},placeholder:Z,loc:k,value:h,isGrouped:!0,isFileUploader:!0,isSmStyle:!0,isClearable:!0}),D&&(0,o.Z)(d.Z,{buttonId:"saveFile",toolTip:"Save as..",data:g,loc:k,customClass:"float-end ms-1",filename:null==E?void 0:E.name,ext:C,setDropdown:x})),(0,o.Z)("div",{className:"d-none"},void 0,c.createElement("input",{type:"file",id:"file-input",name:"file-input",accept:N,onChange:function(e){if(e.preventDefault(),e.target.files&&0!=e.target.files.length){var t=e.target.files[0],n=new FileReader;n.onload=function(e){if(e.target){var n=e.target.result;O(n,{value:t.name,label:t.name})}},n.readAsText(t)}},ref:t}),(0,o.Z)("button",{id:"cancelFileUpload",type:"button",className:"btn btn-sm btn-secondary ms-0",onClick:function(){return w},style:{display:"inline"}},void 0,a||(a=(0,o.Z)(f.G,{icon:v.g82})))))}))},613:(e,t,n)=>{n.d(t,{Z:()=>d});var a,o=n(2928),i=n(885),l=n(9417),r=n(982),c=n(7294);const d=function(e){var t=e.divID,n=(0,c.useState)(!1),d=(0,i.Z)(n,2),s=d[0],u=d[1];(0,c.useEffect)((function(){var e;return null===(e=document.getElementById(t))||void 0===e||e.addEventListener("scroll",m,!1),function(){var e;return null===(e=document.getElementById(t))||void 0===e?void 0:e.removeEventListener("scroll",m,!1)}}),[]);var m=function(){var e;t&&null!==(e=document.getElementById(t))&&void 0!==e&&e.scrollTop||window.scrollY>20||document.body.scrollTop>20||document.documentElement.scrollTop>20?u(!0):u(!1)};return(0,o.Z)("button",{id:"scrollToTopBtn",className:"btn btn-primary scroll-top-btn",title:"Scroll to the top of the page",onClick:function(e){var n;e.preventDefault(),null===(n=document.getElementById(t))||void 0===n||n.scrollTo({top:0,behavior:"smooth"})},style:{opacity:s?"55":"0"}},void 0,a||(a=(0,o.Z)(r.G,{icon:l.FPD})))}},2016:(e,t,n)=>{n.d(t,{Z:()=>f});var a,o,i,l=n(2928),r=n(9417),c=n(982),d=n(897),s=n(7294),u=n(743),m=n(7921),p=n(6477),v=n(9460);const f=function(e){var t=e.isValid,n=e.setIsValid,f=e.setIsValidating,y=e.schemaData,b=e.schemaFormat,h=e.customClass,g=(0,u.I0)(),x=function(e){try{g((0,p.Fv)(e,v.yA)).then((function(t){1==t.payload.valid_bool?(n(!0),g((0,d.LN)(e)),(0,m.T9)(t.payload.valid_msg)):(g((0,d.LN)(null)),(0,m.gz)(t.payload.valid_msg))})).catch((function(e){g((0,d.LN)(null)),(0,m.gz)(e.payload.valid_msg)})).finally((function(){f(!1)}))}catch(e){e instanceof Error&&(g((0,d.LN)(null)),f(!1),(0,m.gz)(e.message))}},Z=function(e){try{g((0,p.Fv)(e,v.uR)).then((function(t){1==t.payload.valid_bool?(n(!0),g((0,d.LN)(e)),(0,m.T9)(t.payload.valid_msg)):(g((0,d.LN)(null)),(0,m.gz)(t.payload.valid_msg))})).catch((function(e){g((0,d.LN)(null)),(0,m.gz)(e.payload.valid_msg)})).finally((function(){f(!1)}))}catch(e){e instanceof Error&&((0,m.gz)(e.message),f(!1),(0,m.gz)(e.message))}};return s.createElement(s.Fragment,null,(0,l.Z)("button",{id:"validateJADNButton",type:"button",className:"btn btn-sm btn-primary ms-1 me-1 + ".concat(h),title:t?"Schema is valid":"Click to validate Schema",onClick:function(e){if(e.preventDefault(),(0,m.wu)(),n(!1),!y)return(0,m.gz)("Validation Error: No Schema to validate"),void f(!1);f(!0);var t=y;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){return(0,m.gz)("Invalid JSON: ".concat(e.message)),void f(!1)}b==v.uR?Z(t):x(t),f(!1)}},void 0,a||(a=(0,l.Z)("span",{className:"m-1"},void 0,"Valid")),t?o||(o=(0,l.Z)("span",{className:"badge rounded-pill text-bg-success"},void 0,(0,l.Z)(c.G,{icon:r.LEp}))):i||(i=(0,l.Z)("span",{className:"badge rounded-pill text-bg-danger"},void 0,(0,l.Z)(c.G,{icon:r.g82})))))}},4371:(e,t,n)=>{n.d(t,{BV:()=>i,D3:()=>o,QP:()=>s,Zh:()=>l,gH:()=>d,iM:()=>c,kK:()=>a,rR:()=>r});var a=255,o=255,i=100,l="$",r="^[A-Z][-$A-Za-z0-9]{0,63}$",c="^[a-z][_A-Za-z0-9]{0,63}$",d="^[A-Za-z][A-Za-z0-9]{0,7}$",s=0},2849:(e,t,n)=>{n.d(t,{D9:()=>y,My:()=>s,XQ:()=>v,dp:()=>f,pL:()=>g,tr:()=>h,tx:()=>b});var a=n(2982),o=n(2167),i=n(6683);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={id:"=",vtype:"*",ktype:"+",enum:"#",pointer:">",format:"/",pattern:"%",minf:"y",maxf:"z",minv:"{",maxv:"}",unique:"q",set:"s",unordered:"b",extend:"X",default:"!"},d={minc:"[",maxc:"]",tagid:"&",dir:"<",key:"K",link:"L"},s={field:Object.keys(d),type:Object.keys(c)},u=(0,i.mc)(r(r({},d),c)),m=["dir","key","link","id","unique","set","unordered","extend"],p=c.enum,v={Binary:[],Boolean:[],Integer:[],Number:[],String:[],Array:[],ArrayOf:["vtype"],Choice:[],Enumerated:[],Map:[],MapOf:["ktype","vtype"],Record:[]},f={Binary:["minv","maxv","format"],Boolean:[],Integer:["minv","maxv","format"],Number:["minf","maxf","format"],String:["minv","maxv","format","pattern"],Array:["extend","format","minv","maxv"],ArrayOf:["vtype","minv","maxv","unique","set","unordered"],Choice:["id","extend"],Enumerated:["id","enum","pointer","extend"],Map:["id","extend","minv","maxv"],MapOf:["ktype","vtype","minv","maxv"],Record:["extend","minv","maxv"]},y={minc:{type:"number",description:"Minimum cardinality"},maxc:{type:"number",description:"Maximum cardinality"},tagid:{description:"Field containing an explicit tag for this Choice type"},dir:{type:"checkbox",description:"Use FieldName as a qualifier for fields in FieldType"},key:{type:"checkbox",description:"Field is a primary key for this type"},link:{type:"checkbox",description:"Field is a relationship link to a type instance"}},b={id:{type:"checkbox",description:"If present, Enumerated values and fields of compound types are denoted by FieldID rather than FieldName"},vtype:{type:"SBCreatableSelect",description:"Value type for ArrayOf and MapOf. It may be any JADN type or Defined type."},ktype:{type:"SBCreatableSelect",description:"Key type for MapOf. ktype SHOULD be a Defined type, either an enumeration or a type with constraints such as a pattern or semantic valuation keyword that specify a fixed subset of values that belong to a category"},enum:{type:"SBCreatableSelect",description:"Extension: Enumerated type derived from the specified Array, Choice, Map or Record type"},pointer:{description:"Extension: Enumerated type containing pointers derived from the specified Array, Choice, Map or Record type"},format:{type:"SBSelect",description:"(optional) Semantic validation keyword"},pattern:{type:"WithRegex",description:"(optional) Regular expression used to validate a String type"},minf:{type:"number",description:"(optional) Minimum real number value"},maxf:{type:"number",description:"(optional) Maximum real number value"},minv:{type:"number",description:"(optional) Minimum numeric value, octet or character count, or element count"},maxv:{type:"number",description:"(optional) Maximum numeric value, octet or character count, or element count"},unique:{type:"checkbox",description:"(optional) If present, an ArrayOf instance must not contain duplicate values"},set:{type:"checkbox",description:"(optional) If present, an ArrayOf instance is unordered and unique"},unordered:{type:"checkbox",description:"(optional) If present, an ArrayOf instance is unordered"},extend:{type:"checkbox",description:"(optional) Type has an extension point where fields may be added"},default:{type:"checkbox",description:"(optional) Default value"}},h=function(e){return i.r3.apply(void 0,(0,a.Z)(e.map((function(e){var t=e.slice(0,1),n=e.slice(1);if(t in u){var a=u[t];return[a,!!m.includes(a)||n]}return[t,n]}))))},g=function(e){var t=(0,i.mc)(u);return Object.keys(e).map((function(n){var a=(0,i.DV)(e,n);return null!=a?("vtype"===n&&(a=(a=a.startsWith("_Enum")?a.replace("_Enum-",p):a).endsWith("$Enum")?"".concat(p).concat(a.replace("$Enum","")):a),"".concat(t[n]).concat(m.includes(n)?"":a)):""})).filter((function(e){return e.length>0}))}}}]);
//# sourceMappingURL=17.bundle.min.js.map